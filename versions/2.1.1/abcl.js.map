{"version":3,"file":"abcl.js","sources":["../../node_modules/bondage-club-mod-sdk/dist/bcmodsdk.js","../../../src/core/logger.ts","../../node_modules/lodash-es/_freeGlobal.js","../../node_modules/lodash-es/_root.js","../../node_modules/lodash-es/_Symbol.js","../../node_modules/lodash-es/_getRawTag.js","../../node_modules/lodash-es/_objectToString.js","../../node_modules/lodash-es/_baseGetTag.js","../../node_modules/lodash-es/isObjectLike.js","../../node_modules/lodash-es/isSymbol.js","../../node_modules/lodash-es/isArray.js","../../node_modules/lodash-es/_trimmedEndIndex.js","../../node_modules/lodash-es/_baseTrim.js","../../node_modules/lodash-es/isObject.js","../../node_modules/lodash-es/toNumber.js","../../node_modules/lodash-es/identity.js","../../node_modules/lodash-es/isFunction.js","../../node_modules/lodash-es/_coreJsData.js","../../node_modules/lodash-es/_isMasked.js","../../node_modules/lodash-es/_toSource.js","../../node_modules/lodash-es/_baseIsNative.js","../../node_modules/lodash-es/_getNative.js","../../node_modules/lodash-es/_getValue.js","../../node_modules/lodash-es/_baseCreate.js","../../node_modules/lodash-es/_shortOut.js","../../node_modules/lodash-es/_defineProperty.js","../../node_modules/lodash-es/_baseSetToString.js","../../node_modules/lodash-es/constant.js","../../node_modules/lodash-es/_setToString.js","../../node_modules/lodash-es/_isIndex.js","../../node_modules/lodash-es/_baseAssignValue.js","../../node_modules/lodash-es/eq.js","../../node_modules/lodash-es/_assignValue.js","../../node_modules/lodash-es/_overRest.js","../../node_modules/lodash-es/_baseRest.js","../../node_modules/lodash-es/_apply.js","../../node_modules/lodash-es/isLength.js","../../node_modules/lodash-es/isArrayLike.js","../../node_modules/lodash-es/_isPrototype.js","../../node_modules/lodash-es/_baseIsArguments.js","../../node_modules/lodash-es/isArguments.js","../../node_modules/lodash-es/isBuffer.js","../../node_modules/lodash-es/stubFalse.js","../../node_modules/lodash-es/_baseIsTypedArray.js","../../node_modules/lodash-es/_nodeUtil.js","../../node_modules/lodash-es/isTypedArray.js","../../node_modules/lodash-es/_baseUnary.js","../../node_modules/lodash-es/_arrayLikeKeys.js","../../node_modules/lodash-es/_baseTimes.js","../../node_modules/lodash-es/_baseKeysIn.js","../../node_modules/lodash-es/_nativeKeysIn.js","../../node_modules/lodash-es/keysIn.js","../../node_modules/lodash-es/_nativeCreate.js","../../node_modules/lodash-es/_hashGet.js","../../node_modules/lodash-es/_hashHas.js","../../node_modules/lodash-es/_Hash.js","../../node_modules/lodash-es/_assocIndexOf.js","../../node_modules/lodash-es/_hashClear.js","../../node_modules/lodash-es/_hashDelete.js","../../node_modules/lodash-es/_hashSet.js","../../node_modules/lodash-es/_listCacheDelete.js","../../node_modules/lodash-es/_ListCache.js","../../node_modules/lodash-es/_listCacheClear.js","../../node_modules/lodash-es/_listCacheGet.js","../../node_modules/lodash-es/_listCacheHas.js","../../node_modules/lodash-es/_listCacheSet.js","../../node_modules/lodash-es/_Map.js","../../node_modules/lodash-es/_getMapData.js","../../node_modules/lodash-es/_isKeyable.js","../../node_modules/lodash-es/_MapCache.js","../../node_modules/lodash-es/_mapCacheClear.js","../../node_modules/lodash-es/_mapCacheDelete.js","../../node_modules/lodash-es/_mapCacheGet.js","../../node_modules/lodash-es/_mapCacheHas.js","../../node_modules/lodash-es/_mapCacheSet.js","../../node_modules/lodash-es/_getPrototype.js","../../node_modules/lodash-es/_overArg.js","../../node_modules/lodash-es/isPlainObject.js","../../node_modules/lodash-es/_Stack.js","../../node_modules/lodash-es/_stackClear.js","../../node_modules/lodash-es/_stackDelete.js","../../node_modules/lodash-es/_stackGet.js","../../node_modules/lodash-es/_stackHas.js","../../node_modules/lodash-es/_stackSet.js","../../node_modules/lodash-es/_cloneBuffer.js","../../node_modules/lodash-es/_Uint8Array.js","../../node_modules/lodash-es/_cloneTypedArray.js","../../node_modules/lodash-es/_cloneArrayBuffer.js","../../node_modules/lodash-es/_baseFor.js","../../node_modules/lodash-es/_createBaseFor.js","../../node_modules/lodash-es/now.js","../../node_modules/lodash-es/debounce.js","../../node_modules/lodash-es/_assignMergeValue.js","../../node_modules/lodash-es/_safeGet.js","../../node_modules/lodash-es/toPlainObject.js","../../node_modules/lodash-es/_copyObject.js","../../node_modules/lodash-es/_baseMergeDeep.js","../../node_modules/lodash-es/isArrayLikeObject.js","../../node_modules/lodash-es/_copyArray.js","../../node_modules/lodash-es/_initCloneObject.js","../../node_modules/lodash-es/_baseMerge.js","../../node_modules/lodash-es/merge.js","../../node_modules/lodash-es/_createAssigner.js","../../node_modules/lodash-es/_isIterateeCall.js","../../../src/constants.ts","../../../src/types/definitions.ts","../../../src/types/types.ts","../../../src/core/settings.ts","../../../src/core/utils.ts","../../../src/screens/styles/css.ts","../../../src/core/player/playerUtils.ts","../../../src/core/player/ui.ts","../../../src/core/player/player.ts","../../../src/core/player/diaper.ts","../../node_modules/lodash-es/throttle.js","../../../src/core/actions/changeDiaper.ts","../../../src/core/actions/checkDiaper.ts","../../../src/core/actions/lickPuddle.ts","../../../src/core/actions/onABCLMessage.ts","../../../src/core/actions/sync.ts","../../../src/core/actions/toPee.ts","../../../src/core/actions/toPoop.ts","../../../src/core/actions/usePotty.ts","../../../src/core/actions/useToilet.ts","../../../src/core/actions/wipePuddle.ts","../../../src/core/actionLoader.ts","../../../src/core/hooks.ts","../../../src/screens/index.ts","../../../src/screens/Settings/index.ts","../../../src/core/minigames.ts","../../../src/core/global.ts","../../node_modules/@sugarch/bc-mod-hook-manager/dist/index.mjs","../../node_modules/@sugarch/bc-asset-manager/dist/index.mjs","../../../src/core/items/untrainerPamps.ts","../../../src/core/items/tempPamp.ts","../../../src/core/customItems.ts","../../../src/main.ts","../../../src/core/api.ts"],"sourcesContent":["// Bondage Club Mod Development Kit (1.2.0)\n// For more info see: https://github.com/Jomshir98/bondage-club-mod-sdk\n/** @type {ModSDKGlobalAPI} */\nvar bcModSdk=function(){\"use strict\";const o=\"1.2.0\";function e(o){alert(\"Mod ERROR:\\n\"+o);const e=new Error(o);throw console.error(e),e}const t=new TextEncoder;function n(o){return!!o&&\"object\"==typeof o&&!Array.isArray(o)}function r(o){const e=new Set;return o.filter((o=>!e.has(o)&&e.add(o)))}const i=new Map,a=new Set;function c(o){a.has(o)||(a.add(o),console.warn(o))}function s(o){const e=[],t=new Map,n=new Set;for(const r of f.values()){const i=r.patching.get(o.name);if(i){e.push(...i.hooks);for(const[e,a]of i.patches.entries())t.has(e)&&t.get(e)!==a&&c(`ModSDK: Mod '${r.name}' is patching function ${o.name} with same pattern that is already applied by different mod, but with different pattern:\\nPattern:\\n${e}\\nPatch1:\\n${t.get(e)||\"\"}\\nPatch2:\\n${a}`),t.set(e,a),n.add(r.name)}}e.sort(((o,e)=>e.priority-o.priority));const r=function(o,e){if(0===e.size)return o;let t=o.toString().replaceAll(\"\\r\\n\",\"\\n\");for(const[n,r]of e.entries())t.includes(n)||c(`ModSDK: Patching ${o.name}: Patch ${n} not applied`),t=t.replaceAll(n,r);return(0,eval)(`(${t})`)}(o.original,t);let i=function(e){var t,i;const a=null===(i=(t=m.errorReporterHooks).hookChainExit)||void 0===i?void 0:i.call(t,o.name,n),c=r.apply(this,e);return null==a||a(),c};for(let t=e.length-1;t>=0;t--){const n=e[t],r=i;i=function(e){var t,i;const a=null===(i=(t=m.errorReporterHooks).hookEnter)||void 0===i?void 0:i.call(t,o.name,n.mod),c=n.hook.apply(this,[e,o=>{if(1!==arguments.length||!Array.isArray(e))throw new Error(`Mod ${n.mod} failed to call next hook: Expected args to be array, got ${typeof o}`);return r.call(this,o)}]);return null==a||a(),c}}return{hooks:e,patches:t,patchesSources:n,enter:i,final:r}}function l(o,e=!1){let r=i.get(o);if(r)e&&(r.precomputed=s(r));else{let e=window;const a=o.split(\".\");for(let t=0;t<a.length-1;t++)if(e=e[a[t]],!n(e))throw new Error(`ModSDK: Function ${o} to be patched not found; ${a.slice(0,t+1).join(\".\")} is not object`);const c=e[a[a.length-1]];if(\"function\"!=typeof c)throw new Error(`ModSDK: Function ${o} to be patched not found`);const l=function(o){let e=-1;for(const n of t.encode(o)){let o=255&(e^n);for(let e=0;e<8;e++)o=1&o?-306674912^o>>>1:o>>>1;e=e>>>8^o}return((-1^e)>>>0).toString(16).padStart(8,\"0\").toUpperCase()}(c.toString().replaceAll(\"\\r\\n\",\"\\n\")),d={name:o,original:c,originalHash:l};r=Object.assign(Object.assign({},d),{precomputed:s(d),router:()=>{},context:e,contextProperty:a[a.length-1]}),r.router=function(o){return function(...e){return o.precomputed.enter.apply(this,[e])}}(r),i.set(o,r),e[r.contextProperty]=r.router}return r}function d(){for(const o of i.values())o.precomputed=s(o)}function p(){const o=new Map;for(const[e,t]of i)o.set(e,{name:e,original:t.original,originalHash:t.originalHash,sdkEntrypoint:t.router,currentEntrypoint:t.context[t.contextProperty],hookedByMods:r(t.precomputed.hooks.map((o=>o.mod))),patchedByMods:Array.from(t.precomputed.patchesSources)});return o}const f=new Map;function u(o){f.get(o.name)!==o&&e(`Failed to unload mod '${o.name}': Not registered`),f.delete(o.name),o.loaded=!1,d()}function g(o,t){o&&\"object\"==typeof o||e(\"Failed to register mod: Expected info object, got \"+typeof o),\"string\"==typeof o.name&&o.name||e(\"Failed to register mod: Expected name to be non-empty string, got \"+typeof o.name);let r=`'${o.name}'`;\"string\"==typeof o.fullName&&o.fullName||e(`Failed to register mod ${r}: Expected fullName to be non-empty string, got ${typeof o.fullName}`),r=`'${o.fullName} (${o.name})'`,\"string\"!=typeof o.version&&e(`Failed to register mod ${r}: Expected version to be string, got ${typeof o.version}`),o.repository||(o.repository=void 0),void 0!==o.repository&&\"string\"!=typeof o.repository&&e(`Failed to register mod ${r}: Expected repository to be undefined or string, got ${typeof o.version}`),null==t&&(t={}),t&&\"object\"==typeof t||e(`Failed to register mod ${r}: Expected options to be undefined or object, got ${typeof t}`);const i=!0===t.allowReplace,a=f.get(o.name);a&&(a.allowReplace&&i||e(`Refusing to load mod ${r}: it is already loaded and doesn't allow being replaced.\\nWas the mod loaded multiple times?`),u(a));const c=o=>{let e=g.patching.get(o.name);return e||(e={hooks:[],patches:new Map},g.patching.set(o.name,e)),e},s=(o,t)=>(...n)=>{var i,a;const c=null===(a=(i=m.errorReporterHooks).apiEndpointEnter)||void 0===a?void 0:a.call(i,o,g.name);g.loaded||e(`Mod ${r} attempted to call SDK function after being unloaded`);const s=t(...n);return null==c||c(),s},p={unload:s(\"unload\",(()=>u(g))),hookFunction:s(\"hookFunction\",((o,t,n)=>{\"string\"==typeof o&&o||e(`Mod ${r} failed to patch a function: Expected function name string, got ${typeof o}`);const i=l(o),a=c(i);\"number\"!=typeof t&&e(`Mod ${r} failed to hook function '${o}': Expected priority number, got ${typeof t}`),\"function\"!=typeof n&&e(`Mod ${r} failed to hook function '${o}': Expected hook function, got ${typeof n}`);const s={mod:g.name,priority:t,hook:n};return a.hooks.push(s),d(),()=>{const o=a.hooks.indexOf(s);o>=0&&(a.hooks.splice(o,1),d())}})),patchFunction:s(\"patchFunction\",((o,t)=>{\"string\"==typeof o&&o||e(`Mod ${r} failed to patch a function: Expected function name string, got ${typeof o}`);const i=l(o),a=c(i);n(t)||e(`Mod ${r} failed to patch function '${o}': Expected patches object, got ${typeof t}`);for(const[n,i]of Object.entries(t))\"string\"==typeof i?a.patches.set(n,i):null===i?a.patches.delete(n):e(`Mod ${r} failed to patch function '${o}': Invalid format of patch '${n}'`);d()})),removePatches:s(\"removePatches\",(o=>{\"string\"==typeof o&&o||e(`Mod ${r} failed to patch a function: Expected function name string, got ${typeof o}`);const t=l(o);c(t).patches.clear(),d()})),callOriginal:s(\"callOriginal\",((o,t,n)=>{\"string\"==typeof o&&o||e(`Mod ${r} failed to call a function: Expected function name string, got ${typeof o}`);const i=l(o);return Array.isArray(t)||e(`Mod ${r} failed to call a function: Expected args array, got ${typeof t}`),i.original.apply(null!=n?n:globalThis,t)})),getOriginalHash:s(\"getOriginalHash\",(o=>{\"string\"==typeof o&&o||e(`Mod ${r} failed to get hash: Expected function name string, got ${typeof o}`);return l(o).originalHash}))},g={name:o.name,fullName:o.fullName,version:o.version,repository:o.repository,allowReplace:i,api:p,loaded:!0,patching:new Map};return f.set(o.name,g),Object.freeze(p)}function h(){const o=[];for(const e of f.values())o.push({name:e.name,fullName:e.fullName,version:e.version,repository:e.repository});return o}let m;const y=void 0===window.bcModSdk?window.bcModSdk=function(){const e={version:o,apiVersion:1,registerMod:g,getModsInfo:h,getPatchingInfo:p,errorReporterHooks:Object.seal({apiEndpointEnter:null,hookEnter:null,hookChainExit:null})};return m=e,Object.freeze(e)}():(n(window.bcModSdk)||e(\"Failed to init Mod SDK: Name already in use\"),1!==window.bcModSdk.apiVersion&&e(`Failed to init Mod SDK: Different version already loaded ('1.2.0' vs '${window.bcModSdk.version}')`),window.bcModSdk.version!==o&&alert(`Mod SDK warning: Loading different but compatible versions ('1.2.0' vs '${window.bcModSdk.version}')\\nOne of mods you are using is using an old version of SDK. It will work for now but please inform author to update`),window.bcModSdk);return\"undefined\"!=typeof exports&&(Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=y),y}();\n","class Logger {\r\n  private logsArray: Array<{\r\n    level: string;\r\n    timestamp: string;\r\n    message: any;\r\n  }> = [];\r\n  private maxLogSize: number = 100;\r\n\r\n  private log(level: string, message: any, logFunction: (...args: any[]) => void) {\r\n    const timestamp = new Date().toISOString();\r\n    const logEntry = {\r\n      message,\r\n      level,\r\n      version: modVersion,\r\n      timestamp,\r\n    };\r\n\r\n    logFunction(`%c${modIdentifier}:`, `font-weight: bold; color: #f6cbde;`, logEntry);\r\n\r\n    this.logsArray.push(logEntry);\r\n\r\n    if (this.logsArray.length > this.maxLogSize) {\r\n      this.logsArray.shift();\r\n    }\r\n  }\r\n\r\n  info(message: any) {\r\n    this.log(\"INFO\", message, console.log);\r\n  }\r\n\r\n  debug(message: any) {\r\n    this.log(\"DEBUG\", message, console.debug);\r\n  }\r\n\r\n  warn(message: any) {\r\n    this.log(\"WARN\", message, console.warn);\r\n  }\r\n\r\n  error(message: any) {\r\n    this.log(\"ERROR\", message, console.error);\r\n  }\r\n\r\n  getLogs() {\r\n    return this.logsArray;\r\n  }\r\n}\r\n\r\nexport const logger = new Logger();\r\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nexport default freeGlobal;\n","import freeGlobal from './_freeGlobal.js';\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nexport default root;\n","import root from './_root.js';\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nexport default Symbol;\n","import Symbol from './_Symbol.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nexport default getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nexport default objectToString;\n","import Symbol from './_Symbol.js';\nimport getRawTag from './_getRawTag.js';\nimport objectToString from './_objectToString.js';\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nexport default baseGetTag;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nexport default isObjectLike;\n","import baseGetTag from './_baseGetTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nexport default isSymbol;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nexport default isArray;\n","/** Used to match a single whitespace character. */\nvar reWhitespace = /\\s/;\n\n/**\n * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n * character of `string`.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {number} Returns the index of the last non-whitespace character.\n */\nfunction trimmedEndIndex(string) {\n  var index = string.length;\n\n  while (index-- && reWhitespace.test(string.charAt(index))) {}\n  return index;\n}\n\nexport default trimmedEndIndex;\n","import trimmedEndIndex from './_trimmedEndIndex.js';\n\n/** Used to match leading whitespace. */\nvar reTrimStart = /^\\s+/;\n\n/**\n * The base implementation of `_.trim`.\n *\n * @private\n * @param {string} string The string to trim.\n * @returns {string} Returns the trimmed string.\n */\nfunction baseTrim(string) {\n  return string\n    ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '')\n    : string;\n}\n\nexport default baseTrim;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nexport default isObject;\n","import baseTrim from './_baseTrim.js';\nimport isObject from './isObject.js';\nimport isSymbol from './isSymbol.js';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = baseTrim(value);\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nexport default toNumber;\n","/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nexport default identity;\n","import baseGetTag from './_baseGetTag.js';\nimport isObject from './isObject.js';\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nexport default isFunction;\n","import root from './_root.js';\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nexport default coreJsData;\n","import coreJsData from './_coreJsData.js';\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nexport default isMasked;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nexport default toSource;\n","import isFunction from './isFunction.js';\nimport isMasked from './_isMasked.js';\nimport isObject from './isObject.js';\nimport toSource from './_toSource.js';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nexport default baseIsNative;\n","import baseIsNative from './_baseIsNative.js';\nimport getValue from './_getValue.js';\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nexport default getNative;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nexport default getValue;\n","import isObject from './isObject.js';\n\n/** Built-in value references. */\nvar objectCreate = Object.create;\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} proto The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nvar baseCreate = (function() {\n  function object() {}\n  return function(proto) {\n    if (!isObject(proto)) {\n      return {};\n    }\n    if (objectCreate) {\n      return objectCreate(proto);\n    }\n    object.prototype = proto;\n    var result = new object;\n    object.prototype = undefined;\n    return result;\n  };\n}());\n\nexport default baseCreate;\n","/** Used to detect hot functions by number of calls within a span of milliseconds. */\nvar HOT_COUNT = 800,\n    HOT_SPAN = 16;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeNow = Date.now;\n\n/**\n * Creates a function that'll short out and invoke `identity` instead\n * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n * milliseconds.\n *\n * @private\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new shortable function.\n */\nfunction shortOut(func) {\n  var count = 0,\n      lastCalled = 0;\n\n  return function() {\n    var stamp = nativeNow(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return arguments[0];\n      }\n    } else {\n      count = 0;\n    }\n    return func.apply(undefined, arguments);\n  };\n}\n\nexport default shortOut;\n","import getNative from './_getNative.js';\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\nexport default defineProperty;\n","import constant from './constant.js';\nimport defineProperty from './_defineProperty.js';\nimport identity from './identity.js';\n\n/**\n * The base implementation of `setToString` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar baseSetToString = !defineProperty ? identity : function(func, string) {\n  return defineProperty(func, 'toString', {\n    'configurable': true,\n    'enumerable': false,\n    'value': constant(string),\n    'writable': true\n  });\n};\n\nexport default baseSetToString;\n","/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant(value) {\n  return function() {\n    return value;\n  };\n}\n\nexport default constant;\n","import baseSetToString from './_baseSetToString.js';\nimport shortOut from './_shortOut.js';\n\n/**\n * Sets the `toString` method of `func` to return `string`.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar setToString = shortOut(baseSetToString);\n\nexport default setToString;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nexport default isIndex;\n","import defineProperty from './_defineProperty.js';\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\nexport default baseAssignValue;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nexport default eq;\n","import baseAssignValue from './_baseAssignValue.js';\nimport eq from './eq.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nexport default assignValue;\n","import apply from './_apply.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\nexport default overRest;\n","import identity from './identity.js';\nimport overRest from './_overRest.js';\nimport setToString from './_setToString.js';\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  return setToString(overRest(func, start, identity), func + '');\n}\n\nexport default baseRest;\n","/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\nexport default apply;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nexport default isLength;\n","import isFunction from './isFunction.js';\nimport isLength from './isLength.js';\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nexport default isArrayLike;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nexport default isPrototype;\n","import baseGetTag from './_baseGetTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nexport default baseIsArguments;\n","import baseIsArguments from './_baseIsArguments.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nexport default isArguments;\n","import root from './_root.js';\nimport stubFalse from './stubFalse.js';\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nexport default isBuffer;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nexport default stubFalse;\n","import baseGetTag from './_baseGetTag.js';\nimport isLength from './isLength.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nexport default baseIsTypedArray;\n","import freeGlobal from './_freeGlobal.js';\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nexport default nodeUtil;\n","import baseIsTypedArray from './_baseIsTypedArray.js';\nimport baseUnary from './_baseUnary.js';\nimport nodeUtil from './_nodeUtil.js';\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nexport default isTypedArray;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nexport default baseUnary;\n","import baseTimes from './_baseTimes.js';\nimport isArguments from './isArguments.js';\nimport isArray from './isArray.js';\nimport isBuffer from './isBuffer.js';\nimport isIndex from './_isIndex.js';\nimport isTypedArray from './isTypedArray.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nexport default arrayLikeKeys;\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nexport default baseTimes;\n","import isObject from './isObject.js';\nimport isPrototype from './_isPrototype.js';\nimport nativeKeysIn from './_nativeKeysIn.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  if (!isObject(object)) {\n    return nativeKeysIn(object);\n  }\n  var isProto = isPrototype(object),\n      result = [];\n\n  for (var key in object) {\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nexport default baseKeysIn;\n","/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nexport default nativeKeysIn;\n","import arrayLikeKeys from './_arrayLikeKeys.js';\nimport baseKeysIn from './_baseKeysIn.js';\nimport isArrayLike from './isArrayLike.js';\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n}\n\nexport default keysIn;\n","import getNative from './_getNative.js';\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nexport default nativeCreate;\n","import nativeCreate from './_nativeCreate.js';\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nexport default hashGet;\n","import nativeCreate from './_nativeCreate.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nexport default hashHas;\n","import hashClear from './_hashClear.js';\nimport hashDelete from './_hashDelete.js';\nimport hashGet from './_hashGet.js';\nimport hashHas from './_hashHas.js';\nimport hashSet from './_hashSet.js';\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nexport default Hash;\n","import eq from './eq.js';\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nexport default assocIndexOf;\n","import nativeCreate from './_nativeCreate.js';\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nexport default hashClear;\n","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nexport default hashDelete;\n","import nativeCreate from './_nativeCreate.js';\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nexport default hashSet;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nexport default listCacheDelete;\n","import listCacheClear from './_listCacheClear.js';\nimport listCacheDelete from './_listCacheDelete.js';\nimport listCacheGet from './_listCacheGet.js';\nimport listCacheHas from './_listCacheHas.js';\nimport listCacheSet from './_listCacheSet.js';\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nexport default ListCache;\n","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nexport default listCacheClear;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nexport default listCacheGet;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nexport default listCacheHas;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nexport default listCacheSet;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nexport default Map;\n","import isKeyable from './_isKeyable.js';\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nexport default getMapData;\n","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nexport default isKeyable;\n","import mapCacheClear from './_mapCacheClear.js';\nimport mapCacheDelete from './_mapCacheDelete.js';\nimport mapCacheGet from './_mapCacheGet.js';\nimport mapCacheHas from './_mapCacheHas.js';\nimport mapCacheSet from './_mapCacheSet.js';\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nexport default MapCache;\n","import Hash from './_Hash.js';\nimport ListCache from './_ListCache.js';\nimport Map from './_Map.js';\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nexport default mapCacheClear;\n","import getMapData from './_getMapData.js';\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nexport default mapCacheDelete;\n","import getMapData from './_getMapData.js';\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nexport default mapCacheGet;\n","import getMapData from './_getMapData.js';\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nexport default mapCacheHas;\n","import getMapData from './_getMapData.js';\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nexport default mapCacheSet;\n","import overArg from './_overArg.js';\n\n/** Built-in value references. */\nvar getPrototype = overArg(Object.getPrototypeOf, Object);\n\nexport default getPrototype;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nexport default overArg;\n","import baseGetTag from './_baseGetTag.js';\nimport getPrototype from './_getPrototype.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString.call(Object);\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n    return false;\n  }\n  var proto = getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n  return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n    funcToString.call(Ctor) == objectCtorString;\n}\n\nexport default isPlainObject;\n","import ListCache from './_ListCache.js';\nimport stackClear from './_stackClear.js';\nimport stackDelete from './_stackDelete.js';\nimport stackGet from './_stackGet.js';\nimport stackHas from './_stackHas.js';\nimport stackSet from './_stackSet.js';\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nexport default Stack;\n","import ListCache from './_ListCache.js';\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\nexport default stackClear;\n","/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\nexport default stackDelete;\n","/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nexport default stackGet;\n","/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nexport default stackHas;\n","import ListCache from './_ListCache.js';\nimport Map from './_Map.js';\nimport MapCache from './_MapCache.js';\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nexport default stackSet;\n","import root from './_root.js';\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined;\n\n/**\n * Creates a clone of  `buffer`.\n *\n * @private\n * @param {Buffer} buffer The buffer to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Buffer} Returns the cloned buffer.\n */\nfunction cloneBuffer(buffer, isDeep) {\n  if (isDeep) {\n    return buffer.slice();\n  }\n  var length = buffer.length,\n      result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n  buffer.copy(result);\n  return result;\n}\n\nexport default cloneBuffer;\n","import root from './_root.js';\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\nexport default Uint8Array;\n","import cloneArrayBuffer from './_cloneArrayBuffer.js';\n\n/**\n * Creates a clone of `typedArray`.\n *\n * @private\n * @param {Object} typedArray The typed array to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned typed array.\n */\nfunction cloneTypedArray(typedArray, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n}\n\nexport default cloneTypedArray;\n","import Uint8Array from './_Uint8Array.js';\n\n/**\n * Creates a clone of `arrayBuffer`.\n *\n * @private\n * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n * @returns {ArrayBuffer} Returns the cloned array buffer.\n */\nfunction cloneArrayBuffer(arrayBuffer) {\n  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n  new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n  return result;\n}\n\nexport default cloneArrayBuffer;\n","import createBaseFor from './_createBaseFor.js';\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\nexport default baseFor;\n","/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\nexport default createBaseFor;\n","import root from './_root.js';\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\nexport default now;\n","import isObject from './isObject.js';\nimport now from './now.js';\nimport toNumber from './toNumber.js';\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nexport default debounce;\n","import baseAssignValue from './_baseAssignValue.js';\nimport eq from './eq.js';\n\n/**\n * This function is like `assignValue` except that it doesn't assign\n * `undefined` values.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignMergeValue(object, key, value) {\n  if ((value !== undefined && !eq(object[key], value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nexport default assignMergeValue;\n","/**\n * Gets the value at `key`, unless `key` is \"__proto__\" or \"constructor\".\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction safeGet(object, key) {\n  if (key === 'constructor' && typeof object[key] === 'function') {\n    return;\n  }\n\n  if (key == '__proto__') {\n    return;\n  }\n\n  return object[key];\n}\n\nexport default safeGet;\n","import copyObject from './_copyObject.js';\nimport keysIn from './keysIn.js';\n\n/**\n * Converts `value` to a plain object flattening inherited enumerable string\n * keyed properties of `value` to own properties of the plain object.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {Object} Returns the converted plain object.\n * @example\n *\n * function Foo() {\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.assign({ 'a': 1 }, new Foo);\n * // => { 'a': 1, 'b': 2 }\n *\n * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n * // => { 'a': 1, 'b': 2, 'c': 3 }\n */\nfunction toPlainObject(value) {\n  return copyObject(value, keysIn(value));\n}\n\nexport default toPlainObject;\n","import assignValue from './_assignValue.js';\nimport baseAssignValue from './_baseAssignValue.js';\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  var isNew = !object;\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    if (newValue === undefined) {\n      newValue = source[key];\n    }\n    if (isNew) {\n      baseAssignValue(object, key, newValue);\n    } else {\n      assignValue(object, key, newValue);\n    }\n  }\n  return object;\n}\n\nexport default copyObject;\n","import assignMergeValue from './_assignMergeValue.js';\nimport cloneBuffer from './_cloneBuffer.js';\nimport cloneTypedArray from './_cloneTypedArray.js';\nimport copyArray from './_copyArray.js';\nimport initCloneObject from './_initCloneObject.js';\nimport isArguments from './isArguments.js';\nimport isArray from './isArray.js';\nimport isArrayLikeObject from './isArrayLikeObject.js';\nimport isBuffer from './isBuffer.js';\nimport isFunction from './isFunction.js';\nimport isObject from './isObject.js';\nimport isPlainObject from './isPlainObject.js';\nimport isTypedArray from './isTypedArray.js';\nimport safeGet from './_safeGet.js';\nimport toPlainObject from './toPlainObject.js';\n\n/**\n * A specialized version of `baseMerge` for arrays and objects which performs\n * deep merges and tracks traversed objects enabling objects with circular\n * references to be merged.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {string} key The key of the value to merge.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} mergeFunc The function to merge values.\n * @param {Function} [customizer] The function to customize assigned values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {\n  var objValue = safeGet(object, key),\n      srcValue = safeGet(source, key),\n      stacked = stack.get(srcValue);\n\n  if (stacked) {\n    assignMergeValue(object, key, stacked);\n    return;\n  }\n  var newValue = customizer\n    ? customizer(objValue, srcValue, (key + ''), object, source, stack)\n    : undefined;\n\n  var isCommon = newValue === undefined;\n\n  if (isCommon) {\n    var isArr = isArray(srcValue),\n        isBuff = !isArr && isBuffer(srcValue),\n        isTyped = !isArr && !isBuff && isTypedArray(srcValue);\n\n    newValue = srcValue;\n    if (isArr || isBuff || isTyped) {\n      if (isArray(objValue)) {\n        newValue = objValue;\n      }\n      else if (isArrayLikeObject(objValue)) {\n        newValue = copyArray(objValue);\n      }\n      else if (isBuff) {\n        isCommon = false;\n        newValue = cloneBuffer(srcValue, true);\n      }\n      else if (isTyped) {\n        isCommon = false;\n        newValue = cloneTypedArray(srcValue, true);\n      }\n      else {\n        newValue = [];\n      }\n    }\n    else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n      newValue = objValue;\n      if (isArguments(objValue)) {\n        newValue = toPlainObject(objValue);\n      }\n      else if (!isObject(objValue) || isFunction(objValue)) {\n        newValue = initCloneObject(srcValue);\n      }\n    }\n    else {\n      isCommon = false;\n    }\n  }\n  if (isCommon) {\n    // Recursively merge objects and arrays (susceptible to call stack limits).\n    stack.set(srcValue, newValue);\n    mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\n    stack['delete'](srcValue);\n  }\n  assignMergeValue(object, key, newValue);\n}\n\nexport default baseMergeDeep;\n","import isArrayLike from './isArrayLike.js';\nimport isObjectLike from './isObjectLike.js';\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\nexport default isArrayLikeObject;\n","/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\nexport default copyArray;\n","import baseCreate from './_baseCreate.js';\nimport getPrototype from './_getPrototype.js';\nimport isPrototype from './_isPrototype.js';\n\n/**\n * Initializes an object clone.\n *\n * @private\n * @param {Object} object The object to clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneObject(object) {\n  return (typeof object.constructor == 'function' && !isPrototype(object))\n    ? baseCreate(getPrototype(object))\n    : {};\n}\n\nexport default initCloneObject;\n","import Stack from './_Stack.js';\nimport assignMergeValue from './_assignMergeValue.js';\nimport baseFor from './_baseFor.js';\nimport baseMergeDeep from './_baseMergeDeep.js';\nimport isObject from './isObject.js';\nimport keysIn from './keysIn.js';\nimport safeGet from './_safeGet.js';\n\n/**\n * The base implementation of `_.merge` without support for multiple sources.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} [customizer] The function to customize merged values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMerge(object, source, srcIndex, customizer, stack) {\n  if (object === source) {\n    return;\n  }\n  baseFor(source, function(srcValue, key) {\n    stack || (stack = new Stack);\n    if (isObject(srcValue)) {\n      baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);\n    }\n    else {\n      var newValue = customizer\n        ? customizer(safeGet(object, key), srcValue, (key + ''), object, source, stack)\n        : undefined;\n\n      if (newValue === undefined) {\n        newValue = srcValue;\n      }\n      assignMergeValue(object, key, newValue);\n    }\n  }, keysIn);\n}\n\nexport default baseMerge;\n","import baseMerge from './_baseMerge.js';\nimport createAssigner from './_createAssigner.js';\n\n/**\n * This method is like `_.assign` except that it recursively merges own and\n * inherited enumerable string keyed properties of source objects into the\n * destination object. Source properties that resolve to `undefined` are\n * skipped if a destination value exists. Array and plain object properties\n * are merged recursively. Other objects and value types are overridden by\n * assignment. Source objects are applied from left to right. Subsequent\n * sources overwrite property assignments of previous sources.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 0.5.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @example\n *\n * var object = {\n *   'a': [{ 'b': 2 }, { 'd': 4 }]\n * };\n *\n * var other = {\n *   'a': [{ 'c': 3 }, { 'e': 5 }]\n * };\n *\n * _.merge(object, other);\n * // => { 'a': [{ 'b': 2, 'c': 3 }, { 'd': 4, 'e': 5 }] }\n */\nvar merge = createAssigner(function(object, source, srcIndex) {\n  baseMerge(object, source, srcIndex);\n});\n\nexport default merge;\n","import baseRest from './_baseRest.js';\nimport isIterateeCall from './_isIterateeCall.js';\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return baseRest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = (assigner.length > 3 && typeof customizer == 'function')\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\nexport default createAssigner;\n","import eq from './eq.js';\nimport isArrayLike from './isArrayLike.js';\nimport isIndex from './_isIndex.js';\nimport isObject from './isObject.js';\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\nexport default isIterateeCall;\n","import abclData from \"./assets/dictionary.json\" assert { type: \"json\" };\r\nexport const ABCLdata = abclData;\r\n\r\nexport const loopInterval = 60 * 1000;\r\n\r\n//balancing\r\n\r\nexport const INCONTINENCE_ON_MINIGAME_FAILURE = 0.005;\r\nexport const INCONTINENCE_ON_MINIGAME_SUCCESS = -0.01;\r\nexport const INCONTINENCE_ON_POTTY_USE = -0.01;\r\nexport const INCONTINENCE_ON_TOILET_USE = -0.01;\r\n\r\nexport const ACCIDENTS_ON_ACTIVITIES: Partial<Record<Activity[\"Name\"], { wetting?: number; messing?: number }>> = {\r\n  Tickle: { wetting: 0.05, messing: 0.01 },\r\n  TickleItem: { wetting: 0.08, messing: 0.01 },\r\n  Spank: { wetting: 0.12, messing: 0.15 },\r\n  ShockItem: { wetting: 0.15, messing: 0.2 },\r\n  Kick: { wetting: 0.05, messing: 0.05 },\r\n  Rub: { wetting: 0.01 },\r\n  SpankItem: { wetting: 0.15, messing: 0.2 },\r\n  Slap: { wetting: 0.03, messing: 0.04 },\r\n  Grope: { wetting: 0.06, messing: 0.05 },\r\n};\r\n","export const ModVersion = modVersion;\r\nexport const ModName = modName;\r\nexport const ModRepo = modRepo;\r\nexport const ModIdentifier = modIdentifier;\r\nexport const PublicURL = publicURL;\r\n","import { changeDiaper, changeDiaperListeners } from \"../core/actions/changeDiaper\";\r\nimport { checkDiaper } from \"../core/actions/checkDiaper\";\r\nimport { lickPuddleListeners } from \"../core/actions/lickPuddle\";\r\nimport { onABCLMessageListeners } from \"../core/actions/onABCLMessage\";\r\nimport { sync, syncListeners } from \"../core/actions/sync\";\r\nimport { toPee } from \"../core/actions/toPee\";\r\nimport { toPoop } from \"../core/actions/toPoop\";\r\nimport { usePotty } from \"../core/actions/usePotty\";\r\nimport { useToilet } from \"../core/actions/useToilet\";\r\nimport { wipePuddleListeners } from \"../core/actions/wipePuddle\";\r\nimport { ModVersion } from \"./definitions\";\r\n\r\nexport type PartialDeep<T> = {\r\n  [P in keyof T]?: PartialDeep<T[P]>;\r\n};\r\n\r\nexport const MetabolismSettings: Record<MetabolismSetting, MetabolismSetting> = {\r\n  Disabled: \"Disabled\",\r\n  Normal: \"Normal\",\r\n  Slow: \"Slow\",\r\n  Fast: \"Fast\",\r\n  Faster: \"Faster\",\r\n  Fastest: \"Fastest\",\r\n} as const;\r\n\r\nexport const DiaperSettingValues: Record<DiaperChangePromptSetting, DiaperChangePromptSetting> = {\r\n  Deny: \"Deny\",\r\n  Ask: \"Ask\",\r\n  Allow: \"Allow\",\r\n} as const;\r\nexport const MetabolismSettingValues: Record<MetabolismSetting, number> = {\r\n  Disabled: 0,\r\n  Slow: 0.5,\r\n  Normal: 1,\r\n  Fast: 1.5,\r\n  Faster: 2,\r\n  Fastest: 3,\r\n} as const;\r\n\r\n// entries\r\nexport type NewSettingsEntry = {\r\n  type: \"newSettings\";\r\n  settings: Partial<ModSettings>;\r\n  version: typeof ModVersion;\r\n};\r\nexport type SyncEntry = {\r\n  type: \"sync\";\r\n  settings: ModSettings;\r\n  stats: ModStats;\r\n  version: typeof ModVersion;\r\n  target?: number;\r\n};\r\nexport type InitEntry = {\r\n  type: \"init\";\r\n};\r\n\r\nexport type LickPuddleEntry = {\r\n  type: \"lickPuddle\";\r\n};\r\nexport type WipePuddleEntry = {\r\n  type: \"wipePuddle\";\r\n};\r\nexport type MessageEntry = SyncEntry | InitEntry | NewSettingsEntry | LickPuddleEntry | WipePuddleEntry;\r\n\r\nexport interface PluginServerChatRoomMessage extends ServerChatRoomMessageBase {\r\n  /** The character to target the message at. null means it's broadcast to the room. */\r\n  Target?: number;\r\n  Content: ServerChatRoomMessageContentType;\r\n  Type: ServerChatRoomMessageType;\r\n  Dictionary?: {\r\n    type: string;\r\n    data?: any;\r\n  }[];\r\n  Timeout?: number;\r\n}\r\nexport type PreferenceActivity = {\r\n  self: number;\r\n  other: number;\r\n  isSelfExclusive: boolean;\r\n};\r\n\r\nexport type ModScreen = {\r\n  id: string;\r\n  module: string;\r\n  functions: ScreenFunctions;\r\n};\r\n\r\nexport enum PermissionLevels {\r\n  Anyone = 0,\r\n  ItemPermission = 1,\r\n  Friends = 2,\r\n  Lovers = 3,\r\n  // TODO: Mistress = 4 Perhaps counts mistress as BCX Mistresses, BCC Caretakers, etc\r\n  Owner = 5, // TODO: Consider BCX owners, BCC Mommies, etc\r\n  Self = 6,\r\n}\r\nexport type ABCLActivity = {\r\n  ID: string;\r\n  Name: string;\r\n  Image: string;\r\n  OnClick?: (player: Character, group: AssetGroupItemName) => void;\r\n  Target?: AssetGroupItemName[];\r\n  TargetSelf?: AssetGroupItemName[];\r\n  Criteria?: (player: Character) => boolean;\r\n};\r\n\r\nexport type HookListener<T> = (raw: PluginServerChatRoomMessage, data: T) => void;\r\nexport type ListenerTypeMap = syncListeners & wipePuddleListeners & lickPuddleListeners & changeDiaperListeners & onABCLMessageListeners;\r\n\r\nexport type CombinedAction = {\r\n  activity?: ABCLActivity;\r\n  command?: ICommand;\r\n  listeners?: Partial<{\r\n    [K in keyof ListenerTypeMap]: HookListener<ListenerTypeMap[K]>;\r\n  }>;\r\n};\r\n","import { merge, debounce } from \"lodash-es\";\r\nimport { DiaperSettingValues, MetabolismSettings, PartialDeep } from \"../types/types\";\r\nimport { sendUpdateMyData as sendUpdateMyData } from \"./hooks\";\r\nimport { logger } from \"./logger\";\r\n\r\nexport const defaultSettings: ModSettings = {\r\n  PeeMetabolism: MetabolismSettings.Normal,\r\n  PoopMetabolism: MetabolismSettings.Normal,\r\n  OpenRemoteSettings: false,\r\n  LockedOutOfSettings: false,\r\n  DisableWettingLeaks: false,\r\n  DisableSoilingLeaks: true,\r\n  OnDiaperChange: DiaperSettingValues.Ask,\r\n  VisibleMessages: {\r\n    changeDiaper: true,\r\n    checkDiaper: true,\r\n    lickPuddle: true,\r\n    wetDiaper: true,\r\n    wetClothing: true,\r\n    soilDiaper: true,\r\n    soilClothing: true,\r\n    usePotty: true,\r\n    useToilet: true,\r\n    wipePuddle: true,\r\n    statusMessages: false,\r\n  },\r\n  StatusMessages: {\r\n    Bladder: true,\r\n    Bowel: true,\r\n    Soiliness: true,\r\n    Wetness: true,\r\n    MentalRegression: true,\r\n    Incontinence: true,\r\n    PuddleSize: true,\r\n  },\r\n  DisableClothingStains: false,\r\n  DisableDiaperStains: false,\r\n  AccidentsByActivities: true,\r\n};\r\n\r\nexport const defaultStats: ModStats = {\r\n  PuddleSize: {\r\n    value: 0,\r\n  },\r\n  Bladder: {\r\n    value: 0, // in ml\r\n    size: 300, // in ml, quite arbitrary\r\n  },\r\n  Bowel: {\r\n    value: 0, // in ml\r\n    size: 200, // in ml\r\n  },\r\n  Soiliness: {\r\n    value: 0, // in ml\r\n  },\r\n  Wetness: {\r\n    value: 0, // in ml\r\n  },\r\n  WaterIntake: {\r\n    value: 300 / 20, // accident every 20 minutes\r\n  },\r\n  FoodIntake: {\r\n    value: 200 / 60,\r\n  },\r\n  Incontinence: {\r\n    value: 0,\r\n  },\r\n  MentalRegression: {\r\n    value: 0,\r\n  },\r\n};\r\nconst defaultData: ModStorageModel = {\r\n  Settings: defaultSettings,\r\n  Stats: defaultStats,\r\n};\r\n\r\nexport const updateData = (newData: PartialDeep<ModStorageModel>) => {\r\n  Player[modIdentifier] = merge(Player[modIdentifier] || defaultData, newData);\r\n  syncData();\r\n};\r\n\r\nexport const syncData = debounce(() => {\r\n  const compressed = LZString.compressToBase64(JSON.stringify(Player[modIdentifier]));\r\n  Player.ExtensionSettings[modIdentifier] = compressed;\r\n  ServerPlayerExtensionSettingsSync(modIdentifier);\r\n  sendUpdateMyData();\r\n}, 1000);\r\n\r\n//const devMode = false; use clearData() // Manually toggle during local development if needed to clear settings\r\nexport const loadOrGenerateData = async () => {\r\n  const dataString = LZString.decompressFromBase64(Player.ExtensionSettings[modIdentifier]);\r\n  const data = dataString\r\n    ? JSON.parse(dataString)\r\n    : {\r\n        Settings: {},\r\n        Stats: {},\r\n      };\r\n\r\n  // migrations\r\n  if (data.ModVersion === \"2.0.0\") {\r\n    const metabolismValue = data.Settings.Metabolism;\r\n    const disableWetting = data.Settings.DisableWetting;\r\n    data.Settings = {\r\n      ...Object.fromEntries(\r\n        Object.entries(data.Settings as Record<string, { value: any }>)\r\n          .filter(([key]) => ![\"DisableWetting\", \"DisableSoiling\", \"Metabolism\", \"CaregiverIDs\"].includes(key))\r\n          .map(([key, { value }]) => [key, value]),\r\n      ),\r\n      PeeMetabolism: disableWetting ? \"Disabled\" : metabolismValue,\r\n      PoopMetabolism: disableWetting ? \"Disabled\" : metabolismValue,\r\n    };\r\n    data.ModVersion = undefined;\r\n    data.Version = \"2.0.1\";\r\n  }\r\n\r\n  const modStorageObject = merge(\r\n    {\r\n      Settings: defaultSettings,\r\n      Stats: defaultStats,\r\n      Version: modVersion,\r\n    },\r\n    data,\r\n  );\r\n  logger.debug({ message: \"Merged settings object\", modStorageObject });\r\n  Player[modIdentifier] = modStorageObject;\r\n};\r\n\r\nexport const clearData = () => {\r\n  Player.ExtensionSettings[modIdentifier] = \"N4XyA===\"; // Empty object compressed\r\n  ServerPlayerExtensionSettingsSync(modIdentifier);\r\n  logger.warn(\"cleared data\");\r\n};\r\n","import bcModSdkRef from \"bondage-club-mod-sdk\";\r\nimport { ModName, ModRepo, ModVersion } from \"../types/definitions\";\r\nimport { PermissionLevels } from \"../types/types\";\r\nimport { syncData } from \"./settings\";\r\nimport { logger } from \"./logger\";\r\n\r\nexport const bcModSDK = bcModSdkRef.registerMod({\r\n  name: ModName,\r\n  fullName: ModName,\r\n  version: ModVersion,\r\n  repository: ModRepo,\r\n});\r\n\r\nexport enum HookPriority {\r\n  OBSERVE = 0,\r\n  ADD_BEHAVIOR = 1,\r\n  MODIFY_BEHAVIOR = 5,\r\n  OVERRIDE_BEHAVIOR = 10,\r\n  TOP = 100,\r\n}\r\nexport function isObject(obj: unknown): obj is Record<string, any> {\r\n  return !!obj && typeof obj === \"object\" && !Array.isArray(obj);\r\n}\r\n\r\nexport async function waitFor(func: { (): any; (): boolean; (): any }, cancelFunc = () => false) {\r\n  while (!func()) {\r\n    if (cancelFunc()) return false;\r\n    await new Promise(resolve => setTimeout(resolve, 10));\r\n  }\r\n  return true;\r\n}\r\n\r\nexport const sendChatLocal = (message: string, classes: string[] = [], style?: string, local: boolean = true): void => {\r\n  if (!ServerPlayerIsInChatRoom()) return;\r\n  const msgElement = document.createElement(\"div\");\r\n  msgElement.innerHTML =\r\n    ((local && \"(local) \") || \"\") +\r\n    message\r\n      .split(\"\\n\")\r\n      .map(line => line.trim())\r\n      .join(\"<br/>\");\r\n  msgElement.classList.add(`${modIdentifier}LocalMessage`, \"ChatMessage\", ...classes);\r\n  if (style) {\r\n    msgElement.style.cssText = style;\r\n  }\r\n  document.querySelector(\"#TextAreaChatLog\")?.appendChild(msgElement);\r\n  ElementScrollToEnd(\"TextAreaChatLog\");\r\n};\r\n\r\nexport const getMyMaxPermissionLevel = (target: Character) => {\r\n  if (target.MemberNumber === Player.MemberNumber) return PermissionLevels.Self;\r\n  if (target.IsOwnedByPlayer()) return PermissionLevels.Owner;\r\n  if (target.IsLoverOfPlayer()) return PermissionLevels.Lovers;\r\n\r\n  if (target.MemberNumber && Player.FriendList?.includes(target.MemberNumber)) return PermissionLevels.Friends;\r\n\r\n  if (ServerChatRoomGetAllowItem(Player, target)) return PermissionLevels.ItemPermission;\r\n\r\n  return PermissionLevels.Anyone;\r\n};\r\n\r\n// might be useful\r\nexport class Saver {\r\n  private lastSaveTime: number = 0;\r\n  private allowedSaveInterval: number;\r\n  constructor(allowedSaveInterval: number) {\r\n    this.allowedSaveInterval = allowedSaveInterval;\r\n  }\r\n  save() {\r\n    if (Date.now() - this.lastSaveTime > this.allowedSaveInterval) {\r\n      syncData();\r\n      this.lastSaveTime = Date.now();\r\n    }\r\n  }\r\n}\r\n\r\nexport const waitForElement = async (selector: string, options: { childCheck?: boolean; timeout?: number } = {}): Promise<Element> => {\r\n  return new Promise((resolve, reject) => {\r\n    const element = document.querySelector(selector);\r\n    if (element) {\r\n      resolve(element);\r\n      return;\r\n    }\r\n\r\n    const observer = new MutationObserver(() => {\r\n      const target = document.querySelector(selector);\r\n      if (target && (!options.childCheck || target.childElementCount > 0)) {\r\n        observer.disconnect();\r\n        clearTimeout(timeoutId);\r\n        resolve(target);\r\n      }\r\n    });\r\n\r\n    observer.observe(document.body, { childList: true, subtree: true });\r\n\r\n    const timeoutId = setTimeout(() => {\r\n      observer.disconnect();\r\n      console.warn(`Element with selector \"${selector}\" not found within timeout`);\r\n    }, options.timeout || 10000);\r\n  });\r\n};\r\nexport const generateUniqueID = (identifier?: string) => {\r\n  identifier = identifier || modIdentifier;\r\n  return `${identifier}_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\r\n};\r\n// similar to saver but limits how often a function can be called\r\nexport class Debouncer {\r\n  private lastCallTime: number = 0;\r\n  private allowedCallInterval: number;\r\n  constructor(allowedCallInterval: number) {\r\n    this.allowedCallInterval = allowedCallInterval;\r\n  }\r\n  check(): boolean {\r\n    if (Date.now() - this.lastCallTime > this.allowedCallInterval) {\r\n      this.lastCallTime = Date.now();\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n  reset() {\r\n    this.lastCallTime = 0;\r\n  }\r\n  isReady() {\r\n    return Date.now() - this.lastCallTime > this.allowedCallInterval;\r\n  }\r\n}\r\n\r\n// input can be \"default\", null, hex code, an array of hexes, an array of default\r\n// expect to be given the asset, in asset there's a default color\r\n// return a hex color\r\nexport const isColorable = (color: string) => color !== \"Default\" && typeof color === \"string\";\r\n\r\nexport const getColor = (color: ItemColor | null | \"Default\" | string[] | ItemColor, asset: Asset): string[] => {\r\n  if (typeof color === \"string\" && color !== \"Default\") logger.warn(`Unknown color: ${color}`);\r\n  if (!color || color === \"Default\") return [...asset.DefaultColor.map(color => (color === \"Default\" ? \"#FFFFFF\" : color))];\r\n\r\n  if (Array.isArray(color)) {\r\n    return color.map(mappedColor => {\r\n      if (mappedColor === \"Default\") {\r\n        return \"#FFFFFF\";\r\n      }\r\n      return mappedColor;\r\n    });\r\n  }\r\n\r\n  return [color];\r\n};\r\nexport const getElement = (parent: HTMLElement, selector: string): Element => {\r\n  const element = parent.querySelector(selector);\r\n  if (element) return element;\r\n  throw new Error(`Element with selector \"${selector}\" not found`);\r\n};\r\n","function getComputedColor(variable: string): string {\r\n  const style = getComputedStyle(document.documentElement);\r\n  let color = style.getPropertyValue(variable).trim();\r\n\r\n  if (!color) return \"\";\r\n\r\n  // Convert HEX to HSL\r\n  if (color.startsWith(\"#\")) {\r\n    return hexToHsl(color);\r\n  }\r\n\r\n  const rgbMatch = color.match(/rgb\\((\\d+),\\s*(\\d+),\\s*(\\d+)\\)/);\r\n  if (rgbMatch) {\r\n    const [r, g, b] = rgbMatch.slice(1, 4).map(Number);\r\n    return rgbToHsl(r, g, b);\r\n  }\r\n\r\n  const hslMatch = color.match(/hsl\\((\\d+),\\s*(\\d+)%?,\\s*(\\d+)%?\\)/);\r\n  if (hslMatch) return color;\r\n\r\n  return \"\";\r\n}\r\n\r\nfunction hexToHsl(hex: string): string {\r\n  let r = 0,\r\n    g = 0,\r\n    b = 0;\r\n  if (hex.length === 7) {\r\n    r = parseInt(hex.substring(1, 3), 16);\r\n    g = parseInt(hex.substring(3, 5), 16);\r\n    b = parseInt(hex.substring(5, 7), 16);\r\n  }\r\n  return rgbToHsl(r, g, b);\r\n}\r\nfunction rgbToHsl(r: number, g: number, b: number): string {\r\n  (r /= 255), (g /= 255), (b /= 255);\r\n  let max = Math.max(r, g, b),\r\n    min = Math.min(r, g, b);\r\n  let h: number = 0,\r\n    s: number,\r\n    l = (max + min) / 2;\r\n\r\n  if (max === min) {\r\n    h = s = 0;\r\n  } else {\r\n    let d = max - min;\r\n    s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\r\n    switch (max) {\r\n      case r:\r\n        h = (g - b) / d + (g < b ? 6 : 0);\r\n        break;\r\n      case g:\r\n        h = (b - r) / d + 2;\r\n        break;\r\n      case b:\r\n        h = (r - g) / d + 4;\r\n        break;\r\n    }\r\n    h *= 60;\r\n  }\r\n  return `hsl(${Math.round(h)}, ${Math.round(s * 100)}%, ${Math.round(l * 100)}%)`;\r\n}\r\nfunction adjustLightness(baseColor: string, adjustment: number): string {\r\n  const hslMatch = baseColor.match(/hsl\\((\\d+),\\s*(\\d+)%?,\\s*(\\d+)%?\\)/);\r\n  if (!hslMatch) return baseColor;\r\n\r\n  let h = parseInt(hslMatch[1], 10);\r\n  let s = parseInt(hslMatch[2], 10);\r\n  let l = parseInt(hslMatch[3], 10);\r\n\r\n  l = Math.min(100, Math.max(0, l + adjustment));\r\n  return `hsl(${h}, ${s}%, ${l}%)`;\r\n}\r\n\r\nfunction generateDynamicCSSVariables(property: string, sourceVariable: string, fallbackColor: string): string {\r\n  let baseColor = getComputedColor(sourceVariable);\r\n  if (!baseColor) baseColor = fallbackColor;\r\n\r\n  const lightnessAdjustments: { [key: string]: number } = {\r\n    50: 50,\r\n    100: 40,\r\n    200: 30,\r\n    300: 20,\r\n    400: 10,\r\n    500: 5,\r\n    600: 0,\r\n    700: -10,\r\n    800: -20,\r\n    900: -30,\r\n    950: -40,\r\n  };\r\n\r\n  return Object.entries(lightnessAdjustments)\r\n    .map(([strength, adjustment]) => `  --sl-${property}-${strength}: ${adjustLightness(baseColor, adjustment)};`)\r\n    .join(\"\\n\");\r\n}\r\n\r\n`--tmd-main: #202020;\r\n  --tmd-element: #262626;\r\n  --tmd-element-hover: #2E2E2E;\r\n  --tmd-element-disabled: #1E1E1E;\r\n  --tmd-element-hint: #2E2E2E;\r\n  --tmd-text: #CCCCCC;\r\n  --tmd-text-shadow: #000000;\r\n  --tmd-accent: #440171;\r\n  --tmd-accent-hover: #520188;\r\n  --tmd-accent-disabled: #36015A;\r\n  --tmd-equipped: #3575B5;\r\n  --tmd-equipped-hover: #4E8CCB;\r\n  --tmd-crafted: #AAA235;\r\n  --tmd-crafted-hover: #C5BD46;\r\n  --tmd-blocked: #870C0C;\r\n  --tmd-blocked-hover: #A20E0E;\r\n  --tmd-limited: #9D6600;\r\n  --tmd-limited-hover: #BC7A00;\r\n  --tmd-allowed: #008800;\r\n  --tmd-allowed-hover: #00A300;\r\n  --tmd-room-friend: #008800;\r\n  --tmd-room-friend-hover: #00A300;\r\n  --tmd-room-blocked: #870C0C;\r\n  --tmd-room-blocked-hover: #A20E0E;\r\n  --tmd-room-game: #3575B5;\r\n  --tmd-room-game-hover: #4E8CCB;`;\r\nexport const createCSS = () => {\r\n  const shoelaceOverides =\r\n    generateDynamicCSSVariables(\"color-primary\", \"--tmd-accent\", hexToHsl(\"#0284c7\")) +\r\n    generateDynamicCSSVariables(\"color-neutral\", \"--tmd-element\", hexToHsl(\"#52525b\"));\r\n  const fontColor = \"var(--tmd-text, --sl-color-neutral-700)\";\r\n  const sliders = [\r\n    {\r\n      className: \"SoilinessPercentage\",\r\n      primary: \"#d1aa98ff\",\r\n      secondary: \"#ab674aff\",\r\n    },\r\n    {\r\n      className: \"WetnessPercentage\",\r\n      primary: \"#f3e1aeff\",\r\n      secondary: \"#e7c463ff\",\r\n    },\r\n    {\r\n      className: \"BowelFullness\",\r\n      primary: \"#b7795cff\",\r\n      secondary: \"#7c4c36ff\",\r\n    },\r\n    {\r\n      className: \"BladderFullness\",\r\n      primary: \"#eacd73ff\",\r\n      secondary: \"#cba01eff\",\r\n    },\r\n    {\r\n      className: \"Incontinence\",\r\n      primary: \"#eeacacff\",\r\n      secondary: \"#cb5b5bff\",\r\n    },\r\n    {\r\n      className: \"MentalRegression\",\r\n      primary: \"#e6bff1ff\",\r\n      secondary: \"#ad74beff\",\r\n    },\r\n  ];\r\n  let cssSliders = \"\";\r\n  for (const slider of sliders) {\r\n    cssSliders += `\r\n  .${modIdentifier}${slider.className} {\r\n    margin-bottom: 10px;\r\n    margin-top: 3px;\r\n  }\r\n\t.${modIdentifier}${slider.className}::part(base) {\r\n\t\tbackground-color: ${slider.primary};\r\n\t}\r\n  .${modIdentifier}${slider.className}::part(indicator) {\r\n    background-color: ${slider.secondary};\r\n  }`;\r\n  }\r\n\r\n  return `\r\n#ABCLCurrentPlayerSelect {\r\n  margin-bottom: 5px;\r\n}\r\n\r\n.ABCLOverlay {\r\n\taspect-ratio: 2/1;\r\n\tmax-width: 100%;\r\n\tmax-height: 100%;\r\n\tmargin: auto;\r\n\tposition: relative;\r\n\ttransform: translateY(-50%);\r\n\ttop: 50%;\r\n\tpointer-events: none;\r\n  font-family: arial;\r\n  color: ${fontColor};\r\n  order: 100;\r\n  z-index: 10000;\r\n}\r\n.ABCLWindowHeaderTitle {\r\n  margin: 5px;\r\n  font-size: 32px;\r\n  font-weight: bold;\r\n}\r\n\r\n.ABCLOpenStatsButton {\r\n  position: fixed;\r\n  bottom: 10px;\r\n  right: 10px;\r\n  z-index: 1000;\r\n  aspect-ratio: 1/1;\r\n  width: 4%;\r\n  white-space: collapse;\r\n  text-align: center;\r\n  border-radius: 5px;\r\n  background: #ffffffa6;\r\n  border: #e3e3e3 1px solid;\r\n  backdrop-filter: blur(4px);\r\n  pointer-events: all;\r\n  font-size: clamp(9px, 1.3vw, 43px);\r\n  cursor: pointer;\r\n}\r\n.ABCLOpenStatsButton:hover {\r\n  background: #ffffffd1;\r\n}\r\n.ABCLWindowClose {\r\n  aspect-ratio: 1/1;\r\n  background: transparent;\r\n  height: 29px;\r\n  border-radius: 0px 4px 0 0;\r\n  position: absolute;\r\n  right: 0px;\r\n  top: 0px;\r\n  border: none;\r\n  border-left: 1px #0000003d solid;\r\n}\r\n.ABCLWindowMinimize {\r\n  aspect-ratio: 1/1;\r\n  background: transparent;\r\n  height: 29px;\r\n  border-radius: 0px 0px 0 0;\r\n  position: absolute;\r\n  right: 30px;\r\n  top: 0px;\r\n  border: none;\r\n  border-left: 1px #0000003d solid;\r\n}\r\n.ABCLWindowHeader {\r\n  width: 100%;\r\n  display: grid;\r\n  grid-template-columns: 1fr 29px 24px;\r\n  margin: -6px;\r\n  padding: 5px;\r\n  border: 1px #0000003d solid;\r\n  border-radius: 6px 6px 0 0;\r\n}\r\n.ABCLNotification {\r\n\tbackground-color: white;\r\n\twidth: fit-content;\r\n\ttext-align: center;\r\n\tmargin: auto;\r\n\tz-index: 10000;\r\n\tposition: absolute;\r\n\tbottom: 30px;\r\n\tleft: 25%;\r\n\ttransform: translateX(-50%);\r\n\tborder: 1px solid black;\r\n\tdisplay: grid;\r\n\tgrid-template-columns: 30px 1fr;\r\n\tpadding: 5px;\r\n\tpointer-events: all;\r\n}\r\n\r\n.ABCLPrompt {\r\n  background: white;\r\n  width: fit-content;\r\n  padding: 6px;\r\n  border: 1px solid black;\r\n  text-align: center;\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 25%;\r\n  transform: translate(-50%, -50%);\r\n\tpointer-events: all;\r\n}\r\n.ABCLButton {\r\n  border: 1px #020202 solid;\r\n  padding: 3px;\r\n  margin: 4px;\r\n  aspect-ratio: 3/2;\r\n  width: 38px;\r\n  cursor: pointer;\r\n}\r\n.ABCLPromptYes {\r\n  background: #5ae85a;\r\n  color: black;\r\n}\r\n.ABCLPromptNo {\r\n  background: #ff4b4b;\r\n  color: white;\r\n}\r\n\r\n.ABCLClose:hover {\r\n  background: #ff4b4b;\r\n  color: white;\r\n  cursor: pointer;\r\n}\r\n\r\n.ABCLStatsWindow {\r\n  width: 200px;\r\n  height: fit-content;\r\n  padding: 5px;\r\n  background: #ffffffa6;\r\n  border: #e3e3e3 1px solid;\r\n  pointer-events: all;\r\n  position: fixed;\r\n  backdrop-filter: blur(4px);\r\n  border-radius: 6px;\r\n  box-shadow: 0 4px 5px 1px #00000014;\r\n}\r\n\r\n.ABCLSettingPage {\r\n  width: 81%;\r\n  margin: 6% auto;\r\n  pointer-events: all;\r\n}\r\n.ABCLAddCaregiver {\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  width: 25rem;\r\n}\r\n.ABCLAddCaregiverButton {\r\n  margin-left: 5px;\r\n}\r\n.ABCLAddCaregiverInput {\r\n  margin-right: 5px;\r\n  flex: 1;\r\n}\r\n.ABCLCaregiverLabel {\r\n  margin-top: 1em;\r\n  display: block;\r\n}\r\n.ABCLCaregiverList {\r\n  list-style: none;\r\n  border: solid var(--sl-input-border-width) var(--sl-input-border-color);\r\n  border-radius: var(--sl-input-border-radius-medium);\r\n  padding: 0rem 0rem;\r\n  width: fit-content;\r\n  min-width: 17em;\r\n  max-height: 15em;\r\n  overflow-y: scroll;\r\n  font-size: var(--sl-button-font-size-medium);\r\n  line-height: calc(var(--sl-input-height-medium) - var(--sl-input-border-width) * 2);\r\n}\r\n.ABCLCaregiver {\r\n  padding: 0.3rem;\r\n  border: solid var(--sl-input-border-width) var(--sl-input-border-color);\r\n  display: flex;\r\n}\r\n.ABCLRemoveCaregiver {\r\n  aspect-ratio: 1;\r\n  width: fit-content;\r\n  margin-left: 0.5em;\r\n}\r\n.ABCLCaregiverName {\r\n  flex: 1;\r\n}\r\n.ABCLRemoveCaregiver::part(base) {\r\n  background: #ff7b7b;\r\n  color: white;\r\n  font-weight: bold;\r\n}\r\n.ABCLSettingPage sl-checkbox {\r\n  display: block;\r\n  margin: 1rem 0;\r\n  width: fit-content;\r\n}\r\n.sl-theme-light, .sl-theme-dark {\r\n  --sl-toggle-size-small: 0.875rem;\r\n  --sl-toggle-size-medium: 1.125rem;\r\n  --sl-toggle-size-large: 1.375rem;\r\n\r\n  --sl-input-height-small: 1.875em;\r\n  --sl-input-height-medium: 2.5em;\r\n  --sl-input-height-large: 3.125em;\r\n\r\n  --sl-letter-spacing-loose: 0.075em;\r\n  --sl-letter-spacing-looser: 0.15em;\r\n\r\n  --sl-font-size-large: 1.25em;\r\n  --sl-font-size-x-large: 1.5em;\r\n  --sl-font-size-2x-large: 2.25em;\r\n  --sl-font-size-3x-large: 3em;\r\n  --sl-font-size-4x-large: 4.5em;\r\n  \r\n  --sl-spacing-3x-small: 0.125em;\r\n  --sl-spacing-2x-small: 0.25em;\r\n  --sl-spacing-x-small: 0.5em;\r\n  --sl-spacing-small: 0.75em;\r\n  --sl-spacing-medium: 1em;\r\n  --sl-spacing-large: 1.25em;\r\n  --sl-spacing-x-large: 1.75em;\r\n  --sl-spacing-2x-large: 2.25em;\r\n  --sl-spacing-3x-large: 3em;\r\n  --sl-spacing-4x-large: 4.5em;\r\n\r\n  --sl-border-radius-small: 0.1875em;\r\n  --sl-border-radius-medium: 0.25em;\r\n  --sl-border-radius-large: 0.5em;\r\n  --sl-border-radius-x-large: 1em;\r\n\r\n  --sl-font-size-2x-small: 1.2vmin;\r\n  --sl-font-size-x-small: 1.4vmin;\r\n  --sl-font-size-small: 1.6vmin;\r\n  --sl-font-size-medium: 1.6vmin;\r\n  --sl-font-size-large: 2.5vmin;\r\n  --sl-font-size-x-large: 3vmin;\r\n  --sl-font-size-2x-large: 4.5vmin;\r\n  --sl-font-size-3x-large: 6vmin;\r\n  --sl-font-size-4x-large: 9vmin;\r\n}\r\n.ABCLoverlay sl-tab,.ABCLoverlay sl-radio-button,.ABCLoverlay sl-checkbox {\r\n  pointer-events: all;\r\n}\r\n\r\n\r\n\r\n.ABCLMessageVisibility {\r\n  margin-top: 1em\r\n}\r\n\r\n${cssSliders}\r\n\r\n.ABCLHidden {\r\n  display: none !important;\r\n}\r\n:root, :host, .sl-theme-light, .sl-theme-dark {\r\n${shoelaceOverides}\r\n}\r\n\r\n.ABCLoverlay sl-radio-button::part(button),\r\n  .ABCLoverlay sl-tab::part(base), \r\n  .ABCLoverlay sl-tab::part(base).tab {\r\n  background-color: var(--tmd-element,  var(--sl-color-neutral-0));\r\n  color: var(--tmd-text,  var(--sl-color-neutral-700));\r\n}\r\n.ABCLoverlay sl-radio-button::part(label) {\r\n  color: var(--tmd-text,  var(--sl-color-neutral-700));\r\n}\r\n.ABCLoverlay sl-tab::part(base) {\r\n  color: var(--tmd-text, --sl-color-neutral-700);\r\n  background-color: var(--tmd-element-hover,  var(--sl-color-neutral-0));\r\n}\r\n.ABCLoverlay sl-tab::part(base):hover {\r\n  color: var(--tmd-text, --sl-color-neutral-0);\r\n  background-color: var(--tmd-element-hover,  var(--sl-color-primary-600));\r\n}\r\n\r\nsl-radio-button::part(button), sl-tab::part(base) {\r\n  color: var(--tmd-text, --sl-color-neutral-700);\r\n  background-color: var(--tmd-element,  var(--sl-color-neutral-0));\r\n  \r\n}\r\nsl-tab::part(base) {\r\n  border-radius: 0;\r\n}\r\nsl-radio-button::part(button) {\r\n    border: var(--tmd-element,  var(--sl-color-neutral-200)) 1px solid;\r\n}\r\n\r\nsl-radio-button::part(button):hover, sl-tab::part(base):hover {\r\n  color: var(--tmd-text, --sl-color-neutral-0);\r\n  background-color: var(--tmd-element-hover,  var(--sl-color-primary-600));\r\n}\r\nsl-radio-button::part(button):hover {\r\n  border: var(--tmd-element-hover,  var(--sl-color-primary-600)) 1px solid;\r\n}\r\n\r\nsl-radio-button::part(button--checked), sl-tab[aria-selected=\"true\"]::part(base) {\r\n  color: var(--tmd-text, --sl-color-neutral-0);\r\n  background-color: var(--tmd-accent,  var(--sl-color-primary-600));\r\n}\r\nsl-radio-button::part(button--checked):hover ,sl-tab[aria-selected=\"true\"]::part(base):hover {\r\n  background-color: var(--tmd-accent-hover);\r\n}\r\n\r\nsl-button::part(base) {\r\n  background-color: var(--tmd-element,  var(--sl-color-neutral-0));\r\n  border-color: var(--tmd-accent,  var(--sl-color-primary-600));\r\n}\r\nsl-button::part(base):hover {\r\n   background-color: var(--tmd-element-hover,  var(--sl-color-primary-600));\r\n   border-color: var(--tmd-accent-hover,  var(--sl-color-primary-600));\r\n}\r\nsl-button::part(base):active {\r\n  background-color: var(--tmd-accent-hover,  var(--sl-color-primary-700));\r\n  border-color: var(--tmd-accent-hover,  var(--sl-color-primary-700));\r\n}\r\nsl-button::part(label) {\r\n  color: var(--tmd-text,  var(--sl-color-neutral-700));\r\n}\r\nsl-button::part(label) {\r\n  color: var(--tmd-text,  var(--sl-color-neutral-700));\r\n}\r\nsl-button {\r\n    margin: 0.5em 0;\r\n}\r\nsl-drawer::part(panel) {\r\n  background-color: var(--tmd-element,  var(--sl-color-neutral-0));\r\n}\r\nsl-checkbox::part(control--checked) {\r\n  border-color: var(--tmd-accent-hover,  var(--sl-color-primary-600));\r\n  background-color: var(--tmd-accent,  var(--sl-color-primary-600))\r\n}\r\nsl-tab-group sl-tab-panel[name=\"messages\"]::part(base) {\r\n  display: grid;\r\n  grid-template-columns: 1fr 1fr;\r\n}\r\n/* sorry fusam */\r\n#fusam-addon-manager-container {\r\n  position: absolute;\r\n  top: 0;\r\n}\r\n`;\r\n};\r\n","import { sendDataToAction } from \"../hooks\";\r\nimport { sendChatLocal } from \"../utils\";\r\nimport { abclPlayer } from \"./player\";\r\n\r\n// luv you zoi <3\r\nexport const getCharacter = (identifier: string | number | Character): Character | undefined => {\r\n  if (!identifier) return;\r\n  if (typeof identifier === \"object\") return identifier;\r\n\r\n  const characters = ChatRoomCharacter.filter(Character => {\r\n    const name = Character.Name.toLowerCase();\r\n    const nickname = Character.Nickname?.toLowerCase();\r\n    const identifierString = `${identifier}`.toLowerCase();\r\n\r\n    return (\r\n      Character.MemberNumber == identifier ||\r\n      name === identifierString ||\r\n      nickname === identifierString ||\r\n      name.startsWith(identifierString) ||\r\n      nickname?.startsWith(identifierString)\r\n    );\r\n  });\r\n\r\n  return characters[0];\r\n};\r\n\r\nexport const targetInputExtractor = (parsed: string[]): Character | undefined => {\r\n  const name = parsed.join(\" \");\r\n  const character = getCharacter(name);\r\n  if (!character) {\r\n    return;\r\n  }\r\n\r\n  return character;\r\n};\r\n\r\nexport const isABCLPlayer = (character: Character, strict?: boolean, version = Player.ABCL.Version): boolean => {\r\n  return Boolean(character?.ABCL && (!strict || character.ABCL.Version === version));\r\n};\r\n\r\nexport function getCharacterName(memberNumber: number | undefined): string {\r\n  if (!memberNumber) {\r\n    return \"Unknown\";\r\n  }\r\n  const character = getCharacter(memberNumber);\r\n\r\n  if (!character) {\r\n    return \"Unknown\";\r\n  }\r\n  return character.Nickname ? character.Nickname : character.Name;\r\n}\r\n\r\n// luv you sera <3\r\nexport function replace_template(text: string, source: Character | null = null, fallbackSourceName: string = \"\") {\r\n  let result = text;\r\n\r\n  let pronounItem = CharacterPronounDescription(Player);\r\n  let isPlayerMale = pronounItem === \"He/Him\";\r\n\r\n  let possessive = isPlayerMale ? \"His\" : \"Her\";\r\n  let intensive = isPlayerMale ? \"Him\" : \"Her\";\r\n  let pronoun = isPlayerMale ? \"He\" : \"She\";\r\n\r\n  let opp_pronounItem = !source ? \"They/Them\" : CharacterPronounDescription(source);\r\n  let isOppMale = opp_pronounItem === \"He/Him\";\r\n\r\n  let oppName = source?.IsPlayer() ? (isOppMale ? \"himself\" : \"herself\") : !!source ? CharacterNickname(source) : fallbackSourceName;\r\n  let oppPossessive = isOppMale ? \"His\" : \"Her\";\r\n  let oppIntensive = source == Player ? (isOppMale ? \"Himself\" : \"Herself\") : isOppMale ? \"Him\" : \"Her\";\r\n  let oppPronoun = isOppMale ? \"He\" : \"She\";\r\n\r\n  return result\r\n    .replaceAll(\"%NAME%\", CharacterNickname(Player))\r\n    .replaceAll(\"%POSSESSIVE%\", possessive.toLocaleLowerCase())\r\n    .replaceAll(\"%PRONOUN%\", pronoun.toLocaleLowerCase())\r\n    .replaceAll(\"%INTENSIVE%\", intensive.toLocaleLowerCase())\r\n    .replaceAll(\"%CAP_POSSESSIVE%\", possessive)\r\n    .replaceAll(\"%CAP_PRONOUN%\", pronoun)\r\n    .replaceAll(\"%CAP_INTENSIVE%\", intensive)\r\n\r\n    .replaceAll(\"%OPP_NAME%\", oppName)\r\n    .replaceAll(\"%OPP_PRONOUN%\", oppPronoun.toLocaleLowerCase())\r\n    .replaceAll(\"%OPP_POSSESSIVE%\", oppPossessive.toLocaleLowerCase())\r\n    .replaceAll(\"%OPP_INTENSIVE%\", oppIntensive.toLocaleLowerCase())\r\n    .replaceAll(\"%CAP_OPP_PRONOUN%\", oppPronoun)\r\n    .replaceAll(\"%CAP_OPP_POSSESSIVE%\", oppPossessive)\r\n    .replaceAll(\"%CAP_OPP_INTENSIVE%\", oppIntensive);\r\n}\r\n\r\nexport const SendStatusMessage = (type: keyof ModStats, delta: number, percent: boolean = false) => {\r\n  if (delta === 0) return;\r\n  if (percent) delta = delta * 100;\r\n  delta = Number(delta.toPrecision(2));\r\n  if (!abclPlayer.settings.getStatusMessageSetting(type)) return;\r\n  const isLocal = !abclPlayer.settings.getPublicMessage(\"statusMessages\");\r\n  const wordConversion: Partial<Record<keyof ModStats, string>> = {\r\n    Bladder: \"PEE\",\r\n    Bowel: \"POO\",\r\n    Incontinence: \"INCON\",\r\n    MentalRegression: \"REG\",\r\n    Soiliness: \"MESS\",\r\n    Wetness: \"WET\",\r\n    PuddleSize: \"PUDL\",\r\n  };\r\n  const message = `[${delta > 0 ? \"+\" : \"-\"}${Math.abs(delta)}${percent ? \"%\" : \"\"} ${wordConversion[type]}]`;\r\n  if (isLocal) {\r\n    sendChatLocal(message, [\"ChatMessageAction\", \"ChatMessageNonDialogue\"], `--label-color:#ff4949`);\r\n  } else {\r\n    sendDataToAction(\"onABCLMessage\", { message: `${getCharacterName(Player.MemberNumber)}: ${message}`, local: isLocal });\r\n  }\r\n};\r\nexport function SendAction(action: string, sender: Character | null = null, messageType: keyof ModSettings[\"VisibleMessages\"], target?: Character) {\r\n  let msg = replace_template(action, sender);\r\n  if (!messageType) {\r\n    ServerSend(\"ChatRoomChat\", {\r\n      Content: \"Beep\",\r\n      Type: \"Action\",\r\n      Dictionary: [\r\n        // EN\r\n        { Tag: \"Beep\", Text: \"msg\" },\r\n        // CN\r\n        { Tag: \"\", Text: \"msg\" },\r\n        // DE\r\n        { Tag: \"Biep\", Text: \"msg\" },\r\n        // FR\r\n        { Tag: \"Sonner\", Text: \"msg\" },\r\n        // Message itself\r\n        { Tag: \"msg\", Text: msg },\r\n      ],\r\n    });\r\n    return;\r\n  }\r\n  const isLocal = !abclPlayer.settings.getPublicMessage(messageType);\r\n  sendChatLocal(msg, [\"ChatMessageAction\", \"ChatMessageNonDialogue\"], \"--label-color:#ff4949\", isLocal);\r\n\r\n  if (!isLocal) {\r\n    sendDataToAction(\"onABCLMessage\", { message: msg, local: isLocal });\r\n  } else if (target && target.MemberNumber !== Player.MemberNumber) {\r\n    sendDataToAction(\"onABCLMessage\", { message: msg, local: isLocal }, target.MemberNumber);\r\n  }\r\n}\r\n","import { createCSS } from \"../../screens/styles/css\";\r\nimport { generateUniqueID, waitForElement } from \"../utils\";\r\nimport { getPlayerDiaperSize, hasDiaper } from \"./diaper\";\r\nimport { getCharacter, getCharacterName } from \"./playerUtils\";\r\n\r\nexport class ABCLStatsWindow {\r\n  statsDrawer: HTMLElement;\r\n  folded: boolean = false;\r\n  constructor() {\r\n    this.statsDrawer = document.createElement(\"sl-drawer\");\r\n    this.statsDrawer.innerHTML = `\r\n    <p class=\"${modIdentifier}WindowHeaderTitle\">Stats</p>\r\n    <sl-select id=\"${modIdentifier}CurrentPlayerSelect\" value=\"${Player.MemberNumber}\">\r\n    </sl-select>\r\n\r\n  \r\n\t\t<div class=\"${modIdentifier}StatsWindowContent\">\r\n      <label id=\"SoilinessPercentage\">Soiliness</label>\r\n      <sl-progress-bar label=\"Soiliness\" class=\"${modIdentifier}SoilinessPercentage\"></sl-progress-bar>\r\n      <label id=\"WetnessPercentage\">Wetness</label>\r\n      <sl-progress-bar label=\"Wetness\" class=\"${modIdentifier}WetnessPercentage\"></sl-progress-bar>\r\n      <label id=\"BowelFullness\">Bowel</label>\r\n      <sl-progress-bar label=\"Bowel Fullness\" class=\"${modIdentifier}BowelFullness\"></sl-progress-bar>\r\n      <label id=\"BladderFullness\">Bladder</label>\r\n      <sl-progress-bar label=\"Bladder Fullness\" class=\"${modIdentifier}BladderFullness\"></sl-progress-bar>\r\n      <label id=\"Incontinence\">Incontinence</label>\r\n      <sl-progress-bar label=\"Incontinence\" class=\"${modIdentifier}Incontinence\"></sl-progress-bar>\r\n      <label id=\"MentalRegression\">Mental Regression</label>\r\n      <sl-progress-bar label=\"Mental Regression\" class=\"${modIdentifier}MentalRegression\"></sl-progress-bar>\r\n\t\t</div>\r\n   <sl-button class=\"${modIdentifier}RefreshButton\">Refresh</sl-button>\r\n\t`;\r\n\r\n    overlay.appendChild(this.statsDrawer);\r\n    this.statsDrawer.querySelector(`#${modIdentifier}CurrentPlayerSelect`)?.addEventListener(\"sl-change\", () => this.update());\r\n    this.statsDrawer.querySelector(`.${modIdentifier}RefreshButton`)?.addEventListener(\"click\", () => this.update());\r\n    this.update();\r\n  }\r\n  close() {\r\n    this.statsDrawer.removeAttribute(\"open\");\r\n  }\r\n  open(selectedPlayerId?: number) {\r\n    this.statsDrawer.setAttribute(\"open\", \"true\");\r\n    if (selectedPlayerId !== undefined) {\r\n      const currentPlayerSelect: HTMLSelectElement | null = this.statsDrawer.querySelector(`#${modIdentifier}CurrentPlayerSelect`);\r\n      if (currentPlayerSelect) {\r\n        currentPlayerSelect.value = selectedPlayerId.toString();\r\n      }\r\n    }\r\n    this.update();\r\n  }\r\n  async update() {\r\n    const currentPlayerSelect: HTMLSelectElement | null = this.statsDrawer.querySelector(`#${modIdentifier}CurrentPlayerSelect`);\r\n    if (!currentPlayerSelect) return;\r\n\r\n    let selectedCharacter: Character | undefined = getCharacter(currentPlayerSelect.value);\r\n    if (!selectedCharacter || !selectedCharacter?.ABCL) {\r\n      selectedCharacter = Player;\r\n    }\r\n    // fill select ChatRoomCharacter\r\n    currentPlayerSelect.innerHTML = \"\";\r\n    for (let character of ChatRoomCharacter) {\r\n      if (!character.ABCL) continue;\r\n      currentPlayerSelect.innerHTML += `<sl-option value=\"${character.MemberNumber}\">${getCharacterName(character.MemberNumber)}</sl-option>`;\r\n    }\r\n\r\n    const updateInput = (className: string, value: number) => {\r\n      value = Math.round(value);\r\n      const input: HTMLInputElement | null = this.statsDrawer.querySelector(`.${modIdentifier}${className}`);\r\n      const label: HTMLLabelElement | null = this.statsDrawer.querySelector(`#${className}`);\r\n      if (!input || !label) return;\r\n      const valueRounded = Math.round((value + Number.EPSILON) * 10) / 10;\r\n      if (value > 100) {\r\n        input.value = \"100\";\r\n        input.innerText = `overflowing ${Math.round((value - 100) / (value / 100))}%`;\r\n        label.innerText = `${label.innerText.split(\":\")[0]}: overflowing ${valueRounded - 100}%`;\r\n      } else {\r\n        input.value = valueRounded.toString();\r\n        input.innerText = valueRounded.toString() + \"%\";\r\n        label.innerText = label.innerText.split(\":\")[0] + \": \" + valueRounded.toString() + \"%\";\r\n      }\r\n    };\r\n    if (!selectedCharacter.ABCL) {\r\n      return;\r\n    }\r\n    if (hasDiaper(selectedCharacter)) {\r\n      updateInput(\"SoilinessPercentage\", (selectedCharacter.ABCL.Stats.Soiliness.value / getPlayerDiaperSize(selectedCharacter)) * 100);\r\n      updateInput(\"WetnessPercentage\", (selectedCharacter.ABCL.Stats.Wetness.value / getPlayerDiaperSize(selectedCharacter)) * 100);\r\n    } else {\r\n      updateInput(\"SoilinessPercentage\", 0);\r\n      updateInput(\"WetnessPercentage\", 0);\r\n    }\r\n\r\n    updateInput(\"BowelFullness\", (selectedCharacter.ABCL.Stats.Bowel.value / selectedCharacter.ABCL.Stats.Bowel.size) * 100);\r\n    updateInput(\"BladderFullness\", (selectedCharacter.ABCL.Stats.Bladder.value / selectedCharacter.ABCL.Stats.Bladder.size) * 100);\r\n    updateInput(\"Incontinence\", selectedCharacter.ABCL.Stats.Incontinence.value * 100);\r\n    updateInput(\"MentalRegression\", selectedCharacter.ABCL.Stats.MentalRegression.value * 100);\r\n  }\r\n}\r\nclass MovableElement {\r\n  newX: number = 0;\r\n  newY: number = 0;\r\n  oldX: number = 0;\r\n  oldY: number = 0;\r\n  element: HTMLElement;\r\n  isDragging: boolean = false;\r\n  isResizing: boolean = false;\r\n  resizeDirection: string | null = null;\r\n  edgeThreshold: number = 10; // Distance from the edge to trigger resizing\r\n  resizable: boolean = true;\r\n\r\n  constructor(element: HTMLElement, resizable: boolean = false) {\r\n    this.element = element;\r\n    this.resizable = resizable;\r\n    // Bind methods to the instance\r\n    this.onMouseDown = this.onMouseDown.bind(this);\r\n    this.onMouseMove = this.onMouseMove.bind(this);\r\n    this.onMouseUp = this.onMouseUp.bind(this);\r\n    this.onMouseEnter = this.onMouseEnter.bind(this);\r\n    this.onMouseLeave = this.onMouseLeave.bind(this);\r\n    this.onMouseMoveForCursor = this.onMouseMoveForCursor.bind(this);\r\n\r\n    this.element.addEventListener(\"mousedown\", this.onMouseDown);\r\n\r\n    this.element.addEventListener(\"mousemove\", this.onMouseMoveForCursor);\r\n    this.element.style.position = \"fixed\";\r\n\r\n    if (!this.resizable) {\r\n      return;\r\n    }\r\n    this.element.style.resize = \"none\";\r\n    this.element.addEventListener(\"mouseenter\", this.onMouseEnter);\r\n    this.element.addEventListener(\"mouseleave\", this.onMouseLeave);\r\n  }\r\n\r\n  onMouseEnter(event: MouseEvent) {\r\n    // Add mousemove listener for cursor updates\r\n    this.element.addEventListener(\"mousemove\", this.onMouseMoveForCursor);\r\n  }\r\n\r\n  onMouseLeave(event: MouseEvent) {\r\n    // Remove mousemove listener and reset cursor\r\n    this.element.removeEventListener(\"mousemove\", this.onMouseMoveForCursor);\r\n    this.element.style.cursor = \"default\";\r\n  }\r\n\r\n  onMouseMoveForCursor(event: MouseEvent) {\r\n    // Update cursor based on mouse position\r\n    const { offsetX, offsetY } = event;\r\n    const { offsetWidth, offsetHeight } = this.element;\r\n    if (!this.resizable) return;\r\n    if (offsetX < this.edgeThreshold) {\r\n      this.element.style.cursor = \"ew-resize\"; // Left edge\r\n    } else if (offsetX > offsetWidth - this.edgeThreshold) {\r\n      this.element.style.cursor = \"ew-resize\"; // Right edge\r\n    } else if (offsetY < this.edgeThreshold) {\r\n      this.element.style.cursor = \"ns-resize\"; // Top edge\r\n    } else if (offsetY > offsetHeight - this.edgeThreshold) {\r\n      this.element.style.cursor = \"ns-resize\"; // Bottom edge\r\n    } else {\r\n      this.element.style.cursor = \"default\";\r\n    }\r\n  }\r\n\r\n  onMouseDown(event: MouseEvent) {\r\n    const { offsetX, offsetY } = event;\r\n    const { offsetWidth, offsetHeight } = this.element;\r\n\r\n    // Determine if resizing or dragging\r\n    if (this.resizable) {\r\n      if (offsetX < this.edgeThreshold) {\r\n        this.isResizing = true;\r\n        this.resizeDirection = \"left\";\r\n      } else if (offsetX > offsetWidth - this.edgeThreshold) {\r\n        this.isResizing = true;\r\n        this.resizeDirection = \"right\";\r\n      } else if (offsetY < this.edgeThreshold) {\r\n        this.isResizing = true;\r\n        this.resizeDirection = \"top\";\r\n      } else if (offsetY > offsetHeight - this.edgeThreshold) {\r\n        this.isResizing = true;\r\n        this.resizeDirection = \"bottom\";\r\n      } else {\r\n        this.isDragging = true;\r\n      }\r\n    } else {\r\n      this.isDragging = true;\r\n    }\r\n\r\n    if (this.isDragging || this.isResizing) {\r\n      event.preventDefault();\r\n      this.oldX = event.clientX;\r\n      this.oldY = event.clientY;\r\n      document.addEventListener(\"mousemove\", this.onMouseMove);\r\n      document.addEventListener(\"mouseup\", this.onMouseUp);\r\n    }\r\n  }\r\n\r\n  onMouseMove(event: MouseEvent) {\r\n    if (this.isDragging) {\r\n      // Dragging logic\r\n      this.newX = this.oldX - event.clientX;\r\n      this.newY = this.oldY - event.clientY;\r\n\r\n      this.oldX = event.clientX;\r\n      this.oldY = event.clientY;\r\n\r\n      this.element.style.top = `${this.element.offsetTop - this.newY}px`;\r\n      this.element.style.left = `${this.element.offsetLeft - this.newX}px`;\r\n    } else if (this.isResizing) {\r\n      // Resizing logic\r\n      const deltaX = event.clientX - this.oldX;\r\n      const deltaY = event.clientY - this.oldY;\r\n\r\n      const style = getComputedStyle(this.element);\r\n      const left = parseInt(style.left, 10);\r\n      const top = parseInt(style.top, 10);\r\n      const width = parseInt(style.width, 10);\r\n      const height = parseInt(style.height, 10);\r\n\r\n      switch (this.resizeDirection) {\r\n        case \"left\":\r\n          this.element.style.width = `${width - deltaX}px`;\r\n          this.element.style.left = `${left + deltaX / 2}px`;\r\n          break;\r\n        case \"right\":\r\n          this.element.style.width = `${width + deltaX}px`;\r\n          this.element.style.left = `${left + deltaX / 2}px`;\r\n          break;\r\n        case \"top\":\r\n          this.element.style.height = `${height - deltaY}px`;\r\n          this.element.style.top = `${top + deltaY / 2}px`;\r\n          break;\r\n        case \"bottom\":\r\n          this.element.style.height = `${height + deltaY}px`;\r\n          this.element.style.top = `${top + deltaY / 2}px`;\r\n          break;\r\n      }\r\n\r\n      this.oldX = event.clientX;\r\n      this.oldY = event.clientY;\r\n    }\r\n  }\r\n\r\n  onMouseUp(event: MouseEvent) {\r\n    event.preventDefault();\r\n    // Clean up\r\n    this.isDragging = false;\r\n    this.isResizing = false;\r\n    this.resizeDirection = null;\r\n    document.removeEventListener(\"mousemove\", this.onMouseMove);\r\n    document.removeEventListener(\"mouseup\", this.onMouseUp);\r\n  }\r\n}\r\n\r\nexport class ABCLYesNoPrompt {\r\n  message: string;\r\n  onAccept: (...args: any) => void;\r\n  onDeny: (...args: any) => void;\r\n  id: string;\r\n  prompt: HTMLElement = document.createElement(\"div\");\r\n  constructor(message: string, onAccept: () => void, onDeny: () => void, timeout: number = -1) {\r\n    new MovableElement(this.prompt);\r\n    this.id = generateUniqueID();\r\n    this.message = message;\r\n    this.onAccept = onAccept;\r\n    this.onDeny = onDeny;\r\n    this.show();\r\n    if (timeout === -1) return;\r\n    setTimeout(() => {\r\n      this.prompt.remove();\r\n    }, timeout);\r\n  }\r\n\r\n  show() {\r\n    this.prompt.classList.add(`${modIdentifier}Prompt`);\r\n    this.prompt.id = this.id;\r\n    this.prompt.innerHTML = `<p>${this.message}</p><button class=\"${modIdentifier}PromptNo ${modIdentifier}Button\">Deny</button><button class=\"${modIdentifier}PromptYes ${modIdentifier}Button\">Accept</button>`;\r\n    overlay.appendChild(this.prompt);\r\n    this.prompt.querySelector(`#${this.id} .${modIdentifier}PromptYes`)?.addEventListener(\"click\", () => {\r\n      this.onAccept();\r\n      this.prompt.remove();\r\n    });\r\n    this.prompt.querySelector(`#${this.id} .${modIdentifier}PromptNo`)?.addEventListener(\"click\", () => {\r\n      this.onDeny();\r\n      this.prompt.remove();\r\n    });\r\n  }\r\n}\r\n\r\nexport const overlay = document.createElement(\"div\");\r\n\r\nexport let abclStatsWindow: ABCLStatsWindow;\r\noverlay.classList.add(`${modIdentifier}Overlay`);\r\n\r\nexport const initOverlay = () => {\r\n  const shoelaceCSSLight = document.createElement(\"link\");\r\n  shoelaceCSSLight.rel = \"stylesheet\";\r\n  shoelaceCSSLight.href = \"https://cdn.jsdelivr.net/npm/@shoelace-style/shoelace@2.20.0/cdn/themes/light.css\";\r\n  document.head.appendChild(shoelaceCSSLight);\r\n\r\n  // const shoelaceCSSDark = document.createElement(\"link\");\r\n  // shoelaceCSSDark.rel = \"stylesheet\";\r\n  // shoelaceCSSDark.href = \"https://cdn.jsdelivr.net/npm/@shoelace-style/shoelace@2.20.0/cdn/themes/dark.css\";\r\n  //  document.head.appendChild(shoelaceCSSDark);\r\n\r\n  const shoelaceScript = document.createElement(\"script\");\r\n  shoelaceScript.src = \"https://cdn.jsdelivr.net/npm/@shoelace-style/shoelace@2.20.0/cdn/shoelace-autoloader.js\";\r\n  shoelaceScript.type = \"module\";\r\n  shoelaceScript.async = true;\r\n  document.head.appendChild(shoelaceScript);\r\n\r\n  const injectedStyles = document.createElement(\"style\");\r\n  injectedStyles.innerHTML = createCSS();\r\n\r\n  document.head.appendChild(injectedStyles);\r\n  abclStatsWindow = new ABCLStatsWindow();\r\n  // overlay.classList.add((Player.ChatSettings?.ColorTheme ?? \"Light\").startsWith(\"Light\") ? \"sl-theme-light\" : \"sl-theme-dark\");\r\n  // overlay.style.color = (Player.ChatSettings?.ColorTheme ?? \"Light\").startsWith(\"Light\") ? \"var(--tmd-text,black)\" : \"var(--tmd-text,white)\";\r\n  document.body.appendChild(overlay);\r\n\r\n  waitForElement(\"#chat-room-div\", { childCheck: true, timeout: 9999999999999999999999 }).then(() => {\r\n    waitForElement(`.${modIdentifier}Overlay`, { timeout: 9999999999999999999999 }).then(() => {\r\n      document.removeChild(overlay);\r\n      setTimeout(() => {\r\n        document.appendChild(overlay);\r\n      }, 1000);\r\n    });\r\n  });\r\n};\r\n","import { isColorable, Debouncer, getColor, Saver, sendChatLocal } from \"../utils\";\r\nimport {\r\n  incontinenceChanceFormula,\r\n  getPlayerDiaperSize,\r\n  mentalRegressionOnAccident,\r\n  mentalRegressionOvertime,\r\n  updateDiaperColor,\r\n  incontinenceLimitFormula,\r\n  hasDiaper,\r\n  averageColor,\r\n  isDiaper,\r\n  incontinenceOnAccident,\r\n} from \"./diaper\";\r\nimport { abclStatsWindow } from \"./ui\";\r\nimport { ABCLdata } from \"../../constants\";\r\nimport { MetabolismSettingValues } from \"../../types/types\";\r\nimport { SendAction, SendStatusMessage } from \"./playerUtils\";\r\nimport { sendUpdateMyData } from \"../hooks\";\r\nimport { throttle } from \"lodash-es\";\r\n\r\nexport const updatePlayerClothes = () => {\r\n  CharacterRefresh(Player, true);\r\n  ChatRoomCharacterUpdate(Player);\r\n};\r\n\r\nexport const abclPlayer = {\r\n  onAccident: () => {\r\n    abclPlayer.stats.MentalRegression += mentalRegressionOnAccident() ?? 0;\r\n  },\r\n  update: () => {\r\n    // once per minute\r\n    abclPlayer.stats.MentalRegression += mentalRegressionOvertime() ?? 0;\r\n    abclPlayer.stats.BladderValue += abclPlayer.stats.WaterIntake * MetabolismSettingValues[abclPlayer.settings.PeeMetabolism];\r\n    abclPlayer.stats.BowelValue += abclPlayer.stats.FoodIntake * MetabolismSettingValues[abclPlayer.settings.PoopMetabolism];\r\n\r\n    abclPlayer.settings.PeeMetabolism !== \"Disabled\" && abclPlayer.attemptWetting();\r\n    abclPlayer.settings.PoopMetabolism !== \"Disabled\" && abclPlayer.attemptSoiling();\r\n    playerSaver.save();\r\n  },\r\n  wetClothing: () => {\r\n    // panties -> pants -> floor\r\n    sendChatLocal(\"You've had a wet accident in your clothes!\");\r\n    abclPlayer.stats.PuddleSize += abclPlayer.stats.BladderValue;\r\n    abclPlayer.stats.BladderValue = 0;\r\n    if (hasDiaper()) {\r\n      SendAction(\"%NAME%'s diaper leaks and wet %INTENSIVE% clothes causing a puddle to form.\", undefined, \"wetClothing\");\r\n    } else {\r\n      SendAction(\"%NAME%'s wets %INTENSIVE% clothes leaks onto the floor.\", undefined, \"wetClothing\");\r\n    }\r\n    sendUpdateMyData();\r\n    if (abclPlayer.settings.DisableClothingStains) return;\r\n    const wetColor = \"#96936C\";\r\n\r\n    const panties = InventoryGet(Player, \"Panties\");\r\n    if (panties && !isDiaper(panties)) {\r\n      const pantiesColors = getColor(panties.Color || (panties.Asset.DefaultColor as ItemColor), panties.Asset);\r\n      for (let i = 0; i < pantiesColors.length; i++) {\r\n        if (!isColorable(pantiesColors[i])) continue;\r\n        pantiesColors[i] = averageColor(pantiesColors[i], wetColor, 0.3);\r\n      }\r\n      panties.Color = pantiesColors;\r\n    }\r\n\r\n    for (const item of Player.Appearance) {\r\n      if (ABCLdata.ItemDefinitions.Pants.some(pants => pants === item.Asset.Description)) {\r\n        const colors = getColor(item.Color || (item.Asset.DefaultColor as ItemColor), item.Asset);\r\n        for (let i = 0; i < colors.length; i++) {\r\n          if (!isColorable(colors[i])) continue;\r\n          colors[i] = averageColor(colors[i], wetColor, 0.3);\r\n        }\r\n        item.Color = colors;\r\n      }\r\n    }\r\n\r\n    updatePlayerClothes();\r\n  },\r\n  soilClothing: () => {\r\n    abclPlayer.stats.BowelValue = 0;\r\n    if (hasDiaper()) {\r\n      SendAction(\"%NAME%'s diaper leaks and soils %INTENSIVE% clothes.\", undefined, \"soilClothing\");\r\n    } else {\r\n      SendAction(\"%NAME% soils %INTENSIVE% clothes.\", undefined, \"soilClothing\");\r\n    }\r\n    sendUpdateMyData();\r\n    if (abclPlayer.settings.DisableClothingStains) return;\r\n\r\n    const messColor = \"#261a16\";\r\n\r\n    const panties = InventoryGet(Player, \"Panties\");\r\n    if (panties && !isDiaper(panties)) {\r\n      const pantiesColors = getColor(panties.Color || (panties.Asset.DefaultColor as ItemColor), panties.Asset);\r\n      for (let i = 0; i < pantiesColors.length; i++) {\r\n        if (!isColorable(pantiesColors[i])) continue;\r\n        pantiesColors[i] = averageColor(pantiesColors[i], messColor, 0.3);\r\n      }\r\n      panties.Color = pantiesColors;\r\n    }\r\n\r\n    for (const item of Player.Appearance) {\r\n      if (ABCLdata.ItemDefinitions.Pants.some(pants => pants === item.Asset.Description)) {\r\n        const colors = getColor(item.Color || (item.Asset.DefaultColor as ItemColor), item.Asset);\r\n        for (let i = 0; i < colors.length; i++) {\r\n          if (!isColorable(colors[i])) continue;\r\n          colors[i] = averageColor(colors[i], messColor, 0.3);\r\n        }\r\n        item.Color = colors;\r\n      }\r\n    }\r\n    updatePlayerClothes();\r\n  },\r\n  wetDiaper: () => {\r\n    const diaperSize = getPlayerDiaperSize();\r\n    const absorbedVolume = Math.min(abclPlayer.stats.BladderValue, Math.max(0, diaperSize - abclPlayer.stats.WetnessValue));\r\n    SendAction(\"%NAME% wets %INTENSIVE% diaper.\", undefined, \"wetDiaper\");\r\n\r\n    abclPlayer.stats.BladderValue -= absorbedVolume;\r\n    abclPlayer.stats.WetnessValue += absorbedVolume;\r\n\r\n    if (abclPlayer.stats.WetnessValue >= diaperSize) {\r\n      abclPlayer.wetClothing();\r\n    }\r\n  },\r\n  soilDiaper: () => {\r\n    const diaperSize = getPlayerDiaperSize();\r\n    const absorbedVolume = Math.min(abclPlayer.stats.BowelValue, Math.max(0, diaperSize - abclPlayer.stats.SoilinessValue));\r\n    SendAction(\"%NAME% soils %INTENSIVE% diaper.\", undefined, \"soilDiaper\");\r\n    abclPlayer.stats.BowelValue -= absorbedVolume;\r\n    abclPlayer.stats.SoilinessValue += absorbedVolume;\r\n\r\n    if (abclPlayer.stats.SoilinessValue >= diaperSize) {\r\n      abclPlayer.soilClothing();\r\n    }\r\n  },\r\n  attemptWetting: () => {\r\n    const limit = incontinenceLimitFormula(abclPlayer.stats.Incontinence);\r\n    const chance = incontinenceChanceFormula(abclPlayer.stats.Incontinence, abclPlayer.stats.BladderFullness);\r\n\r\n    if (!(Math.random() < chance || abclPlayer.stats.BladderFullness > limit)) return;\r\n\r\n    if (!incontinenceCheck.check()) return;\r\n\r\n    MiniGameStart(\"WetMinigame\", 30 * chance, \"noOp\");\r\n  },\r\n  attemptSoiling: () => {\r\n    const limit = incontinenceLimitFormula(abclPlayer.stats.Incontinence);\r\n    const chance = incontinenceChanceFormula(abclPlayer.stats.Incontinence, abclPlayer.stats.BowelFullness);\r\n\r\n    if (!(Math.random() < chance || abclPlayer.stats.BowelFullness > limit)) return;\r\n\r\n    if (!incontinenceCheck.check()) return;\r\n\r\n    MiniGameStart(\"MessMinigame\", 30 * chance, \"noOp\");\r\n  },\r\n  wet: (intentional: boolean = false) => {\r\n    const incontinenceOffset = 0.3 * abclPlayer.stats.Incontinence;\r\n    const isTooEarly = abclPlayer.stats.BladderFullness < 0.3 - incontinenceOffset;\r\n    const isPossible = !isTooEarly;\r\n    const isGood = abclPlayer.stats.BladderFullness > 0.6 - incontinenceOffset;\r\n    if (isTooEarly && intentional) {\r\n      sendChatLocal(\"You try to pee, but it doesn't seem to be working.\");\r\n      return;\r\n    }\r\n    if (isPossible) {\r\n      hasDiaper() ? abclPlayer.wetDiaper() : abclPlayer.wetClothing();\r\n    }\r\n    if (isGood && intentional) {\r\n      abclPlayer.stats.Incontinence -= incontinenceOnAccident(abclPlayer.stats.Incontinence);\r\n    } else {\r\n      abclPlayer.stats.Incontinence += incontinenceOnAccident(abclPlayer.stats.Incontinence);\r\n    }\r\n  },\r\n  soil: (intentional: boolean = false) => {\r\n    const incontinenceOffset = 0.3 * abclPlayer.stats.Incontinence;\r\n    const isTooEarly = abclPlayer.stats.BowelFullness < 0.3 - incontinenceOffset;\r\n    const isPossible = !isTooEarly;\r\n    const isGood = abclPlayer.stats.BowelFullness > 0.6 - incontinenceOffset;\r\n    if (isTooEarly && intentional) {\r\n      sendChatLocal(\"You try to let go, but nothing seems to happen.\");\r\n      return;\r\n    }\r\n    if (isPossible) {\r\n      hasDiaper() ? abclPlayer.soilDiaper() : abclPlayer.soilClothing();\r\n    }\r\n    if (isGood && intentional) {\r\n      abclPlayer.stats.Incontinence -= 0.01;\r\n    } else {\r\n      abclPlayer.stats.Incontinence += 0.02;\r\n    }\r\n  },\r\n  stats: {\r\n    set PuddleSize(value: number) {\r\n      if (value < 0) value = 0;\r\n      if (value > 250) value = 250;\r\n      const delta = value - Player[modIdentifier].Stats.PuddleSize.value;\r\n      SendStatusMessage(\"PuddleSize\", delta);\r\n      Player[modIdentifier].Stats.PuddleSize.value = value;\r\n    },\r\n    get PuddleSize() {\r\n      return Player[modIdentifier].Stats.PuddleSize.value;\r\n    },\r\n    set MentalRegression(value: number) {\r\n      if (value < 0) value = 0;\r\n      if (value > 1) value = 1;\r\n      const delta = value - Player[modIdentifier].Stats.MentalRegression.value;\r\n      SendStatusMessage(\"MentalRegression\", delta, true);\r\n      Player[modIdentifier].Stats.MentalRegression.value = value;\r\n      abclStatsWindow.update();\r\n    },\r\n    get MentalRegression() {\r\n      return Player[modIdentifier].Stats.MentalRegression.value;\r\n    },\r\n    set Incontinence(value: number) {\r\n      if (value < 0) value = 0;\r\n      if (value > 1) value = 1;\r\n      const delta = value - Player[modIdentifier].Stats.Incontinence.value;\r\n      SendStatusMessage(\"Incontinence\", delta, true);\r\n      Player[modIdentifier].Stats.Incontinence.value = value;\r\n      abclStatsWindow.update();\r\n    },\r\n    get Incontinence() {\r\n      return Player[modIdentifier].Stats.Incontinence.value;\r\n    },\r\n\r\n    // intake\r\n    set WaterIntake(value: number) {\r\n      if (value < 0) value = 0;\r\n      Player[modIdentifier].Stats.WaterIntake.value = value;\r\n    },\r\n    get WaterIntake() {\r\n      return Player[modIdentifier].Stats.WaterIntake.value;\r\n    },\r\n    set FoodIntake(value: number) {\r\n      if (value < 0) value = 0;\r\n      Player[modIdentifier].Stats.FoodIntake.value = value;\r\n    },\r\n    get FoodIntake() {\r\n      return Player[modIdentifier].Stats.FoodIntake.value;\r\n    },\r\n\r\n    // bladder\r\n\r\n    set BladderValue(value: number) {\r\n      if (value < 0) value = 0;\r\n      const delta = value / this.BladderSize - this.BladderFullness;\r\n      SendStatusMessage(\"Bladder\", delta, true);\r\n      Player[modIdentifier].Stats.Bladder.value = value;\r\n      abclStatsWindow.update();\r\n    },\r\n    get BladderValue() {\r\n      return Player[modIdentifier].Stats.Bladder.value;\r\n    },\r\n    set BladderSize(value: number) {\r\n      if (value < 0) value = 0;\r\n      Player[modIdentifier].Stats.Bladder.size = value;\r\n      abclStatsWindow.update();\r\n    },\r\n    get BladderSize(): number {\r\n      return Player[modIdentifier].Stats.Bladder.size;\r\n    },\r\n    set WetnessValue(value: number) {\r\n      if (value < 0) value = 0;\r\n      const delta = value / getPlayerDiaperSize() - this.WetnessPercentage;\r\n      SendStatusMessage(\"Wetness\", delta, true);\r\n      Player[modIdentifier].Stats.Wetness.value = value;\r\n      updateDiaperColor();\r\n      abclStatsWindow.update();\r\n    },\r\n    get WetnessValue() {\r\n      return Player[modIdentifier].Stats.Wetness.value;\r\n    },\r\n    // computed\r\n    set BladderFullness(value: number) {\r\n      if (value < 0) value = 0;\r\n\r\n      this.BladderValue = value * this.BladderSize;\r\n      abclStatsWindow.update();\r\n    },\r\n    get BladderFullness(): number {\r\n      return this.BladderValue / this.BladderSize;\r\n    },\r\n\r\n    // bowel\r\n    set BowelValue(value: number) {\r\n      if (value < 0) value = 0;\r\n      const delta = value / this.BowelSize - this.BowelFullness;\r\n      SendStatusMessage(\"Bowel\", delta, true);\r\n      Player[modIdentifier].Stats.Bowel.value = value;\r\n      abclStatsWindow.update();\r\n    },\r\n    get BowelValue() {\r\n      return Player[modIdentifier].Stats.Bowel.value;\r\n    },\r\n\r\n    set BowelSize(value: number) {\r\n      if (value < 0) value = 0;\r\n      Player[modIdentifier].Stats.Bowel.size = value;\r\n      abclStatsWindow.update();\r\n    },\r\n    get BowelSize(): number {\r\n      return Player[modIdentifier].Stats.Bowel.size;\r\n    },\r\n    set SoilinessValue(value: number) {\r\n      if (value < 0) value = 0;\r\n      const delta = value / getPlayerDiaperSize() - this.SoilinessPercentage;\r\n      SendStatusMessage(\"Soiliness\", delta, true);\r\n      Player[modIdentifier].Stats.Soiliness.value = value;\r\n      updateDiaperColor();\r\n      abclStatsWindow.update();\r\n    },\r\n    get SoilinessValue() {\r\n      return Player[modIdentifier].Stats.Soiliness.value;\r\n    },\r\n    // computed\r\n    set BowelFullness(value: number) {\r\n      if (value < 0) value = 0;\r\n      this.BowelValue = value * this.BowelSize;\r\n      abclStatsWindow.update();\r\n    },\r\n    get BowelFullness(): number {\r\n      return this.BowelValue / this.BowelSize;\r\n    },\r\n\r\n    get SoilinessPercentage(): number {\r\n      if (getPlayerDiaperSize() == 0) return 0;\r\n      return this.SoilinessValue / getPlayerDiaperSize();\r\n    },\r\n    set SoilinessPercentage(value: number) {\r\n      if (value < 0) value = 0;\r\n\r\n      this.SoilinessValue = value * getPlayerDiaperSize();\r\n    },\r\n    get WetnessPercentage(): number {\r\n      if (getPlayerDiaperSize() == 0) return 0;\r\n      return this.WetnessValue / getPlayerDiaperSize();\r\n    },\r\n    set WetnessPercentage(value: number) {\r\n      if (value < 0) value = 0;\r\n\r\n      this.WetnessValue = value * getPlayerDiaperSize();\r\n    },\r\n  },\r\n  settings: {\r\n    get AccidentsByActivities(): boolean {\r\n      return Player[modIdentifier].Settings.AccidentsByActivities;\r\n    },\r\n    set AccidentsByActivities(value: boolean) {\r\n      Player[modIdentifier].Settings.AccidentsByActivities = value;\r\n    },\r\n    set DisableClothingStains(value: boolean) {\r\n      Player[modIdentifier].Settings.DisableClothingStains = value;\r\n    },\r\n    set DisableDiaperStains(value: boolean) {\r\n      Player[modIdentifier].Settings.DisableDiaperStains = value;\r\n    },\r\n    get DisableClothingStains(): boolean {\r\n      return Player[modIdentifier].Settings.DisableClothingStains;\r\n    },\r\n    get DisableDiaperStains(): boolean {\r\n      return Player[modIdentifier].Settings.DisableDiaperStains;\r\n    },\r\n    getStatusMessageSetting(key: keyof ModStats) {\r\n      return Player[modIdentifier].Settings.StatusMessages[key];\r\n    },\r\n    setStatusMessageSetting(key: keyof ModStats, value: boolean) {\r\n      Player[modIdentifier].Settings.StatusMessages[key] = value;\r\n    },\r\n    setPublicMessage(key: keyof ModSettings[\"VisibleMessages\"], value: boolean) {\r\n      Player[modIdentifier].Settings.VisibleMessages[key] = value;\r\n    },\r\n    getPublicMessage(key: keyof ModSettings[\"VisibleMessages\"]): boolean {\r\n      return Player[modIdentifier].Settings.VisibleMessages[key];\r\n    },\r\n    set PeeMetabolism(value: MetabolismSetting) {\r\n      Player[modIdentifier].Settings.PeeMetabolism = value;\r\n    },\r\n    set PoopMetabolism(value: MetabolismSetting) {\r\n      Player[modIdentifier].Settings.PoopMetabolism = value;\r\n    },\r\n    get PeeMetabolism(): MetabolismSetting {\r\n      return Player[modIdentifier].Settings.PeeMetabolism;\r\n    },\r\n\r\n    get PoopMetabolism(): MetabolismSetting {\r\n      return Player[modIdentifier].Settings.PoopMetabolism;\r\n    },\r\n\r\n    get OnDiaperChange(): DiaperChangePromptSetting {\r\n      return Player[modIdentifier].Settings.OnDiaperChange;\r\n    },\r\n\r\n    set OnDiaperChange(value: DiaperChangePromptSetting) {\r\n      Player[modIdentifier].Settings.OnDiaperChange = value;\r\n    },\r\n\r\n    set OpenRemoteSettings(value: boolean) {\r\n      Player[modIdentifier].Settings.OpenRemoteSettings = value;\r\n    },\r\n\r\n    get OpenRemoteSettings(): boolean {\r\n      return Player[modIdentifier].Settings.OpenRemoteSettings;\r\n    },\r\n  },\r\n};\r\n\r\nconst playerSaver = new Saver(2 * 60 * 1000);\r\n\r\nconst incontinenceCheck = new Debouncer(2 * 60 * 1000);\r\n\r\n(window as any).abclPlayer = abclPlayer;\r\n","import { throttle } from \"lodash-es\";\r\nimport { ABCLdata } from \"../../constants\";\r\nimport { abclPlayer, updatePlayerClothes } from \"./player\";\r\n\r\n// Is/Has\r\nexport const isLeaking = (type: \"pee\" | \"poop\" | \"any\" = \"any\") => {\r\n  const diaperSize = getPlayerDiaperSize();\r\n  if (type === \"pee\") {\r\n    return abclPlayer.stats.PuddleSize > 0;\r\n  }\r\n  if (type === \"poop\") {\r\n    return abclPlayer.stats.SoilinessValue >= diaperSize;\r\n  }\r\n  return abclPlayer.stats.SoilinessValue >= diaperSize || abclPlayer.stats.WetnessValue >= diaperSize;\r\n};\r\nexport const isDiaperDirty = () => {\r\n  const diaperSize = getPlayerDiaperSize();\r\n  return abclPlayer.stats.SoilinessValue + abclPlayer.stats.WetnessValue >= diaperSize / 2;\r\n};\r\nexport const isDiaper = (item: Item): boolean => {\r\n  return item.Asset.Description.toLowerCase().includes(\"diaper\") && item.Asset.Description in ABCLdata.Diapers;\r\n};\r\nexport function hasDiaper(player: Character = Player): boolean {\r\n  if (!player) return false;\r\n  const pelvisItem = InventoryGet(player, \"ItemPelvis\");\r\n  const panties = InventoryGet(player, \"Panties\");\r\n  return Boolean((pelvisItem && isDiaper(pelvisItem)) || (panties && isDiaper(panties)));\r\n}\r\nexport const isWearingBabyClothes = () => {\r\n  return Player.Appearance.some(clothing => {\r\n    return ABCLdata.ItemDefinitions.BabyItems.includes(clothing.Asset.Description);\r\n  });\r\n};\r\n\r\n// Color\r\nexport function averageColor(color_1: HexColor, color_2: HexColor, ratio: number = 0.5): HexColor {\r\n  let rgb_1 = DrawHexToRGB(color_1);\r\n  let rgb_2 = DrawHexToRGB(color_2);\r\n  let avgRgb: RGBColor = {\r\n    r: Math.round(rgb_1.r * ratio + rgb_2.r * (1 - ratio)),\r\n    g: Math.round(rgb_1.g * ratio + rgb_2.g * (1 - ratio)),\r\n    b: Math.round(rgb_1.b * ratio + rgb_2.b * (1 - ratio)),\r\n  };\r\n  return DrawRGBToHex([avgRgb.r, avgRgb.g, avgRgb.b]);\r\n}\r\nexport function mixLevels(level: number, highLevel: string, midLevel: string, lowLevel: string): string {\r\n  if (level > 0.75) {\r\n    return level > 0.9 ? highLevel : averageColor(highLevel, midLevel, level - 0.75);\r\n  } else {\r\n    return averageColor(midLevel, lowLevel, level);\r\n  }\r\n}\r\n\r\nexport const isDiaperLocked = (player: Character = Player): boolean => {\r\n  if (!hasDiaper()) return false;\r\n  const diaper = InventoryGet(player, \"ItemPelvis\");\r\n\r\n  return Boolean(\r\n    diaper &&\r\n      isDiaper(diaper) &&\r\n      (Player.MemberNumber === player.MemberNumber\r\n        ? diaper.Property?.LockedBy\r\n        : !(diaper.Property?.LockMemberNumber === player.MemberNumber || diaper.Property?.LockedBy === \"ExclusivePadlock\")),\r\n  );\r\n};\r\nexport const setDiaperColor = (slot: AssetGroupName, primaryColor: string, player: Character = Player) => {\r\n  if (abclPlayer.settings.DisableDiaperStains) return;\r\n  const item = InventoryGet(player, slot);\r\n  if (item && isDiaper(item)) {\r\n    const color = (item.Color ?? item.Asset.DefaultColor) as string[];\r\n    const diaper = ABCLdata.Diapers[item.Asset.Description as keyof typeof ABCLdata.Diapers];\r\n    const dirtiness = Math.min(abclPlayer.stats.SoilinessValue + abclPlayer.stats.WetnessValue / getPlayerDiaperSize(), 1);\r\n    if (\"indicator\" in diaper) {\r\n      for (const index of diaper.indicator) {\r\n        color[index] = averageColor(ABCLdata.DiaperColors.indicatorAccident, item.Asset.DefaultColor[index], dirtiness);\r\n      }\r\n    }\r\n    if (\"gradients\" in diaper) {\r\n      for (const index of diaper.gradients) {\r\n        if (item.Property?.Opacity && typeof item.Property.Opacity === \"object\") {\r\n          item.Property.Opacity[index] = dirtiness;\r\n          color[index] = primaryColor;\r\n        }\r\n      }\r\n    }\r\n    if (\"color\" in diaper) {\r\n      for (const index of diaper.color) {\r\n        color[index] = primaryColor;\r\n      }\r\n    }\r\n    console.log(color);\r\n    item.Color = color;\r\n  }\r\n};\r\nexport const updateDiaperColor = () => {\r\n  const messLevel = abclPlayer.stats.SoilinessValue / getPlayerDiaperSize();\r\n  const wetLevel = abclPlayer.stats.WetnessValue / getPlayerDiaperSize();\r\n\r\n  const messColor = mixLevels(messLevel, ABCLdata.DiaperColors[\"maximummess\"], ABCLdata.DiaperColors[\"middlemess\"], ABCLdata.DiaperColors[\"clean\"]);\r\n  const wetColor = mixLevels(wetLevel, ABCLdata.DiaperColors[\"maximumwet\"], ABCLdata.DiaperColors[\"middlewet\"], ABCLdata.DiaperColors[\"clean\"]);\r\n\r\n  // lower is more mess higher is more wet\r\n  // when both are equal it should be 0.5\r\n  // if wet is 0 and mess is one then it should be 1\r\n  // if wet is 1 and mess is 0 then it should be 0\r\n  const mixedLevel = Math.max(Math.min((messLevel + (1 - wetLevel)) / 2, 2), 0);\r\n  const primaryColor = averageColor(messColor, wetColor, mixedLevel);\r\n  console.log(mixedLevel, primaryColor);\r\n  setDiaperColor(\"ItemPelvis\", primaryColor, Player);\r\n  setDiaperColor(\"Panties\", primaryColor, Player);\r\n  updatePlayerClothes();\r\n};\r\n\r\n// Size\r\nexport function getPlayerDiaperSize(player: Character = Player): number {\r\n  const pelvisItem = InventoryGet(player, \"ItemPelvis\");\r\n  const panties = InventoryGet(player, \"Panties\");\r\n  let size = 50;\r\n  if (pelvisItem && isDiaper(pelvisItem)) {\r\n    size += getDiaperSize(pelvisItem);\r\n  }\r\n  if (panties && isDiaper(panties)) {\r\n    size += getDiaperSize(panties);\r\n  }\r\n  return size;\r\n}\r\nexport function getDiaperSize(diaper: Item): number {\r\n  if (diaper.Asset.Description === \"Poofy Chastity Diaper\" && diaper.Property?.TypeRecord?.typed === 1) {\r\n    return ABCLdata.DiaperSizeScale.heavy_adult;\r\n  }\r\n  return ABCLdata.DiaperSizeScale[ABCLdata.Diapers[diaper.Asset.Description as keyof typeof ABCLdata.Diapers].size as keyof typeof ABCLdata.DiaperSizeScale];\r\n}\r\n\r\nexport const getPlayerDiaper = (): {\r\n  ItemPelvis: Item | null;\r\n  Panties: Item | null;\r\n} => {\r\n  const pelvisItem = InventoryGet(Player, \"ItemPelvis\");\r\n  const panties = InventoryGet(Player, \"Panties\");\r\n  let diapers: { ItemPelvis: Item | null; Panties: Item | null } = {\r\n    ItemPelvis: null,\r\n    Panties: null,\r\n  };\r\n  if (pelvisItem && isDiaper(pelvisItem)) {\r\n    diapers[\"ItemPelvis\"] = pelvisItem;\r\n  }\r\n  if (panties && isDiaper(panties)) {\r\n    diapers[\"Panties\"] = panties;\r\n  }\r\n  return diapers;\r\n};\r\n\r\n// incontinence\r\nexport const incontinenceLimitFormula = (incontinence: number) => {\r\n  return 0.9 - incontinence * 0.5;\r\n};\r\n\r\nexport function incontinenceChanceFormula(incontinence: number, fullness: number): number {\r\n  const incontinenceWeight = 0.6;\r\n  const fullnessWeight = 0.8;\r\n  const threshold = incontinenceWeight * Math.pow(incontinence, 2) + fullnessWeight * Math.pow(fullness, 3);\r\n\r\n  return Math.min(Math.max(threshold, 0), 1);\r\n}\r\n\r\n// mental regression\r\nexport const mentalRegressionBonus = () => {\r\n  const assetDescriptions = Player.Appearance.map(clothing => clothing.Asset.Description);\r\n  const matches = ABCLdata.ItemDefinitions.BabyItems.concat([\"milk\", \"pacifier\", \"bib\"]).filter(description =>\r\n    assetDescriptions.some(assetDescription => assetDescription.toLocaleLowerCase().includes(description)),\r\n  );\r\n  return Math.min(matches.length * 0.25, 1);\r\n};\r\nexport const mentalRegressionOvertime = throttle(() => {\r\n  // if wearing baby clothes, mental regression goes up\r\n  // if wet diaper, mental regression goes up\r\n  // if leaking, mental regression goes up a lot\r\n  let modifier = -0.5 + mentalRegressionBonus();\r\n  if (isWearingBabyClothes()) modifier += 1;\r\n  if (isDiaperDirty()) modifier += 0.25;\r\n  if (isLeaking()) modifier += 0.5;\r\n  modifier = Math.max(-1, Math.min(modifier, 1));\r\n\r\n  const MR = abclPlayer.stats.MentalRegression;\r\n  let denominator;\r\n  if (modifier > 0) {\r\n    // Slow down progression as MR approaches 100%\r\n    denominator = 1 + Math.pow(15 * MR, 2);\r\n  } else if (modifier < 0) {\r\n    // Slow down regression as MR approaches 0%\r\n    denominator = 1 + Math.pow(15 * (1 - MR), 2);\r\n  } else {\r\n    return 0; // No change if modifier is 0\r\n  }\r\n\r\n  const scalingFactor = 0.1;\r\n  return (modifier * scalingFactor) / denominator;\r\n}, 1000 * 60 * 5);\r\nexport const incontinenceOnAccident = (incontinence: number) => {\r\n  const stages = [\r\n    { increase: 0.01, start: 0, end: 0.25 },\r\n    { increase: 0.005, start: 0.25, end: 0.5 },\r\n    { increase: 0.0025, start: 0.5, end: 0.75 },\r\n    { increase: 0.001, start: 0.75, end: 1 },\r\n  ];\r\n  for (const { increase, start, end } of stages) {\r\n    if (incontinence >= start && incontinence < end) {\r\n      return increase;\r\n    }\r\n  }\r\n  return 0;\r\n};\r\n\r\nexport const mentalRegressionOnAccident = () => {\r\n  const modifier = 1 + mentalRegressionBonus();\r\n  if (abclPlayer.stats.MentalRegression < 0.25) return modifier / 500;\r\n  if (0.25 > abclPlayer.stats.MentalRegression && abclPlayer.stats.MentalRegression < 0.5 && isDiaperDirty()) return modifier / 500;\r\n  if (0.5 > abclPlayer.stats.MentalRegression && abclPlayer.stats.MentalRegression < 0.75 && isLeaking()) return modifier / 1000;\r\n  if (0.75 > abclPlayer.stats.MentalRegression && abclPlayer.stats.MentalRegression < 1 && isLeaking()) return modifier / 1500;\r\n  return 0;\r\n};\r\n","import debounce from './debounce.js';\nimport isObject from './isObject.js';\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\nexport default throttle;\n","import { CombinedAction, DiaperSettingValues } from \"../../types/types\";\r\nimport { sendDataToAction } from \"../hooks\";\r\nimport { hasDiaper, isDiaperLocked, updateDiaperColor } from \"../player/diaper\";\r\nimport { abclPlayer } from \"../player/player\";\r\nimport { getCharacter, getCharacterName, isABCLPlayer, replace_template, SendAction, targetInputExtractor } from \"../player/playerUtils\";\r\nimport { ABCLYesNoPrompt } from \"../player/ui\";\r\nimport { sendChatLocal } from \"../utils\";\r\n\r\nconst changeDiaperRequest = (player: Character) => {\r\n  if (player.MemberNumber !== Player.MemberNumber) return sendDataToAction(\"changeDiaper-pending\", undefined, player.MemberNumber);\r\n\r\n  changeDiaperFunction(player);\r\n};\r\nexport const changeDiaperFunction = (player: Character) => {\r\n  const isSelf = player.MemberNumber === Player.MemberNumber;\r\n  const selfMessage = \"%NAME% changes %INTENSIVE% diaper.\";\r\n  const otherMessage = \"%OPP_NAME% changes %NAME%'s diaper.\";\r\n  SendAction(replace_template(isSelf ? selfMessage : otherMessage, player), undefined, \"changeDiaper\", player);\r\n\r\n  abclPlayer.stats.WetnessValue = 0;\r\n  abclPlayer.stats.SoilinessValue = 0;\r\n  updateDiaperColor();\r\n};\r\n\r\nexport type changeDiaperListeners = {\r\n  \"changeDiaper-accepted\": undefined;\r\n  \"changeDiaper-rejected\": undefined;\r\n  \"changeDiaper-pending\": undefined;\r\n};\r\n\r\nexport const changeDiaper: CombinedAction = {\r\n  activity: {\r\n    ID: \"change-diaper\",\r\n    Name: \"Change Diaper\",\r\n    Image: `${publicURL}/activity/changeDiaper.svg`,\r\n    Target: [\"ItemPelvis\"],\r\n    OnClick: (player: Character, group: AssetGroupItemName) => changeDiaperRequest(player),\r\n    Criteria: (player: Character) => hasDiaper(player) && isABCLPlayer(player) && !Player.IsRestrained() && !isDiaperLocked(),\r\n  },\r\n  command: {\r\n    Tag: \"change-diaper\",\r\n    Action: (args, msg, parsed) => {\r\n      const character = targetInputExtractor(parsed) ?? Player;\r\n      if (!changeDiaper.activity!.Criteria!(character))\r\n        return sendChatLocal(\"Is either not diapered or not an ABCL player or you are restrained or diaper is locked.\");\r\n\r\n      changeDiaperRequest(character);\r\n    },\r\n    Description: ` [MemberNumber|Name|Nickname]: Changes someone's diaper.`,\r\n  },\r\n  listeners: {\r\n    \"changeDiaper-accepted\": ({ Sender }) => sendChatLocal(`${getCharacterName(Sender)} accepted your change diaper request.`),\r\n    \"changeDiaper-rejected\": ({ Sender }) => sendChatLocal(`${getCharacterName(Sender)} rejected your change diaper request.`),\r\n    \"changeDiaper-pending\": ({ Sender }) => {\r\n      switch (abclPlayer.settings.OnDiaperChange) {\r\n        case DiaperSettingValues.Ask:\r\n          new ABCLYesNoPrompt(\r\n            `${getCharacterName(Sender)} wants to change your diaper.`,\r\n            () => {\r\n              changeDiaperFunction(getCharacter(Sender!) ?? Player);\r\n              sendDataToAction(\"changeDiaper-accepted\", undefined, Sender);\r\n            },\r\n            () => sendDataToAction(\"changeDiaper-rejected\", undefined, Sender),\r\n            10 * 1000,\r\n          );\r\n          break;\r\n        case DiaperSettingValues.Allow:\r\n          changeDiaperFunction(getCharacter(Sender!) ?? Player);\r\n          sendDataToAction(\"changeDiaper-accepted\", undefined, Sender);\r\n          break;\r\n        case DiaperSettingValues.Deny:\r\n          sendDataToAction(\"changeDiaper-rejected\", undefined, Sender);\r\n          break;\r\n      }\r\n    },\r\n  },\r\n};\r\n","import { CombinedAction } from \"../../types/types\";\r\nimport { hasDiaper } from \"../player/diaper\";\r\nimport { isABCLPlayer, replace_template, SendAction, targetInputExtractor } from \"../player/playerUtils\";\r\nimport { abclStatsWindow } from \"../player/ui\";\r\nimport { sendChatLocal } from \"../utils\";\r\n\r\nconst diaperCheckFunction = (player: Character) => {\r\n  const isSelf = player.MemberNumber === Player.MemberNumber;\r\n  const selfDiaperMessage = \"%NAME% checks %INTENSIVE% diaper.\";\r\n  const otherDiaperMessage = \"%NAME% checks %OPP_NAME%'s diaper.\";\r\n  const selfClothesMessage = \"%NAME% checks %INTENSIVE% clothes for any accidents.\";\r\n  const otherClothesMessage = \"%NAME% checks %OPP_NAME%'s clothes for any accidents.\";\r\n\r\n  abclStatsWindow.open(player.MemberNumber);\r\n  if (Math.random() < 0.75) return;\r\n\r\n  if (hasDiaper(player)) return SendAction(replace_template(isSelf ? selfDiaperMessage : otherDiaperMessage, player), undefined, \"checkDiaper\", player);\r\n  return SendAction(replace_template(isSelf ? selfClothesMessage : otherClothesMessage, player), undefined, \"checkDiaper\", player);\r\n};\r\n\r\nexport const checkDiaper: CombinedAction = {\r\n  activity: {\r\n    ID: \"check-diaper\",\r\n    Name: \"Check Diaper\",\r\n    Image: `${publicURL}/activity/diaperCheck.png`,\r\n    OnClick: (player: Character, group: AssetGroupItemName) => diaperCheckFunction(player),\r\n    Target: [\"ItemPelvis\"],\r\n    Criteria: (player: Character) => isABCLPlayer(player) && !Player.IsRestrained(),\r\n  },\r\n  command: {\r\n    Tag: \"check-diaper\",\r\n    Description: ` [MemberNumber|Name|Nickname]: Checks someone's diaper.`,\r\n    Action: (args, msg, parsed) => {\r\n      const character = targetInputExtractor(parsed) ?? Player;\r\n      if (!checkDiaper.activity!.Criteria!(character)) return sendChatLocal(\"Is not an ABCL player or you are restrained.\");\r\n\r\n      diaperCheckFunction(character);\r\n    },\r\n  },\r\n};\r\n","import { CombinedAction } from \"../../types/types\";\r\nimport { sendDataToAction, sendUpdateMyData } from \"../hooks\";\r\nimport { abclPlayer, updatePlayerClothes } from \"../player/player\";\r\nimport { getCharacter, isABCLPlayer, replace_template, SendAction, targetInputExtractor } from \"../player/playerUtils\";\r\nimport { sendChatLocal } from \"../utils\";\r\n\r\nconst lickPuddleRequest = (player: Character) => {\r\n  const isSelf = player.MemberNumber === Player.MemberNumber;\r\n  if (!isSelf) return sendDataToAction(\"lick-puddle\", undefined, player.MemberNumber);\r\n  LickPuddleFunction(Player);\r\n};\r\nconst LickPuddleFunction = (player: Character) => {\r\n  const isSelf = player.MemberNumber === Player.MemberNumber;\r\n  const selfMessage = \"%NAME% licks %INTENSIVE% puddle of pee.\";\r\n  const otherMessage = \"%OPP_NAME% licks %NAME%'s puddle of pee.\";\r\n  SendAction(replace_template(isSelf ? selfMessage : otherMessage, player), undefined, \"lickPuddle\", player);\r\n\r\n  sendUpdateMyData();\r\n  updatePlayerClothes();\r\n  abclPlayer.stats.PuddleSize -= 50;\r\n};\r\nexport type lickPuddleListeners = {\r\n  \"lick-puddle\": undefined;\r\n};\r\n\r\nexport const lickPuddle: CombinedAction = {\r\n  activity: {\r\n    ID: \"lick-puddle\",\r\n    Name: \"Lick Puddle\",\r\n    Image: `${publicURL}/activity/lickPuddle.png`,\r\n    Target: [\"ItemBoots\"],\r\n    OnClick: (player: Character, group: AssetGroupItemName) => lickPuddleRequest(player),\r\n    Criteria: (player: Character) => isABCLPlayer(player) && player.ABCL!.Stats.PuddleSize.value > 0,\r\n  },\r\n  command: {\r\n    Tag: \"lick-puddle\",\r\n    Action: (args, msg, parsed) => {\r\n      const character = targetInputExtractor(parsed) ?? Player;\r\n      if (!lickPuddle.activity!.Criteria!(character)) return sendChatLocal(\"Is either not an ABCL player or has no puddle.\");\r\n      lickPuddleRequest(character);\r\n    },\r\n    Description: ` [MemberNumber|Name|Nickname]: Licks a puddle of pee.`,\r\n  },\r\n  listeners: {\r\n    \"lick-puddle\": ({ Sender }) => LickPuddleFunction(getCharacter(Sender!) ?? Player),\r\n  },\r\n};\r\n","import { CombinedAction } from \"../../types/types\";\r\nimport { sendChatLocal } from \"../utils\";\r\n\r\nexport type onABCLMessageListeners = {\r\n  onABCLMessage: { message: string; local: boolean };\r\n};\r\nexport const onABCLMessage: CombinedAction = {\r\n  listeners: {\r\n    onABCLMessage: ({ Sender }, { message, local }) => {\r\n      sendChatLocal(message, undefined, \"background: #FFA9A93B\", local);\r\n    },\r\n  },\r\n};\r\n","import { CombinedAction } from \"../../types/types\";\r\nimport { sendUpdateMyData } from \"../hooks\";\r\nimport { logger } from \"../logger\";\r\nimport { getCharacter } from \"../player/playerUtils\";\r\n\r\nexport type syncListeners = {\r\n  init: never;\r\n  sync: { settings: ModSettings; stats: ModStats; version: typeof modVersion; target?: number };\r\n};\r\n\r\nexport const sync: CombinedAction = {\r\n  listeners: {\r\n    sync: ({ Sender }, data) => {\r\n      if (!Sender) return;\r\n      console.log(\"sync:\" + modIdentifier);\r\n\r\n      logger.debug({\r\n        message: `Received updated data`,\r\n        data,\r\n      });\r\n\r\n      const otherCharacter = getCharacter(Sender);\r\n      if (!otherCharacter) return;\r\n\r\n      otherCharacter[modIdentifier] = {\r\n        Stats: data.stats,\r\n        Version: data.version,\r\n        Settings: data.settings,\r\n      };\r\n    },\r\n    init: ({ Sender }) => {\r\n      console.log(\"init\");\r\n      logger.debug(`Received request for data`);\r\n      sendUpdateMyData(Sender);\r\n    },\r\n  },\r\n};\r\n","import { CombinedAction } from \"../../types/types\";\r\nimport { abclPlayer } from \"../player/player\";\r\n\r\nexport const toPee: CombinedAction = {\r\n  activity: {\r\n    ID: \"pee\",\r\n    Name: \"Pee\",\r\n    Image: `${publicURL}/activity/wetDiaper.svg`,\r\n    OnClick: (player: Character, group: AssetGroupItemName) => abclPlayer.wet(true),\r\n    TargetSelf: [\"ItemPelvis\"],\r\n  },\r\n  command: {\r\n    Tag: \"pee\",\r\n    Action: (args, msg, parsed) => abclPlayer.wet(true),\r\n    Description: ` Lets go of your bladder.`,\r\n  },\r\n};\r\n","import { CombinedAction } from \"../../types/types\";\r\nimport { abclPlayer } from \"../player/player\";\r\n\r\nexport const toPoop: CombinedAction = {\r\n  activity: {\r\n    ID: \"poop\",\r\n    Name: \"Poop\",\r\n    Image: `${publicURL}/activity/soilDiaper.svg`,\r\n    OnClick: (player: Character, group) => abclPlayer.soil(true),\r\n    TargetSelf: [\"ItemPelvis\"],\r\n  },\r\n  command: {\r\n    Tag: \"poop\",\r\n    Action: () => abclPlayer.soil(true),\r\n    Description: ` Relaxes your bowels.`,\r\n  },\r\n};\r\n","import { INCONTINENCE_ON_POTTY_USE, INCONTINENCE_ON_TOILET_USE } from \"../../constants\";\r\nimport { CombinedAction } from \"../../types/types\";\r\nimport { hasDiaper, isDiaperLocked } from \"../player/diaper\";\r\nimport { abclPlayer } from \"../player/player\";\r\nimport { SendAction } from \"../player/playerUtils\";\r\nimport { sendChatLocal } from \"../utils\";\r\n\r\nconst usePottyFunction = () => {\r\n  const incontinenceOffset = 0.3 * abclPlayer.stats.Incontinence;\r\n  const isGood = abclPlayer.stats.BladderFullness > 0.6 || abclPlayer.stats.BowelFullness > 0.6;\r\n  const isTooEarly = abclPlayer.stats.BladderFullness < 0.3 - incontinenceOffset && abclPlayer.stats.BowelFullness < 0.3 - incontinenceOffset;\r\n  const isTooFarGone = abclPlayer.stats.MentalRegression > 0.9;\r\n  const isEmbarrassed = abclPlayer.stats.MentalRegression < 0.3;\r\n  if (isTooEarly) {\r\n    SendAction(\"%NAME% tries to use the potty but can't seem to get anything out.\", undefined, \"usePotty\");\r\n    return;\r\n  }\r\n  abclPlayer.stats.BowelFullness = 0;\r\n  abclPlayer.stats.BladderFullness = 0;\r\n  let additionalText = \"\";\r\n  if (isEmbarrassed) {\r\n    additionalText = \"and feels embarrased\";\r\n    abclPlayer.stats.MentalRegression += 0.04;\r\n  }\r\n  if (isGood && !isTooFarGone) {\r\n    additionalText += isEmbarrassed ? \" but is releaved\" : \"and feels releaved\";\r\n\r\n    abclPlayer.stats.Incontinence += INCONTINENCE_ON_POTTY_USE;\r\n    abclPlayer.stats.MentalRegression -= 0.02;\r\n  }\r\n  SendAction(\"%NAME% sits down uses the potty \" + additionalText + \".\", undefined, \"usePotty\");\r\n};\r\n\r\nexport const usePotty: CombinedAction = {\r\n  activity: {\r\n    ID: \"potty\",\r\n    Name: \"Sit and Use Potty\",\r\n    Image: `${publicURL}/activity/potty-temp.png`,\r\n    OnClick: (player: Character) => usePottyFunction(),\r\n    TargetSelf: [\"ItemButt\"],\r\n    Criteria: (player: Character) => !(hasDiaper(player) && isDiaperLocked()) && !Player.IsRestrained(),\r\n  },\r\n  command: {\r\n    Tag: \"use-potty\",\r\n    Action: (args, msg, parsed) => {\r\n      if (!usePotty.activity?.Criteria!(Player)) return sendChatLocal(\"You are restrained or diaper is locked.\");\r\n      usePottyFunction();\r\n    },\r\n    Description: ` Sit down and use the potty.`,\r\n  },\r\n};\r\n","import { INCONTINENCE_ON_TOILET_USE } from \"../../constants\";\r\nimport { CombinedAction } from \"../../types/types\";\r\nimport { hasDiaper, isDiaperLocked } from \"../player/diaper\";\r\nimport { abclPlayer } from \"../player/player\";\r\nimport { SendAction } from \"../player/playerUtils\";\r\nimport { sendChatLocal } from \"../utils\";\r\n\r\nconst useToiletFunction = () => {\r\n  const incontinenceOffset = 0.3 * abclPlayer.stats.Incontinence;\r\n  const isTooEarly = abclPlayer.stats.BladderFullness < 0.3 && abclPlayer.stats.BowelFullness < 0.3;\r\n  const isGood = abclPlayer.stats.BladderFullness > 0.6 - incontinenceOffset || abclPlayer.stats.BowelFullness > 0.6 - incontinenceOffset;\r\n  if (isTooEarly) return sendChatLocal(\"You try to use the toilet but you can't seem to get anything out.\");\r\n  let additionalText = \"\";\r\n  if (isGood) {\r\n    additionalText = \"and feels releaved\";\r\n    abclPlayer.stats.MentalRegression -= 0.02;\r\n    abclPlayer.stats.Incontinence += INCONTINENCE_ON_TOILET_USE;\r\n  }\r\n  abclPlayer.stats.BladderFullness = 0;\r\n  abclPlayer.stats.BowelFullness = 0;\r\n  SendAction(\"%NAME% goes to the bathroom uses the toilet \" + additionalText + \".\", undefined, \"useToilet\");\r\n};\r\n\r\nexport const useToilet: CombinedAction = {\r\n  activity: {\r\n    ID: \"toilet\",\r\n    Name: \"Sit and Use Toilet\",\r\n    Image: `${publicURL}/activity/toilet-temp.png`,\r\n    OnClick: (player: Character) => useToiletFunction(),\r\n    Criteria: (player: Character) => abclPlayer.stats.MentalRegression < 0.3 && !(hasDiaper(player) && isDiaperLocked()) && !Player.IsRestrained(),\r\n    TargetSelf: [\"ItemButt\"],\r\n  },\r\n  command: {\r\n    Tag: \"use-toilet\",\r\n    Action: () => {\r\n      if (abclPlayer.stats.MentalRegression < 0.3)\r\n        return sendChatLocal(\"You feel uncomfortable, the toilet is cold and hard almost like ice. You can't use it.\");\r\n      if (hasDiaper() && (Player.IsRestrained() || isDiaperLocked())) return sendChatLocal(\"You can't use the toilet while your diaper is locked.\");\r\n\r\n      useToiletFunction();\r\n    },\r\n    Description: ` Sit down and use the toilet.`,\r\n  },\r\n};\r\n","import { CombinedAction } from \"../../types/types\";\r\nimport { sendDataToAction, sendUpdateMyData } from \"../hooks\";\r\nimport { abclPlayer, updatePlayerClothes } from \"../player/player\";\r\nimport { getCharacter, isABCLPlayer, replace_template, SendAction } from \"../player/playerUtils\";\r\nimport { sendChatLocal } from \"../utils\";\r\nconst WipePuddleRequest = (player: Character) => {\r\n  if (player.MemberNumber !== Player.MemberNumber) return sendDataToAction(\"wipe-puddle\", undefined, player.MemberNumber);\r\n  WipePuddleFunction(Player);\r\n};\r\nconst WipePuddleFunction = (player: Character) => {\r\n  abclPlayer.stats.PuddleSize = 0;\r\n  sendUpdateMyData();\r\n  updatePlayerClothes();\r\n  if (player.MemberNumber !== Player.MemberNumber)\r\n    return SendAction(replace_template(\"%OPP_NAME% wipes %NAME%'s puddle of pee.\", player), undefined, \"wipePuddle\", player);\r\n\r\n  SendAction(replace_template(\"%NAME% wipes %INTENSIVE% puddle of pee.\", player), undefined, \"wipePuddle\", player);\r\n};\r\nexport type wipePuddleListeners = {\r\n  \"wipe-puddle\": undefined;\r\n};\r\n\r\nexport const wipePuddle: CombinedAction = {\r\n  activity: {\r\n    ID: \"wipe-puddle\",\r\n    Name: \"Wipe Puddle\",\r\n    Image: `./Assets/Female3DCG/ItemHandheld/Preview/Towel.png`,\r\n    Target: [\"ItemBoots\"],\r\n    OnClick: (player: Character, group: AssetGroupItemName) => WipePuddleRequest(player),\r\n    Criteria: (player: Character) => isABCLPlayer(player) && player.ABCL!.Stats.PuddleSize.value > 0 && !Player.IsRestrained(),\r\n  },\r\n  command: {\r\n    Tag: \"wipe-puddle\",\r\n    Action: (args, msg, parsed) => {\r\n      const character = getCharacter(parsed[0]) ?? Player;\r\n      if (!wipePuddle.activity!.Criteria!(character)) return sendChatLocal(\"Is either not an ABCL player or has no puddle. Or you are restrained.\");\r\n\r\n      WipePuddleRequest(character);\r\n    },\r\n    Description: ` [MemberNumber|Name|Nickname]: Wipes a puddle of pee.`,\r\n  },\r\n  listeners: {\r\n    \"wipe-puddle\": ({ Sender }) => {\r\n      WipePuddleFunction(getCharacter(Sender!) ?? Player);\r\n    },\r\n  },\r\n};\r\n","import { ABCLActivity, CombinedAction, HookListener } from \"../types/types\";\r\nimport { changeDiaper } from \"./actions/changeDiaper\";\r\nimport { checkDiaper } from \"./actions/checkDiaper\";\r\nimport { lickPuddle } from \"./actions/lickPuddle\";\r\nimport { onABCLMessage } from \"./actions/onABCLMessage\";\r\nimport { sync, syncListeners } from \"./actions/sync\";\r\nimport { toPee } from \"./actions/toPee\";\r\nimport { toPoop } from \"./actions/toPoop\";\r\nimport { usePotty } from \"./actions/usePotty\";\r\nimport { useToilet } from \"./actions/useToilet\";\r\nimport { wipePuddle } from \"./actions/wipePuddle\";\r\nimport { bcModSDK, waitForElement } from \"./utils\";\r\n\r\nclass Activity {\r\n  constructor(\r\n    public id: string,\r\n    public name: string,\r\n    public image: string,\r\n    public onClick?: (player: Character, group: AssetGroupItemName) => void,\r\n    private target?: AssetGroupItemName[],\r\n    private targetSelf?: AssetGroupItemName[],\r\n    private criteria?: (player: Character) => boolean,\r\n  ) {}\r\n\r\n  fitsCriteria(player: Character, focusGroup: AssetGroupItemName): boolean {\r\n    return Boolean(\r\n      (!this.criteria || this.criteria(player)) &&\r\n        (this.target?.includes(focusGroup) || (this.targetSelf?.includes(focusGroup) && Player.MemberNumber === player?.MemberNumber)),\r\n    );\r\n  }\r\n\r\n  createButton(): HTMLButtonElement {\r\n    const button = document.createElement(\"button\");\r\n    button.id = this.id;\r\n    button.name = `${modIdentifier}_${this.name}`;\r\n    button.dataset.group = \"ItemArms\";\r\n    button.className = `blank-button button button-styling HideOnPopup dialog-grid-button`;\r\n    button.innerHTML = `<img decoding=\"async\" loading=\"lazy\" src=\"${this.image}\" class=\"button-image\"><span class=\"button-label button-label-bottom\">${this.name}</span>`;\r\n\r\n    button.addEventListener(\"click\", e => {\r\n      const player = CurrentCharacter?.FocusGroup ? CurrentCharacter : Player;\r\n      const focusGroup = player?.FocusGroup?.Name;\r\n      if (!this.onClick || !focusGroup) return;\r\n      this.onClick(player, focusGroup);\r\n      DialogLeave();\r\n    });\r\n\r\n    return button;\r\n  }\r\n\r\n  static isInserted(id: string): boolean {\r\n    return Boolean(document.getElementById(id));\r\n  }\r\n}\r\n\r\nexport const initActions = (): void => {\r\n  bcModSDK.hookFunction(\"DialogMenuMapping.activities.GetClickStatus\", 1, (args, next) => {\r\n    const [_C, _clickedObj, _equippedItem] = args;\r\n    if (!_clickedObj) return null;\r\n    return next(args);\r\n  });\r\n\r\n  bcModSDK.hookFunction(\"DialogChangeMode\", 1, async (args, next) => {\r\n    const [_mode] = args;\r\n    next(args);\r\n    if (_mode !== \"activities\") return;\r\n    const player = CurrentCharacter?.FocusGroup ? CurrentCharacter : Player;\r\n    const activityGrid = await waitForElement(\"#dialog-activity-grid\");\r\n    const focusGroup = player.FocusGroup?.Name;\r\n    if (!focusGroup) return;\r\n\r\n    for (const { activity } of actions) {\r\n      if (!activity) continue;\r\n      const activityInstance = new Activity(\r\n        activity.ID,\r\n        activity.Name,\r\n        activity.Image,\r\n        activity.OnClick,\r\n        activity.Target,\r\n        activity.TargetSelf,\r\n        activity.Criteria,\r\n      );\r\n      if (activityInstance.fitsCriteria(player, focusGroup)) {\r\n        if (!Activity.isInserted(activity.ID)) {\r\n          activityGrid.appendChild(activityInstance.createButton());\r\n        }\r\n      }\r\n    }\r\n  });\r\n  CommandCombine(commands);\r\n};\r\nexport const actions: CombinedAction[] = [changeDiaper, checkDiaper, toPee, toPoop, usePotty, useToilet, sync, lickPuddle, wipePuddle, onABCLMessage];\r\n\r\nexport const commands = actions.reduce((commands, { command }) => (command ? [...commands, command] : commands), [] as ICommand[]);\r\nexport const activites = actions.reduce((activites, { activity }) => (activity ? [...activites, activity] : activites), [] as ABCLActivity[]);\r\n","import bcModSdk from \"bondage-club-mod-sdk\";\r\nimport { PluginServerChatRoomMessage, ListenerTypeMap, HookListener } from \"../types/types\";\r\nimport { logger } from \"./logger\";\r\nimport { isDiaper, updateDiaperColor } from \"./player/diaper\";\r\nimport { isABCLPlayer } from \"./player/playerUtils\";\r\nimport { bcModSDK, waitFor } from \"./utils\";\r\nimport { overlay } from \"./player/ui\";\r\nimport { ModIdentifier, ModVersion } from \"../types/definitions\";\r\nimport { actions } from \"./actionLoader\";\r\nimport { abclPlayer } from \"./player/player\";\r\nimport { ACCIDENTS_ON_ACTIVITIES } from \"../constants\";\r\nexport const sendDataToAction = (type: string, data?: any, target?: number) => {\r\n  const ChatRoomMessage: PluginServerChatRoomMessage = {\r\n    Type: \"Hidden\",\r\n    Content: `${ModIdentifier}Msg`,\r\n    Sender: Player.MemberNumber,\r\n    Target: target,\r\n    Dictionary: [\r\n      {\r\n        type: type,\r\n        data: data,\r\n      },\r\n    ],\r\n  };\r\n  ServerSend(\"ChatRoomChat\", ChatRoomMessage as ServerChatRoomMessage);\r\n  console.log(\"sendDataToAction\", type, data, target);\r\n};\r\n\r\n/**\r\n * Sends an update of the player's settings to the specified target or to everyone in the chat room.\r\n *\r\n * @param {number} [target] - The MemberNumber of the target player. If not specified, the update is sent to all players.\r\n */\r\nexport const sendUpdateMyData = (target?: number) => {\r\n  console.log(\"sendUpdateMyData target\", target);\r\n  sendDataToAction(\r\n    \"sync\",\r\n    {\r\n      settings: Player[ModIdentifier].Settings,\r\n      stats: Player[ModIdentifier].Stats,\r\n      version: ModVersion,\r\n    },\r\n    target,\r\n  );\r\n  logger.debug({\r\n    message: `Sending updated data to ${target ?? \"everyone\"}`,\r\n  });\r\n};\r\n\r\n/**\r\n * Sends a request packet to other players in the chat room to retrieve their data.\r\n */\r\nexport const sendRequestOtherDataPacket = () => {\r\n  sendDataToAction(\"init\", 1);\r\n\r\n  logger.debug(`Requesting data from others.`);\r\n};\r\n\r\n/**\r\n * Processes incoming packets and delegates them to the appropriate handler based on their type.\r\n *\r\n * @param {PluginServerChatRoomMessage} receivedMessage - The message data received from the server.\r\n */\r\n\r\nconst receivePacket = (receivedMessage: PluginServerChatRoomMessage) => {\r\n  if (receivedMessage?.Content !== `${modIdentifier}Msg`) return;\r\n  if (!receivedMessage.Sender || !receivedMessage.Dictionary) return;\r\n  if (receivedMessage.Sender === Player.MemberNumber) return;\r\n  if (receivedMessage.Type !== \"Hidden\") return;\r\n  if (!receivedMessage.Dictionary[0]?.type) return;\r\n\r\n  const type = receivedMessage.Dictionary[0]?.type as keyof ListenerTypeMap;\r\n  const data = receivedMessage.Dictionary[0]?.data as ListenerTypeMap[typeof type];\r\n  for (const action of actions) {\r\n    const listener = action.listeners?.[type];\r\n\r\n    if (listener) {\r\n      (listener as HookListener<ListenerTypeMap[typeof type]>)(receivedMessage, data);\r\n    }\r\n  }\r\n  console.log(\"receivePacket\", type, data, receivedMessage.Sender);\r\n};\r\n\r\n/**\r\n *\r\n * Initializes hooks for intercepting chat room messages and synchronizing player data.\r\n * This function waits until the server is connected before setting up hooks.\r\n */\r\n\r\nconst initHooks = async () => {\r\n  await waitFor(() => ServerSocket && ServerIsConnected);\r\n  bcModSDK.hookFunction(\"DrawCharacter\", 1, (args, next) => {\r\n    const [C, CharX, CharY, Zoom] = args;\r\n\r\n    if (isABCLPlayer(C) && C.ABCL!.Stats.PuddleSize.value > 0) {\r\n      const puddleSizeFactor = C.ABCL!.Stats.PuddleSize.value / 300;\r\n\r\n      const width = 512 * puddleSizeFactor;\r\n      const height = 235 * puddleSizeFactor;\r\n\r\n      // Calculate the centered position\r\n      const x = CharX + (250 * Zoom - width / 2);\r\n      const y = CharY + (940 * Zoom - height / 2);\r\n\r\n      DrawImageResize(`${publicURL}/puddle.png`, x, y, width, height);\r\n    }\r\n\r\n    return next(args);\r\n  });\r\n  bcModSDK.hookFunction(\"ChatRoomSync\", 1, (args, next) => {\r\n    sendUpdateMyData(); // Tell everyone else to update their copy of our data, when we join a room.\r\n    return next(args);\r\n  });\r\n\r\n  bcModSDK.hookFunction(\"ChatRoomMessage\", 1, (args, next) => {\r\n    if (args[0].Content === \"ServerEnter\" && args[0].Sender === Player.MemberNumber) {\r\n      // Announce (via an init packet) that we're ready to receive data models.\r\n      sendRequestOtherDataPacket();\r\n      return;\r\n    }\r\n\r\n    receivePacket(args[0] as PluginServerChatRoomMessage);\r\n    return next(args);\r\n  });\r\n  bcModSDK.hookFunction(\"CharacterAppearanceSetItem\", 1, (args, next) => {\r\n    let [_character, _slot, _asset] = args;\r\n    const _result = next(args);\r\n    if (_slot === \"ItemPelvis\" && _asset) {\r\n      if (isDiaper({ Asset: _asset })) updateDiaperColor();\r\n    }\r\n    return _result;\r\n  });\r\n  bcModSDK.hookFunction(\"ActivityRun\", 1, (args, next) => {\r\n    const result = next(args);\r\n    const [actor, acted, targetGroup, ItemActivity, ...rest] = args;\r\n    const activity = ItemActivity?.Activity;\r\n    if (abclPlayer.settings.AccidentsByActivities && acted.MemberNumber === Player.MemberNumber && activity.Name in ACCIDENTS_ON_ACTIVITIES) {\r\n      const chance = ACCIDENTS_ON_ACTIVITIES[activity.Name] as { wetting?: number; messing?: number };\r\n      if (abclPlayer.settings.PeeMetabolism !== \"Disabled\" && chance.wetting && Math.random() < chance.wetting * (1 + 2 * abclPlayer.stats.Incontinence)) {\r\n        abclPlayer.attemptWetting();\r\n      }\r\n      if (abclPlayer.settings.PoopMetabolism !== \"Disabled\" && chance.messing && Math.random() < chance.messing * (1 + 2 * abclPlayer.stats.Incontinence)) {\r\n        abclPlayer.attemptSoiling();\r\n      }\r\n    }\r\n    return result;\r\n  });\r\n  bcModSDK.hookFunction(\"PreferenceSubscreenChatClick\", 1, (args, next) => {\r\n    if (MouseIn(1815, 75, 90, 90)) {\r\n      const theme = Player.ChatSettings?.ColorTheme ?? \"Light\";\r\n      if (theme.startsWith(\"Light\") && !!overlay && !overlay.classList.contains(\"sl-theme-light\")) {\r\n        overlay.classList.remove(\"sl-theme-dark\");\r\n        overlay.classList.add(\"sl-theme-light\");\r\n        overlay.style.color = \"black\";\r\n        logger.info(`SL theme switching: Light`);\r\n      }\r\n      if (theme.startsWith(\"Dark\") && !!overlay && !overlay.classList.contains(\"sl-theme-dark\")) {\r\n        overlay.classList.remove(\"sl-theme-light\");\r\n        overlay.classList.add(\"sl-theme-dark\");\r\n        overlay.style.color = \"white\";\r\n        logger.info(`SL theme switching: Dark`);\r\n      }\r\n    }\r\n    return next(args);\r\n  });\r\n};\r\n\r\nexport default initHooks;\r\n\r\nconst reportWebhookURL = `https://discord.com/api/webhooks/1340000414506029162/aqt7qruFnzDMM5BN_kLtv9gCcallIF-JeRVYl9k23uSIlxrHRvcFMy5mtPUPGDpWZhHX`;\r\nconst lastDetectedErrors: string[] = [];\r\n\r\nwindow.addEventListener(\"error\", async e => {\r\n  console.error(e.filename);\r\n  if (!e.filename.toLowerCase().includes(\"abcl\")) return;\r\n  const detectedError = `${e.message} at ${e.filename} ${e.lineno}`;\r\n  if (lastDetectedErrors.includes(detectedError)) return;\r\n  lastDetectedErrors.push(detectedError);\r\n  const body = {\r\n    username: `${Player.Name} ${Player.Nickname === \"\" ? \"\" : `aka ${Player.Nickname}`} (${Player.MemberNumber})`,\r\n    thread_name: `${ModIdentifier} ${ModVersion} Error ${e.message}`.slice(0, 100),\r\n    content: `\r\n    error: ${detectedError}\r\n\\`\\`\\`\r\n${e.error.stack}\r\n\\`\\`\\`\r\nmods: ${bcModSdk\r\n      .getModsInfo()\r\n      .map(m => m.name)\r\n      .join(\", \")}`,\r\n  };\r\n  await fetch(reportWebhookURL, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify(body),\r\n  });\r\n});\r\n","import { bcModSDK } from \"../core/utils\";\r\nimport { ModScreen } from \"../types/types\";\r\n\r\nexport const initScreens = (screens: ModScreen[]) => {\r\n  bcModSDK.hookFunction(\"TextLoad\", 5, (args, next) => {\r\n    if (screens.some((screen) => screen.module === CurrentModule && screen.id === CurrentScreen)) {\r\n      return;\r\n    }\r\n\r\n    return next(args);\r\n  });\r\n\r\n  screens.forEach((screen) => {\r\n    (<any>window)[`${screen.id}Background`] = \"Sheet\";\r\n\r\n    const { KeyUp, Click, ...rest } = screen.functions;\r\n\r\n    const injectedScreenFunctions = {\r\n      ...rest,\r\n      KeyUp: (event: KeyboardEvent) => {\r\n        if (event.key === \"Escape\") {\r\n          (<any>window)[`${screen.id}Exit`]();\r\n        }\r\n\r\n        KeyUp?.(event);\r\n      },\r\n      Click: (event: MouseEvent) => {\r\n        if (MouseIn(1815, 75, 90, 90)) {\r\n          (<any>window)[`${screen.id}Exit`]();\r\n        }\r\n        Click?.(event);\r\n      },\r\n    };\r\n\r\n    (<any>window)[`${screen.id}ScreenFunctions`] = injectedScreenFunctions;\r\n\r\n    Object.entries(injectedScreenFunctions).forEach(([key, value]) => {\r\n      (<any>window)[`${screen.id}${key}`] = value;\r\n    });\r\n  });\r\n};\r\n","import { abclPlayer } from \"../../core/player/player\";\r\nimport { getCharacter, getCharacterName } from \"../../core/player/playerUtils\";\r\nimport { overlay } from \"../../core/player/ui\";\r\nimport { syncData } from \"../../core/settings\";\r\nimport { getElement } from \"../../core/utils\";\r\nimport { ModName } from \"../../types/definitions\";\r\n\r\nconst htmlSettingPage = document.createElement(\"div\");\r\nhtmlSettingPage.classList.add(`${modIdentifier}SettingPage`, `${modIdentifier}Hidden`);\r\n\r\nconst updateRemoteList = (list: HTMLElement) => {\r\n  if (!(<any>window)?.LITTLISH_CLUB) return;\r\n  const caregivers = window.LITTLISH_CLUB.getCaregiversOf(Player);\r\n  list.innerHTML = ChatRoomCharacter.filter(\r\n    character => character.ABCL && character.MemberNumber !== Player.MemberNumber && caregivers.includes(Player.MemberNumber!),\r\n  )\r\n    .map(character => `<sl-option value=\"${character.MemberNumber}\">${getCharacterName(character.MemberNumber)}</sl-option>`)\r\n    .join(\"\");\r\n};\r\n\r\nexport const initSettingsScreen = async () => {\r\n  htmlSettingPage.innerHTML = `<sl-tab-group>\r\n  <sl-tab slot=\"nav\" panel=\"general\">General</sl-tab>\r\n  <sl-tab slot=\"nav\" panel=\"messages\">Messages</sl-tab>\r\n  <sl-tab slot=\"nav\" panel=\"remote\">Remote</sl-tab>\r\n  <sl-tab-panel name=\"general\">\r\n    <sl-radio-group class=\"${modIdentifier}PeeMetabolismSelect\" label=\"Select Pee Metabolism\" name=\"pee-metabolism\" value=\"${\r\n    abclPlayer.settings.PeeMetabolism\r\n  }\">\r\n    <sl-radio-button value=\"Disabled\">Disabled</sl-radio-button>\r\n    <sl-radio-button value=\"Slow\">Slow</sl-radio-button>\r\n    <sl-radio-button value=\"Normal\">Normal</sl-radio-button>\r\n    <sl-radio-button value=\"Fast\">Fast</sl-radio-button>\r\n    <sl-radio-button value=\"Faster\">Faster</sl-radio-button>\r\n    <sl-radio-button value=\"Fastest\">Fastest</sl-radio-button>\r\n    </sl-radio-group>\r\n\r\n    <sl-radio-group class=\"${modIdentifier}PoopMetabolismSelect\" label=\"Select Poop Metabolism\" name=\"poop-metabolism\" value=\"${\r\n    abclPlayer.settings.PoopMetabolism\r\n  }\">\r\n    <sl-radio-button value=\"Disabled\">Disabled</sl-radio-button>\r\n    <sl-radio-button value=\"Slow\">Slow</sl-radio-button>\r\n    <sl-radio-button value=\"Normal\">Normal</sl-radio-button>\r\n    <sl-radio-button value=\"Fast\">Fast</sl-radio-button>\r\n    <sl-radio-button value=\"Faster\">Faster</sl-radio-button>\r\n    <sl-radio-button value=\"Fastest\">Fastest</sl-radio-button>\r\n    </sl-radio-group>\r\n\r\n    <sl-radio-group class=\"${modIdentifier}OnDiaperChangeSelect\" label=\"Select On Diaper Change\" name=\"on-diaper-change\" value=\"${\r\n    abclPlayer.settings.OnDiaperChange\r\n  }\">\r\n    <sl-radio-button value=\"Deny\">Deny</sl-radio-button>\r\n    <sl-radio-button value=\"Ask\">Ask</sl-radio-button>\r\n    <sl-radio-button value=\"Allow\">Allow</sl-radio-button>\r\n    </sl-radio-group>\r\n\r\n    <sl-checkbox class=\"${modIdentifier}DisableClothingStains\" name=\"disable-clothing-stains\" checked=\"${\r\n    abclPlayer.settings.DisableClothingStains\r\n  }\">Disable Clothing Stains</sl-checkbox>\r\n    <sl-checkbox class=\"${modIdentifier}DisableDiaperStains\" name=\"disable-diaper-stains\" checked=\"${\r\n    abclPlayer.settings.DisableDiaperStains\r\n  }\">Disable Diaper Stains</sl-checkbox>\r\n  </sl-tab-panel>\r\n  <sl-tab-panel name=\"messages\">\r\n  <div>\r\n  <h1 class=\"${modIdentifier}MessageVisibility\"> Status messages for self: </h1>\r\n  <div style=\"margin-left: 1em;\">\r\n    <sl-checkbox class=\"${modIdentifier}BladderStatusMessage\" name=\"bladder-StatusMessage\" checked=\"${abclPlayer.settings.getStatusMessageSetting(\r\n    \"Bladder\",\r\n  )}\">Bladder</sl-checkbox>\r\n    <sl-checkbox class=\"${modIdentifier}BowelStatusMessage\" name=\"bowel-StatusMessage\" checked=\"${abclPlayer.settings.getStatusMessageSetting(\r\n    \"Bowel\",\r\n  )}\">Bowel</sl-checkbox>\r\n    <sl-checkbox class=\"${modIdentifier}SoilinessStatusMessage\" name=\"soiliness-StatusMessage\" checked=\"${abclPlayer.settings.getStatusMessageSetting(\r\n    \"Soiliness\",\r\n  )}\">Soiliness</sl-checkbox>\r\n    <sl-checkbox class=\"${modIdentifier}WetnessStatusMessage\" name=\"wetness-StatusMessage\" checked=\"${abclPlayer.settings.getStatusMessageSetting(\r\n    \"Wetness\",\r\n  )}\">Wetness</sl-checkbox>\r\n    <sl-checkbox class=\"${modIdentifier}MentalRegressionStatusMessage\" name=\"mental-regression-StatusMessage\" checked=\"${abclPlayer.settings.getStatusMessageSetting(\r\n    \"MentalRegression\",\r\n  )}\">Mental Regression</sl-checkbox>\r\n    <sl-checkbox class=\"${modIdentifier}IncontinenceStatusMessage\" name=\"incontinence-StatusMessage\" checked=\"${abclPlayer.settings.getStatusMessageSetting(\r\n    \"Incontinence\",\r\n  )}\">Incontinence</sl-checkbox>\r\n    <sl-checkbox class=\"${modIdentifier}PuddleSizeStatusMessage\" name=\"puddle-size-StatusMessage\" checked=\"${abclPlayer.settings.getStatusMessageSetting(\r\n    \"PuddleSize\",\r\n  )}\">Puddle Size</sl-checkbox>\r\n  </div>\r\n  </div>\r\n  <div>\r\n  <h1 class=\"${modIdentifier}MessageVisibility\"> Message visibility for others: </h1>\r\n  <div style=\"margin-left: 1em;\"> \r\n    <sl-checkbox class=\"${modIdentifier}ChangeDiaperVisibility\" name=\"change-diaper-visibility\" checked=\"${abclPlayer.settings.getPublicMessage(\r\n    \"changeDiaper\",\r\n  )}\">Change Diaper</sl-checkbox>\r\n    <sl-checkbox class=\"${modIdentifier}CheckDiaperVisibility\" name=\"check-diaper-visibility\" checked=\"${abclPlayer.settings.getPublicMessage(\r\n    \"checkDiaper\",\r\n  )}\">Check Diaper</sl-checkbox>\r\n    <sl-checkbox class=\"${modIdentifier}LickPuddleVisibility\" name=\"lick-puddle-visibility\" checked=\"${abclPlayer.settings.getPublicMessage(\r\n    \"lickPuddle\",\r\n  )}\">Lick Puddle</sl-checkbox>\r\n    <sl-checkbox class=\"${modIdentifier}WetDiaperVisibility\" name=\"wet-diaper-visibility\" checked=\"${abclPlayer.settings.getPublicMessage(\r\n    \"wetDiaper\",\r\n  )}\">Wet Diaper</sl-checkbox>\r\n    <sl-checkbox class=\"${modIdentifier}WetClothingVisibility\" name=\"wet-clothing-visibility\" checked=\"${abclPlayer.settings.getPublicMessage(\r\n    \"wetClothing\",\r\n  )}\">Wet Clothing</sl-checkbox>\r\n    <sl-checkbox class=\"${modIdentifier}SoilDiaperVisibility\" name=\"soil-diaper-visibility\" checked=\"${abclPlayer.settings.getPublicMessage(\r\n    \"soilDiaper\",\r\n  )}\">Soil Diaper</sl-checkbox>\r\n    <sl-checkbox class=\"${modIdentifier}SoilClothingVisibility\" name=\"soil-clothing-visibility\" checked=\"${abclPlayer.settings.getPublicMessage(\r\n    \"soilClothing\",\r\n  )}\">Soil Clothing</sl-checkbox>\r\n    <sl-checkbox class=\"${modIdentifier}UsePottyVisibility\" name=\"use-potty-visibility\" checked=\"${abclPlayer.settings.getPublicMessage(\r\n    \"usePotty\",\r\n  )}\">Use Potty</sl-checkbox>\r\n    <sl-checkbox class=\"${modIdentifier}UseToiletVisibility\" name=\"use-toilet-visibility\" checked=\"${abclPlayer.settings.getPublicMessage(\r\n    \"useToilet\",\r\n  )}\">Use Toilet</sl-checkbox>\r\n    <sl-checkbox class=\"${modIdentifier}WipePuddleVisibility\" name=\"wipe-puddle-visibility\" checked=\"${abclPlayer.settings.getPublicMessage(\r\n    \"wipePuddle\",\r\n  )}\">Wipe Puddle</sl-checkbox>\r\n  <sl-checkbox class=\"${modIdentifier}StatusMessagesVisibility\" name=\"status-messages-visibility\" checked=\"${abclPlayer.settings.getPublicMessage(\r\n    \"statusMessages\",\r\n  )}\">Status Messages</sl-checkbox>\r\n  </div>\r\n  </div>\r\n  </sl-tab-panel>\r\n\r\n  <sl-tab-panel name=\"remote\">\r\n    ${\r\n      /* <sl-select class=\"${modIdentifier}RemotePlayerSelect\" label=\"Select Player\" name=\"player\" value=\"\">\r\n    </sl-select>\r\n    <sl-button class=\"${modIdentifier}RefreshRemotes\">Refresh Remotes</sl-button>\r\n    <sl-tab-group>\r\n      <sl-tooltip content=\"Attempts to update the selected player's settings\" placement=\"right-start\">\r\n        <sl-button class=\"${modIdentifier}RemotePushSettings\">Push Settings</sl-button>\r\n      </sl-tooltip>\r\n      <sl-tab slot=\"nav\" panel=\"general\">General</sl-tab>\r\n      \r\n      <sl-tab-panel name=\"general\">\r\n        <sl-radio-group class=\"${modIdentifier}RemotePeeMetabolismSelect\" label=\"Select Pee Metabolism\" name=\"pee-metabolism\" value=\"${abclPlayer.settings.PeeMetabolism}\">\r\n        <sl-radio-button value=\"Disabled\">Disabled</sl-radio-button>\r\n        <sl-radio-button value=\"Slow\">Slow</sl-radio-button>\r\n        <sl-radio-button value=\"Normal\">Normal</sl-radio-button>\r\n        <sl-radio-button value=\"Fast\">Fast</sl-radio-button>\r\n        <sl-radio-button value=\"Faster\">Faster</sl-radio-button>\r\n        <sl-radio-button value=\"Fastest\">Fastest</sl-radio-button>\r\n        </sl-radio-group>\r\n\r\n        <sl-radio-group class=\"${modIdentifier}RemotePoopMetabolismSelect\" label=\"Select Poop Metabolism\" name=\"poop-metabolism\" value=\"${abclPlayer.settings.PoopMetabolism}\">\r\n        <sl-radio-button value=\"Disabled\">Disabled</sl-radio-button>\r\n        <sl-radio-button value=\"Slow\">Slow</sl-radio-button>\r\n        <sl-radio-button value=\"Normal\">Normal</sl-radio-button>\r\n        <sl-radio-button value=\"Fast\">Fast</sl-radio-button>\r\n        <sl-radio-button value=\"Faster\">Faster</sl-radio-button>\r\n        <sl-radio-button value=\"Fastest\">Fastest</sl-radio-button>\r\n        </sl-radio-group>\r\n        <sl-radio-group class=\"${modIdentifier}RemoteOnDiaperChangeSelect\" label=\"Select On Diaper Change\" name=\"on-diaper-change\" value=\"${abclPlayer.settings.OnDiaperChange}\">\r\n        <sl-radio-button value=\"Deny\">Deny</sl-radio-button>\r\n        <sl-radio-button value=\"Ask\">Ask</sl-radio-button>\r\n        <sl-radio-button value=\"Allow\">Allow</sl-radio-button>\r\n        </sl-radio-group> */ \"In development\"\r\n    }\r\n      </sl-tab-panel>\r\n    </sl-tab-group>\r\n  </sl-tab-panel>\r\n</sl-tab-group>\r\n  `;\r\n\r\n  // remote\r\n  /*  const remotePlayerSelect: HTMLSelectElement | null = htmlSettingPage.querySelector(`.${modIdentifier}RemotePlayerSelect`);\r\n  const refreshRemotes: HTMLButtonElement | null = htmlSettingPage.querySelector(`.${modIdentifier}RefreshRemotes`);\r\n  const remotePushSettings: HTMLButtonElement | null = htmlSettingPage.querySelector(`.${modIdentifier}RemotePushSettings`);\r\n */\r\n  // remote general\r\n  /*   const remotePeeMetabolismSelect: HTMLSelectElement | null = htmlSettingPage.querySelector(`.${modIdentifier}RemotePeeMetabolismSelect`);\r\n  const remotePoopMetabolismSelect: HTMLSelectElement | null = htmlSettingPage.querySelector(`.${modIdentifier}RemotePoopMetabolismSelect`);\r\n  const remoteOnDiaperChangeSelect: HTMLSelectElement | null = htmlSettingPage.querySelector(`.${modIdentifier}RemoteOnDiaperChangeSelect`);\r\n */\r\n  // general\r\n  const peeMetabolismSelect = getElement(htmlSettingPage, `.${modIdentifier}PeeMetabolismSelect`);\r\n  const poopMetabolismSelect = getElement(htmlSettingPage, `.${modIdentifier}PoopMetabolismSelect`);\r\n  const onDiaperChangeSelect = getElement(htmlSettingPage, `.${modIdentifier}OnDiaperChangeSelect`);\r\n  const disableDiaperStainsCheckbox = getElement(htmlSettingPage, `.${modIdentifier}DisableDiaperStains`);\r\n  const disableClothingStainsCheckbox = getElement(htmlSettingPage, `.${modIdentifier}DisableClothingStains`);\r\n\r\n  // messages\r\n  const visibilityElements: Record<keyof ModSettings[\"VisibleMessages\"], Element> = {\r\n    useToilet: getElement(htmlSettingPage, `.${modIdentifier}UseToiletVisibility`),\r\n    wipePuddle: getElement(htmlSettingPage, `.${modIdentifier}WipePuddleVisibility`),\r\n    changeDiaper: getElement(htmlSettingPage, `.${modIdentifier}ChangeDiaperVisibility`),\r\n    checkDiaper: getElement(htmlSettingPage, `.${modIdentifier}CheckDiaperVisibility`),\r\n    lickPuddle: getElement(htmlSettingPage, `.${modIdentifier}LickPuddleVisibility`),\r\n    wetDiaper: getElement(htmlSettingPage, `.${modIdentifier}WetDiaperVisibility`),\r\n    wetClothing: getElement(htmlSettingPage, `.${modIdentifier}WetClothingVisibility`),\r\n    soilDiaper: getElement(htmlSettingPage, `.${modIdentifier}SoilDiaperVisibility`),\r\n    soilClothing: getElement(htmlSettingPage, `.${modIdentifier}SoilClothingVisibility`),\r\n    usePotty: getElement(htmlSettingPage, `.${modIdentifier}UsePottyVisibility`),\r\n    statusMessages: getElement(htmlSettingPage, `.${modIdentifier}StatusMessagesVisibility`),\r\n  };\r\n  const StatusMessageElements: Partial<Record<keyof ModSettings[\"StatusMessages\"], Element>> = {\r\n    Bladder: getElement(htmlSettingPage, `.${modIdentifier}BladderStatusMessage`),\r\n    Bowel: getElement(htmlSettingPage, `.${modIdentifier}BowelStatusMessage`),\r\n    Incontinence: getElement(htmlSettingPage, `.${modIdentifier}IncontinenceStatusMessage`),\r\n    MentalRegression: getElement(htmlSettingPage, `.${modIdentifier}MentalRegressionStatusMessage`),\r\n    PuddleSize: getElement(htmlSettingPage, `.${modIdentifier}PuddleSizeStatusMessage`),\r\n    Soiliness: getElement(htmlSettingPage, `.${modIdentifier}SoilinessStatusMessage`),\r\n    Wetness: getElement(htmlSettingPage, `.${modIdentifier}WetnessStatusMessage`),\r\n  };\r\n\r\n  // general\r\n  peeMetabolismSelect.addEventListener(\"sl-change\", (e: any) => {\r\n    abclPlayer.settings.PeeMetabolism = e.target.value;\r\n  });\r\n  poopMetabolismSelect.addEventListener(\"sl-change\", (e: any) => {\r\n    abclPlayer.settings.PoopMetabolism = e.target.value;\r\n  });\r\n  onDiaperChangeSelect.addEventListener(\"sl-change\", (e: any) => {\r\n    abclPlayer.settings.OnDiaperChange = e.target.value;\r\n  });\r\n  disableDiaperStainsCheckbox.addEventListener(\"sl-change\", (e: any) => {\r\n    abclPlayer.settings.DisableDiaperStains = e.target.checked;\r\n  });\r\n  disableClothingStainsCheckbox.addEventListener(\"sl-change\", (e: any) => {\r\n    abclPlayer.settings.DisableClothingStains = e.target.checked;\r\n  });\r\n  for (const key of Object.keys(StatusMessageElements) as (keyof ModSettings[\"StatusMessages\"])[]) {\r\n    if (StatusMessageElements.hasOwnProperty(key)) {\r\n      StatusMessageElements[key]?.addEventListener(\"sl-change\", (e: any) => {\r\n        abclPlayer.settings.setStatusMessageSetting(key, e.target.value);\r\n      });\r\n    }\r\n  }\r\n  for (const key of Object.keys(visibilityElements) as (keyof ModSettings[\"VisibleMessages\"])[]) {\r\n    if (visibilityElements.hasOwnProperty(key)) {\r\n      visibilityElements[key].addEventListener(\"sl-change\", (e: any) => {\r\n        abclPlayer.settings.setPublicMessage(key, e.target.checked);\r\n      });\r\n    }\r\n  }\r\n\r\n  // remote\r\n  const updateSelectedRemotePlayer = (memberNumber: MemberNumber) => {\r\n    const character: Character | undefined = getCharacter(memberNumber);\r\n    if (!character || !character.ABCL) return;\r\n\r\n    // remotePeeMetabolismSelect.value = character.ABCL.Settings.PeeMetabolism;\r\n    //remotePoopMetabolismSelect.value = character.ABCL.Settings.PoopMetabolism;\r\n    //remoteOnDiaperChangeSelect.value = character.ABCL.Settings.OnDiaperChange;\r\n  };\r\n  const pushSettings = (memberNumber: MemberNumber) => {};\r\n\r\n  /*   remotePushSettings.addEventListener(\"click\", () => {\r\n    const memberNumber = parseInt(remotePlayerSelect.value, 10);\r\n    if (!isNaN(memberNumber)) {\r\n      //pushSettings(memberNumber);\r\n    }\r\n  }); */\r\n  /*  remotePlayerSelect.addEventListener(\"sl-change\", (e: any) => {\r\n    updateSelectedRemotePlayer(parseInt(e.target.value, 10));\r\n  });\r\n  refreshRemotes.addEventListener(\"click\", () => {\r\n    updateRemoteList(remotePlayerSelect);\r\n  }); */\r\n\r\n  overlay.appendChild(htmlSettingPage);\r\n  PreferenceRegisterExtensionSetting({\r\n    Identifier: modIdentifier,\r\n    ButtonText: `${ModName} Settings`,\r\n    Image: `${publicURL}/abcl.png`,\r\n    run: () => {\r\n      DrawButton(1815, 75, 90, 90, \"\", \"White\", \"Icons/Exit.png\");\r\n    },\r\n    click: () => {\r\n      if (MouseIn(1815, 75, 90, 90)) PreferenceSubscreenExtensionsExit();\r\n    },\r\n    exit: () => {\r\n      htmlSettingPage.classList.add(`${modIdentifier}Hidden`);\r\n      syncData();\r\n      return true;\r\n    },\r\n    load: () => {\r\n      htmlSettingPage.classList.remove(`${modIdentifier}Hidden`);\r\n      function setCheckbox(element: Element, value: boolean) {\r\n        value ? element.setAttribute(\"checked\", \"true\") : element.removeAttribute(\"checked\");\r\n      }\r\n      /*    let selectedCharacter: Character | undefined = getCharacter(remotePlayerSelect.value);\r\n      if (!selectedCharacter || !selectedCharacter?.ABCL) {\r\n        selectedCharacter = Player;\r\n      }\r\n\r\n      updateRemoteList(remotePlayerSelect);\r\n      // fill select ChatRoomCharacter */\r\n\r\n      peeMetabolismSelect.setAttribute(\"value\", abclPlayer.settings.PeeMetabolism);\r\n      poopMetabolismSelect.setAttribute(\"value\", abclPlayer.settings.PoopMetabolism);\r\n      onDiaperChangeSelect.setAttribute(\"value\", abclPlayer.settings.OnDiaperChange);\r\n      setCheckbox(disableClothingStainsCheckbox, abclPlayer.settings.DisableClothingStains);\r\n      setCheckbox(disableDiaperStainsCheckbox, abclPlayer.settings.DisableDiaperStains);\r\n\r\n      for (const key of Object.keys(StatusMessageElements) as (keyof ModSettings[\"StatusMessages\"])[]) {\r\n        if (StatusMessageElements.hasOwnProperty(key)) {\r\n          const value = abclPlayer.settings.getStatusMessageSetting(key);\r\n          StatusMessageElements[key] && setCheckbox(StatusMessageElements[key], value ?? false);\r\n        }\r\n      }\r\n      for (const key of Object.keys(visibilityElements) as (keyof ModSettings[\"VisibleMessages\"])[]) {\r\n        if (visibilityElements.hasOwnProperty(key)) {\r\n          const value = abclPlayer.settings.getPublicMessage(key);\r\n          setCheckbox(visibilityElements[key], value);\r\n        }\r\n      }\r\n    },\r\n  });\r\n};\r\n","// from LSCG - https://github.com/littlesera/LSCG/blob/8072c4d636a66bf12473823722afbc82fda8f98e/src/MiniGames/minigames.ts#L3C1-L3C87\r\n\r\nimport { incontinenceOnAccident } from \"./player/diaper\";\r\nimport { abclPlayer } from \"./player/player\";\r\nimport { bcModSDK, sendChatLocal } from \"./utils\";\r\n\r\n// for minigame text loading\r\nbcModSDK.hookFunction(\"TextLoad\", 5, (args, next) => {\r\n  if (CurrentScreen === \"WetMinigame\" || CurrentScreen === \"MessMinigame\") return;\r\n  else return next(args);\r\n});\r\nexport const initMinigames = () => {\r\n  registerMiniGame(new MessMinigame());\r\n  registerMiniGame(new WetMinigame());\r\n};\r\nexport function registerMiniGame<T extends BaseMiniGame>(miniGame: T) {\r\n  var name = miniGame.name;\r\n  console.log(\"Registering minigame: \" + name);\r\n  (<any>window)[name + \"Run\"] = () => miniGame.Run();\r\n  (<any>window)[name + \"Click\"] = () => miniGame.Click();\r\n  (<any>window)[name + \"Load\"] = () => miniGame.Load();\r\n  (<any>window)[name + \"Unload\"] = () => miniGame.Unload();\r\n  (<any>window)[name + \"Resize\"] = () => miniGame.Resize();\r\n  (<any>window)[name + \"KeyDown\"] = () => miniGame.KeyDown();\r\n  (<any>window)[name + \"Exit\"] = () => miniGame.Exit();\r\n  (<any>window)[name + \"End\"] = (victory: boolean) => miniGame.End(victory);\r\n}\r\n\r\nexport abstract class BaseMiniGame {\r\n  name: string = \"\";\r\n\r\n  abstract Run(): void;\r\n  abstract Click(): void;\r\n  Load() {}\r\n  Unload() {}\r\n  Resize() {}\r\n  KeyDown() {}\r\n  Exit() {}\r\n  End(victory: boolean) {}\r\n}\r\n\r\nexport abstract class AccidentMiniGame extends BaseMiniGame {\r\n  startText: string = \"\";\r\n  hintText: string = \"\";\r\n  failText: string = \"\";\r\n  successText: string = \"\";\r\n\r\n  tintColor = [{ r: 0, g: 0, b: 0, a: 0 }];\r\n\r\n  GameStartTime: number = 0;\r\n  GameEndTime: number = 0;\r\n\r\n  StartDelay: number = 4000;\r\n  AccidentVelocity = 0;\r\n  AccidentPosition = 0;\r\n  AccidentAcceleration = 0;\r\n  AccidentMaxPosition = 100;\r\n  AccidentGameDuration = 5000;\r\n  AccidentNextTick = 0;\r\n  AccidentText = \"\";\r\n  AccidentChallenge = 0;\r\n\r\n  BaseGameLength: number = 6000;\r\n\r\n  End(Victory: boolean) {\r\n    CommonSetScreen(\"Online\", \"ChatRoom\");\r\n    MiniGameVictory = Victory;\r\n    MiniGameEnded = true;\r\n    MiniGameTimer = CommonTime();\r\n    this.GameEndTime = MiniGameTimer;\r\n  }\r\n  get IsStartDelay() {\r\n    return CommonTime() < this.GameStartTime;\r\n  }\r\n  Load(): void {\r\n    DrawFlashScreen(\"#000000\", 750, 1000);\r\n\r\n    this.GameStartTime = CommonTime() + this.StartDelay;\r\n    this.AccidentVelocity = 0;\r\n    this.AccidentAcceleration = 0;\r\n    if (typeof MiniGameDifficulty != \"number\") {\r\n      MiniGameTimer = CommonTime() + this.BaseGameLength; // 5 seconds base\r\n      this.AccidentChallenge = 5;\r\n    } else {\r\n      var difficultyTimeAdd = (MiniGameDifficulty - 8) * 0.25;\r\n      this.AccidentGameDuration = this.BaseGameLength + 1000 * difficultyTimeAdd;\r\n      MiniGameTimer = this.GameStartTime + this.AccidentGameDuration; // One extra second per challenge level, minus a third of a second per willpower.\r\n      this.AccidentChallenge = MiniGameDifficulty;\r\n    }\r\n\r\n    this.AccidentMaxPosition = 400;\r\n    this.AccidentPosition = this.AccidentMaxPosition;\r\n\r\n    console.info(\"Accident minigame started: difficulty - \" + this.AccidentChallenge + \" time - \" + this.AccidentGameDuration);\r\n  }\r\n  get IsGameActive() {\r\n    return CommonTime() < MiniGameTimer && !MiniGameEnded && !this.GameFailed;\r\n  }\r\n\r\n  get IsGameTimeout() {\r\n    return CommonTime() >= MiniGameTimer && !MiniGameEnded;\r\n  }\r\n\r\n  get IsEndGameReport() {\r\n    return CommonTime() < this.GameEndTime + 5000;\r\n  }\r\n\r\n  get GameFailed() {\r\n    return this.AccidentPosition <= 0;\r\n  }\r\n\r\n  RunGame(delta: number) {\r\n    var timeElapsed = (this.AccidentGameDuration + CommonTime() - MiniGameTimer) / 1000;\r\n\r\n    // Adjust acceleration every .4s ticks\r\n    if (CommonTime() > this.AccidentNextTick) {\r\n      this.AccidentNextTick = CommonTime() + 400;\r\n      this.AccidentAcceleration = -(this.AccidentChallenge * 1.25) - timeElapsed * Math.random();\r\n    }\r\n    this.AccidentVelocity = Math.min(this.AccidentVelocity, this.AccidentVelocity + this.AccidentAcceleration * 0.25);\r\n    if (this.AccidentPosition >= this.AccidentMaxPosition) this.AccidentVelocity = Math.min(0, this.AccidentVelocity);\r\n\r\n    if (this.AccidentPosition > 0) {\r\n      this.AccidentPosition += (this.AccidentVelocity / 1000) * delta * 3.5;\r\n    }\r\n\r\n    this.AccidentPosition = Math.max(0, Math.min(this.AccidentPosition, this.AccidentMaxPosition));\r\n\r\n    DrawProgressBar(500 - this.AccidentMaxPosition, 800, 2 * this.AccidentMaxPosition, 50, 100 * (this.AccidentPosition / this.AccidentMaxPosition));\r\n    DrawText(this.hintText, 500, 875, \"white\", \"black\");\r\n\r\n    // var debugStr = \"Chal: \" + this.AccidentChallenge + \" Pos: \" + this.AccidentPosition + \" Vel: \" + this.AccidentVelocity + \" Acc: \" + this.AccidentAcceleration;\r\n    // var prev = MainCanvas.textAlign;\r\n    // MainCanvas.textAlign = \"left\";\r\n    // DrawText(debugStr, 0, 100, \"White\", \"Black\");\r\n    // MainCanvas.textAlign = prev;\r\n    // console.info(debugStr);\r\n  }\r\n\r\n  Run() {\r\n    ChatRoomRun(CommonTime());\r\n\r\n    if (this.IsStartDelay) {\r\n      DrawText(this.startText, 500, 500, \"white\", \"black\");\r\n    } else if (this.IsGameActive) {\r\n      this.RunGame(TimerRunInterval);\r\n    } else if ((this.IsGameTimeout || this.GameFailed) && !MiniGameEnded) {\r\n      this.End(this.AccidentPosition > 0);\r\n      MiniGameEnd();\r\n    }\r\n  }\r\n\r\n  Click() {\r\n    //CommonIsMobile\r\n    if (this.IsGameActive) this.AccidentVelocity = Math.max(this.AccidentVelocity + (getRandomInt(11) + 5), 20);\r\n  }\r\n}\r\nfunction getRandomInt(max: number): number {\r\n  return Math.floor(Math.random() * max);\r\n}\r\n\r\nexport class MessMinigame extends AccidentMiniGame {\r\n  startText: string = \"A sudden pressure builds within you...\";\r\n  hintText: string = \"Click to maintain control. Keep it together!\";\r\n  failText: string = \"Oops! You've had an accident!\";\r\n  successText: string = \"Crisis averted! You stayed composed!\";\r\n  name = \"MessMinigame\";\r\n  End(victory: boolean) {\r\n    super.End(victory);\r\n    if (victory) {\r\n      abclPlayer.stats.Incontinence -= incontinenceOnAccident(abclPlayer.stats.Incontinence) / 2;\r\n      sendChatLocal(\"You managed to keep it together!\");\r\n      return;\r\n    }\r\n\r\n    abclPlayer.soil();\r\n    abclPlayer.onAccident();\r\n  }\r\n}\r\n\r\nexport class WetMinigame extends AccidentMiniGame {\r\n  startText: string = \"You feel a trickle starting...\";\r\n  hintText: string = \"Click to squeeze tight. Don't let it get away!\";\r\n  failText: string = \"Oh no! You lost control!\";\r\n  successText: string = \"You held it in! Phew!\";\r\n  name = \"WetMinigame\";\r\n  End(victory: boolean) {\r\n    super.End(victory);\r\n    if (victory) {\r\n      abclPlayer.stats.Incontinence -= incontinenceOnAccident(abclPlayer.stats.Incontinence) / 2;\r\n      sendChatLocal(\"You managed to hold it in!\");\r\n      return;\r\n    }\r\n\r\n    abclPlayer.wet();\r\n    abclPlayer.onAccident();\r\n  }\r\n}\r\n","import { averageColor, updateDiaperColor } from \"./player/diaper\";\r\nimport { clearData, updateData, syncData } from \"./settings\";\r\nimport { sendChatLocal } from \"./utils\";\r\n(<any>window).clearData = clearData;\r\n(<any>window).saveData = syncData;\r\n(<any>window).mutateData = updateData;\r\n(<any>window).updateDiaperColor = updateDiaperColor;\r\n(<any>window).noOp = () => {};\r\n(<any>window).sendChatLocal = sendChatLocal;\r\n(<any>window).averageColor = averageColor;\r\n","import t from\"bondage-club-mod-sdk\";class o{constructor(t){this.hookMng=t,this.workList=[]}run(t,o){let n,i=!1;for(const s of this.workList)if(\"inject\"===s.value)s.work(t,o);else if(\"next\"===s.value)n=o(t),i=!0;else if(\"override\"===s.value)n=s.work(t,o),i=!0;else if(\"flag\"===s.value){if(!s.flag)break;s.once&&(s.flag=!1)}else if(\"check\"===s.value&&!s.work(t,o))break;return i?n:o(t)}next(){return this.workList.push({value:\"next\"}),this}inject(t){return this.workList.push({value:\"inject\",work:t}),this}inside(t,{once:o=!1,priority:n=1}={}){const i={value:\"flag\",flag:!1,once:o};return this.hookMng.hookFunction(t,n,((t,o)=>{i.flag=!0;const n=o(t);return i.flag=!1,n})),this.workList.push(i),this}when(t){return this.workList.push({value:\"check\",work:t}),this}override(t){return this.workList.push({value:\"override\",work:t}),this}}let n;class i{static info(t){n?.info(t)}static warn(t){n?.warn(t)}static error(t){n?.error(t)}}class s{constructor(t=!1){this.done=t,this.list=[]}run(){for(this.done=!0;this.list.length>0;)this.list.shift()()}push(t){this.done?t():this.list.push(t)}}const r=new s,e=new s,h=new s,l=new s;function u(){return null!=globalThis.Player&&\"number\"==typeof globalThis.Player.MemberNumber}let a;const c=new class{get mod(){return a}push(t,o){t.push(o)}init(o){a=t.registerMod(o),l.run(),e.run();const n=()=>h.run();u()?n():this.mod.hookFunction(\"LoginResponse\",0,((t,o)=>{o(t),u()&&n()})),r.run()}initWithMod(t){a=t,l.run(),e.run();const o=()=>h.run();u()?o():this.mod.hookFunction(\"LoginResponse\",0,((t,n)=>{n(t),u()&&o()}))}afterInit(t){this.push(r,t)}afterPlayerLogin(t){this.push(h,t)}patchFunction(t,o){this.push(l,(()=>this.mod.patchFunction(t,o)))}invokeOriginal(t,...o){return this.mod?this.mod.callOriginal(t,o):globalThis[t]?.(...o)}hookFunction(t,o,n){this.push(e,(()=>this.mod.hookFunction(t,o,n)))}progressiveHook(t,n=1){const i=new o(this);return this.hookFunction(t,n,((t,o)=>i.run(t,o))),i}hookPlayerFunction(t,o,n){var i;i=()=>this.mod.hookFunction(t,o,n),u()?h.push(i):i()}globalFunction(t,o){\"function\"!=typeof o&&i.warn(\"globalFunction: param is not a function\"),null==globalThis[t]?globalThis[t]=o:globalThis[t]!=o&&i.warn(`globalFunction: ${t} is already defined`)}randomGlobalFunction(t,o){const n=t=>t+Math.random().toString(16).substring(2);let i=n(t);for(;null!=globalThis[i];)i=n(t);return globalThis[i]=o,i}setLogger(t){!function(t){n=t}(t)}};export{c as HookManager};\n//# sourceMappingURL=index.mjs.map\n","import{HookManager as e}from\"@sugarch/bc-mod-hook-manager\";const t=new Set([\"ItemTorso\",\"ItemTorso2\"]),n={ItemTorso:t,ItemTorso2:t},s={},o={};function a(e){return(n[e]&&Array.from(n[e])||[e]).map((e=>r(e)))}function r(e){return{name:e,group:AssetGroupGet(\"Female3DCG\",e)}}function i(e){return s[e]}class c{static add(e){for(const[t,n]of Object.entries(e))for(const[e,s]of Object.entries(n))a(t).forEach((({name:t})=>{AssetFemale3DCGExtended[t]||(AssetFemale3DCGExtended[t]={}),AssetFemale3DCGExtended[t][e]||(AssetFemale3DCGExtended[t][e]=s)}))}static get value(){return AssetFemale3DCGExtended}}const m={};class u{static add(e,t){return 0===Object.keys(m).length&&AssetFemale3DCG.forEach((e=>{m[e.Group]||(m[e.Group]={});for(const t of e.Asset){const n=l(t);m[e.Group][n.Name]=n}})),m[e]||(m[e]={}),m[e][t.Name]=t,m}static get value(){return m}}function l(e){return\"string\"==typeof e?{Name:e}:e}const f={},p={},d=(e,t)=>p[e]?.[t];function g(){return p}function A(){let t=!1;e.progressiveHook(\"DialogInventoryBuild\").inject((e=>{e[2]||(t=!0)})),e.progressiveHook(\"DialogInventoryAdd\").next().inject((e=>{if(!t)return;t=!1;const n=e[1].Asset.Group.Name,s=new Set(DialogInventory.map((e=>e.Asset.Name)));p[n]&&Object.entries(p[n]).filter((([e,t])=>!t.NotVisibleOnScreen?.includes(\"LuziScreen\")&&!s.has(e))).forEach((([t,n])=>DialogInventoryAdd(e[0],{Asset:n},!1)))}));const n=(...[e,t])=>{const[n,s,o]=e;return!!d(o,s)||t(e)};e.progressiveHook(\"InventoryAvailable\").inside(\"CharacterAppearanceValidate\").override(n),e.progressiveHook(\"InventoryAvailable\").inside(\"CraftingItemListBuild\").override(n),e.progressiveHook(\"InventoryAvailable\").inside(\"WardrobeFastLoad\").override(n),e.progressiveHook(\"CraftingValidate\").inject((e=>{const t=e[0]?.Item;if(!t)return;const n=CraftingAssets[t]?.[0];n&&function(e,t){const n=d(e,t);return!!n&&!n.NotVisibleOnScreen?.includes(\"LuziScreen\")}(n.Group.Name,n.Name)&&(e[3]=!1)}));const s=e.randomGlobalFunction(\"CraftingInventory\",(()=>[...Player.Inventory,...Object.values(p).map((e=>Object.values(e))).flat().map((e=>({Asset:e})))]));e.patchFunction(\"CraftingRun\",{\"for (let Item of Player.Inventory) {\":`for (let Item of ${s}()) {`})}function h(e){return!!(e&&e.Asset&&d(e.Asset.Group.Name,e.Asset.Name))}function N(e,t){const n=\"TW\"!==TranslationLanguage?TranslationLanguage:\"CN\";let s=e(n);return void 0!==s?s:(s=\"CN\"===n?e(\"CN\"):e(\"EN\")||e(\"CN\"),void 0!==s?s:t)}function v(e,t,n){return N((n=>e[n]?.[t]),n)}function G(e){return t=e,N((e=>t[e]),e.CN);var t}function I(e,t){return e?e.CN?e:{...e,CN:t}:{CN:t}}function C(e,t,n){const s={};for(const[o,a]of Object.entries(n))a[e]?.[t]&&(s[o]=a[e][t]);return s}const y={},D={};class ${static setAsset(e,t,n){Object.entries(n).forEach((([n,s])=>{const o=n;y[o]||(y[o]={}),y[o][e]||(y[o][e]={}),y[o][e][t]=s}))}static setGroup(e,t){Object.entries(t).forEach((([t,n])=>{const s=t;D[s]||(D[s]={}),D[s][e]=n}))}}function b(e,t){return n=y,s=e,o=t,N((e=>n[e]?.[s]?.[o]),t.replace(/_.*?Luzi$/,\"\"));var n,s,o}function F(e,t){e.Description=t}function w(){Object.values(f).forEach((e=>F(e,function(e){return v(D,e,e.replace(/_.*?Luzi$/,\"\"))}(e.Name)))),Object.values(g()).map((e=>Object.values(e))).flat().forEach((e=>F(e,b(e.Group.Name,e.Name)))),Object.entries(g()).map((([e,t])=>({group:i(e),asset:t}))).filter((({group:e})=>!!e)).map((({group:e,asset:t})=>Object.entries(t).map((([t,n])=>({asset:n,fromAsset:AssetGet(\"Female3DCG\",e,t)}))))).flat().filter((({fromAsset:e})=>!!e)).forEach((({asset:e,fromAsset:t})=>F(e,t.Description)));const e=TextAllScreenCache.get(AssetStringsPath),t=e=>{const t=o,n=new Set,s=AssetGroup.map((e=>e.Name)).sort(((e,t)=>t.length-e.length));Object.entries(e.cache).forEach((([o,a])=>{if(n.has(o))return;const r=s.find((e=>o.startsWith(e)));if(!r)return;n.add(o);const i=t[r];if(!i)return;const c=o.slice(r.length);i.forEach((t=>{const n=t+c;e.cache[n]||(e.cache[n]=a)}))}))};e&&(e.loaded?t(e):e.rebuildListeners.push((e=>e&&t(e))))}let E=!1;const L=new Map;let j;function O(e,t,n,s=!1){if(j?.()?.cache){const o=TranslationLanguage;if(j().cache[e]&&s)return;j().cache[e]=t[o]||t.CN||n}else{if(s&&L.has(e))return;L.set(e,{desc:t,fallback:n,noOverride:s})}}const S=e=>t=>Object.entries(e||{CN:{[t]:t}}).map((([e,n])=>[e,n[t]||e])).reduce(((e,[t,n])=>(e[t]=n,e)),{});function T(e,t,{entries:n,noOverride:s}={}){const o=S(n);t.Layer?.forEach((({Name:n})=>{n?O(`${e}${t.Name}${n}`,o(n),n,!!s):O(`${e}${t.Name}`,{CN:t.Name.replace(/_.*?Luzi$/,\"\")},t.Name,!!s)}))}let x;class P{static info(e){x?.info(e)}static warn(e){x?.warn(e)}static error(e){x?.error(e)}}let _=!1;const k=[];function M(e){_?e():k.push(e)}const B={};const R={};function H(e,t){const n=AssetGroupGet(\"Female3DCG\",e);_&&n?t(n):(R[e]||(R[e]=[]),R[e].push(t))}let W=!1;const z=[];function U(e){W?e():z.push(e)}const V=new Set;function X(t={start:\"Start loading\",end:\"Loading completed, time usage: \"}){const n=()=>{P.info(t.start);const e=Date.now();for(!function(){for(;k.length>0;)k.shift()()}(),_=!0,AssetGroup.forEach((e=>function(e){if(B[e.Name])for(;B[e.Name].length>0;)B[e.Name].shift()(e)}(e))),AssetGroup.forEach((e=>function(e){if(R[e.Name])for(;R[e.Name].length>0;)R[e.Name].shift()(e)}(e))),CraftingAssets=CraftingAssetsPopulate(),W=!0;z.length>0;)z.shift()();const n=Date.now();P.info(`${t.end} ${n-e}ms`)};AssetGroup.length>50?n():e.progressiveHook(\"AssetLoadAll\",1).next().inject((()=>n()))}function Z(t,n,{extendedConfig:s,description:o,dynamicName:i,preimage:m,noMirror:f}={}){!function(e,t){const n=AssetGroupGet(\"Female3DCG\",e);_&&n?t(n):(B[e]||(B[e]=[]),B[e].push(t))}(t,(e=>{u.add(e.Name,n),s&&c.add(s)}));const d=t;!function(e,t,n){const s=n=>{const o=t?[r(e)]:a(e),i=o.find((({group:e})=>!e));if(i)return V.has(i.name)?void console.error(`[AssetManager] Required group \"${i.name}\" not found`):(V.add(i.name),void H(i.name,(()=>s(n))));o.forEach((({group:e})=>n(e)))};_?s(n):H(e,(()=>s(n)))}(t,!!f,(t=>{const s=t.Name,a=l(n),r=AssetResolveCopyConfig.AssetDefinition(a,s,u.value);if(!r)return;const f=I(o,r.Name.replace(/_.*?Luzi$/,\"\"));void 0!==g()[s]?.[a.Name]&&console.warn(`[AssetManager] Asset {${s}:${a.Name}} already existed!`),function(...[t,n,s]){e.invokeOriginal(\"AssetAdd\",t,n,s);const o=t.Name,a=n.Name;p[o]||(p[o]={});const r=AssetGet(\"Female3DCG\",o,a);return r?(p[o][a]=r,Promise.resolve(r)):Promise.reject(`Asset ${o}:${a} not found`)}(t,r,c.value).then((e=>{if(e.DynamicGroupName===e.Group.Name&&(e.DynamicGroupName=i||d),m){const t=AssetGet(\"Female3DCG\",m.Name,r.Name);t&&(e.Description=t.Description,e.DynamicGroupName=t.DynamicGroupName,[\"ScriptDraw\",\"BeforeDraw\",\"AfterDraw\"].filter((e=>t[`Dynamic${e}`])).forEach((e=>function(e,t,n,s){const o=`Assets${t}${n.Name}${s}`,a=`Assets${e}${n.Name}${s}`;globalThis[o]&&(globalThis[a]=globalThis[o])}(s,m.Name,r,e))))}else e.Description=G(f),T(e.DynamicGroupName,r,{noOverride:!0})})),$.setAsset(s,r.Name,f)}))}const J={};function Q(t,{description:n,dynamicName:s,preimage:o}={}){M((()=>{const a=I(n,t.Group.replace(/_.*?Luzi$/,\"\"));(function(...[t,n]){const s=e.invokeOriginal(\"AssetGroupAdd\",t,n);return f[s.Name]=s,Promise.resolve(s)})(\"Female3DCG\",t).then((e=>{e.Description=G(a),s&&(e.DynamicGroupName=s),t.Asset.forEach((e=>{Z(t.Group,l(e),{dynamicName:s,preimage:o})}))})),$.setGroup(t.Group,a)}))}const q=new Set;function K(e,t,a){const r=()=>{const i=AssetFemale3DCG.find((e=>e.Group===t)),c=AssetGroupGet(\"Female3DCG\",t),m=AssetFemale3DCGExtended[t];if(!i||!c)return q.has(t)?void console.error(`[AssetManager] Group ${t} not found`):(q.add(t),void M(r));var u,l;l=e,n[u=t]||(n[u]=new Set([u])),n[u].add(l),o[u]||(o[u]=new Set),o[u].add(l),s[l]=u;const f=I(a,e.replace(/_.*?Luzi$/,\"\"));Q({...i,Group:e,Default:!1,Random:!1},{description:f,dynamicName:i.DynamicGroupName||i.Group,preimage:c}),AssetFemale3DCGExtended[e]=m};M(r)}const Y={};let ee,te=!1;let ne=!1;function se(t){ee=t,ne||(ne=!0,e.hookFunction(\"ValidationResolveRemoveDiff\",1,((e,t)=>{const[n,s]=e;return!s.fromModUser&&d(n.Asset.Group.Name,n.Asset.Name)?{item:n,valid:!1}:t(e)})),e.hookFunction(\"ValidationResolveSwapDiff\",1,((e,t)=>{const[n,s,o]=e;return!o.fromModUser&&d(n.Asset.Group.Name,n.Asset.Name)?{item:n,valid:!1}:t(e)})),e.hookFunction(\"ValidationResolveAppearanceDiff\",1,((e,t)=>(ee&&(e[3].fromModUser=ee(e[3])),t(e)))))}function oe(e){return globalThis[e]}class ae{static _initStorage(){var e,t;oe(this._namespace)||(e=this._namespace,t={},globalThis[e]=t)}static get(e,t){this._initStorage();const n=oe(this._namespace);return e in n||(n[e]=t()),n[e]}static getMayOverride(e,t){this._initStorage();const n=oe(this._namespace);return n[e]=t(n[e]),n[e]}static set(e,t){this._initStorage(),oe(this._namespace)[e]=t}static has(e){return this._initStorage(),e in oe(this._namespace)}static delete(e){this._initStorage();const t=oe(this._namespace);return e in t&&delete t[e]}static setImplementation(e){const t=[\"get\",\"set\",\"has\",\"delete\"];for(const n of t){if(\"function\"!=typeof e[n])throw new Error(`Implementation must provide a '${n}' function`);ae[n]=e[n]}}static createNamespace(e){return{get:(t,n)=>ae.get(`${e}.${t}`,n),set:(t,n)=>ae.set(`${e}.${t}`,n),has:t=>ae.has(`${e}.${t}`),delete:t=>ae.delete(`${e}.${t}`)}}}function re(e){return new Promise((t=>setTimeout(t,e)))}ae._namespace=\"__BC_LUZI_GLOBALS__\",ae.createNamespace(\"OnceFlag\");class ie{static get emptyImage(){return\"data:img/jpg;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAACXBIWXMAAC4jAAAuIwF4pT92AAAA\\nG3RFWHRTb2Z0d2FyZQBDZWxzeXMgU3R1ZGlvIFRvb2zBp+F8AAAADUlEQVQI12P4//8/AwAI/AL+\\nXJ/P2gAAAABJRU5ErkJggg==\"}static assetPreviewIconPath(e){const t=\"Asset\"in e?e.Asset:e;return`${AssetGetPreviewPath(t)}/${t.Name}.png`}static activityPreviewIconPath(e){return`Assets/Female3DCG/Activity/${(\"Activity\"in e?e.Activity:e).Name}.png`}}const ce=new class{constructor(){this.basic={},this.custom={}}addImgMapping(e){this.custom={...this.custom,...e}}setBasicImgMapping(e){this.basic={...e,...this.basic}}mapImgSrc(e){if(\"string\"!=typeof e)return e;if(!e.endsWith(\".png\"))return e;if(e.startsWith(\"data:image\"))return e;if(e.startsWith(\"http\"))return e;const t=e.startsWith(\"./\")?e.slice(2):e;let n=t;return this.custom[n]&&(n=this.custom[n]),this.basic[n]&&(n=this.basic[n]),n!==t?n:e}mapImg(e,t){let n=e;n.startsWith(\"data:image\")||n.startsWith(\"http\")||(this.custom[n]&&(n=this.custom[n]),this.basic[n]&&(n=this.basic[n]),n!==e&&t(n))}};async function me(e,t){const n={},s=[{container:t,path:\"\"}];for(;s.length>0;){const t=s.pop();Object.entries(t.container).forEach((([o,a])=>{const r=`${t.path}${o}`;\"object\"!=typeof a?n[r]=`${e}${r}?v=${a}`:s.push({container:a,path:`${r}/`})}))}return n}class ue{constructor(){e.patchFunction(\"GLDrawLoadImage\",{\"Img.src = url;\":'Img.crossOrigin = \"Anonymous\";\\n\\t\\tImg.src = url;'}),[\"DrawImageEx\",\"DrawImageResize\",\"GLDrawImage\",\"DrawGetImage\"].forEach((t=>{e.hookFunction(t,0,((e,t)=>(e[0]=ce.mapImgSrc(e[0]),t(e))))})),(async()=>{await function(e,t=100){return(async()=>{for(;!e();)await re(t)})()}((()=>void 0!==globalThis.ElementButton)),e.hookFunction(\"ElementButton.CreateForAsset\",0,((e,t)=>(ce.mapImg(ie.assetPreviewIconPath(e[1]),(t=>{e[4]={...e[4],image:t}})),t(e)))),e.hookFunction(\"ElementButton.CreateForActivity\",0,((e,t)=>{const n=e[1],s=n.Item?ie.assetPreviewIconPath(n.Item.Asset):`Assets/Female3DCG/Activity/${n.Activity.Name}.png`;return ce.mapImg(s,(t=>{e[4]={...e[4],image:t}})),t(e)}));const t=e.randomGlobalFunction(\"mapImage\",(e=>ce.mapImgSrc(e)));e.patchFunction(\"ElementButton._ParseIcons\",{\"src = `./Assets/Female3DCG/ItemMisc/Preview/${icon}.png`\":`src = ${t}(\\`./Assets/Female3DCG/ItemMisc/Preview/\\${icon}.png\\`)`})})()}addImgMapping(e){ce.addImgMapping(e)}setBasicImgMapping(e){ce.setBasicImgMapping(e)}}const le=ae.get(\"ImageMapping\",(()=>new ue));const fe=new class{addAsset(e,t,n,s,o=!1){Z(e,t,{extendedConfig:n&&{[e]:{[t.Name]:n}},description:s,noMirror:o})}addGroupedAssets(e,t,n){for(const[s,o]of Object.entries(e))for(const e of o){const o=s,a=t&&C(o,e.Name,t);Z(o,e,{extendedConfig:n&&n[o]?.[e.Name]&&{[o]:{[e.Name]:n[o][e.Name]}},description:a})}}addGroupedConfig(e){!function(e){e&&c.add(e)}(e)}modifyAsset(e,t,n){!function(e,t,n){const s=o=>{const a=AssetGet(\"Female3DCG\",o.Name,t);if(a)n(o,a);else{if(J[e]||(J[e]=new Set),J[e].has(t))return void console.error(`[AssetManager] Asset ${e}:${t} not found`);J[e].add(t),H(e,s)}};H(e,s)}(e,t,n)}modifyAssetLayers(e,t){!function(e,t){U((()=>{Asset.filter(e).forEach((e=>{e.Layer.forEach((n=>t(e,n)))}))}))}(e,t)}modifyGroup(e,t){!function(e,t){H(e,(e=>t(e)))}(e,t)}addCustomDialog(e){!function(e){for(const[t,n]of Object.entries(e)){Y[t]||(Y[t]={});for(const[e,s]of Object.entries(n))Y[t][e]=s,e.includes(\"ItemTorso2\")?Y[t][e.replace(\"ItemTorso2\",\"ItemTorso\")]=s:e.includes(\"ItemTorso\")&&(Y[t][e.replace(\"ItemTorso\",\"ItemTorso2\")]=s)}}(e)}addImageMapping(e){le.addImgMapping(e)}get imageMapping(){return le}addGroup(e,t){Q(e,{description:t})}addCopyGroup(e,t,n){K(e,t,n)}addLayerNames(e,t,n){T(e,t,{entries:n})}addLayerNamesByEntry(e,t,n){!function(e,t,n,s=!0){const o=S(n);new Set(Object.entries(n).map((([e,t])=>Object.keys(t))).flat()).forEach((n=>{O(`${e}${t}${n}`,o(n),n,!!s)}))}(e,t,n)}assetIsCustomed(e){return void 0!==g()[e.Group.Name]?.[e.Name]}afterLoad(e){U(e)}init(t){!function(){if(te)return;te=!0;const t=e=>v(Y,e);e.progressiveHook(\"AssetTextGet\").override(((e,n)=>t(e[0])||n(e))),e.progressiveHook(\"ChatRoomPublishCustomAction\").inject((e=>{const[n,s,o]=e,a=t(n);a&&o.push({Tag:`MISSING TEXT IN \"Interface.csv\": ${n}`,Text:a})})).next()}(),function(){if(E)return;E=!0;const t=TextAllScreenCache.get(AssetStringsPath);t&&t.loaded&&(\"EN\"===TranslationLanguage||\"Bloated\"!==t.get(\"Bloated\"))?w():(e.progressiveHook(\"AssetBuildDescription\").next().inject(w),e.progressiveHook(\"TranslationAssetProcess\").next().inject(w));const n=e.randomGlobalFunction(\"CustomDialogInject\",((e,t,n,s,o)=>{for(const[t,n]of[[\"PrevAsset\",s],[\"NextAsset\",o]])h(n)&&e.text(t,n.Asset.Description)}));e.patchFunction(\"ChatRoomPublishAction\",{\"ChatRoomCharacterItemUpdate(C);\":`${n}(dictionary, C, Action, PrevItem, NextItem);\\nChatRoomCharacterItemUpdate(C);`})}(),function(){const t=e.randomGlobalFunction(\"LayerNameInject\",(e=>{j=e}));e.patchFunction(\"ItemColorLoad\",{\"ItemColorLayerNames = new TextCache\":`${t}(()=>ItemColorLayerNames);\\nItemColorLayerNames = new TextCache`}),e.progressiveHook(\"ItemColorLoad\",1).next().inject((()=>{const e=j?.()?.cache;e&&L.forEach(((e,t)=>{O(t,e.desc,e.fallback,e.noOverride)}))}))}(),A(),t(),X()}enableValidation(e){se(e)}setLogger(e){!function(e){x=e}(e)}typeBodyGroupNames(){return this}};export{fe as AssetManager,me as resolveAssetOverrides};\n//# sourceMappingURL=index.mjs.map\n","import { AssetManager, CustomAssetDefinition } from \"@sugarch/bc-asset-manager\";\r\n\r\nexport const pampsAssetDefintion: CustomAssetDefinition = {\r\n  // Asset name, must be unique in the body group\r\n  Name: \"Untrainers_Pamp\",\r\n  // item appearing on random character\r\n  Random: false,\r\n  //  player canvas size is 500x1000\r\n  Left: 174,\r\n  Top: 434,\r\n  // the drawing order of the item, higher number means drawn later, and on top of other items\r\n  Priority: 20,\r\n  DefaultColor: [\"#FFFFFF\"],\r\n  // @ts-expect-error\r\n  ParentGroup: {},\r\n  // Asset layers, picture resource names\r\n  Layer: [\r\n    //Assets/[BodyGroup]/[AssetName]_[LayerName].png\r\n    {\r\n      // resouce located at \"Assets/ItemMisc/SimpleExample_Base.png\"\r\n      Name: \"Base\",\r\n      AllowColorize: true,\r\n    },\r\n    {\r\n      Name: \"Patch\",\r\n      AllowColorize: true,\r\n    },\r\n    {\r\n      Name: \"Detail_2\",\r\n      AllowColorize: true,\r\n    },\r\n    {\r\n      Name: \"Detail_1\",\r\n      AllowColorize: true,\r\n    },\r\n    {\r\n      Name: \"Detail_3\",\r\n      AllowColorize: true,\r\n    },\r\n    {\r\n      Name: \"Tint\",\r\n      AllowColorize: true,\r\n      EditOpacity: true,\r\n    },\r\n    {\r\n      Name: \"Indicator\",\r\n      AllowColorize: true,\r\n      EditOpacity: true,\r\n    },\r\n    {\r\n      Name: \"Tabs\",\r\n      AllowColorize: true,\r\n    },\r\n  ],\r\n};\r\nconst translations = {\r\n  CN: \"Pampers\",\r\n  EN: \"Untrainers Diaper\",\r\n  RU: \" \",\r\n};\r\nexport default function () {\r\n  AssetManager.addImageMapping({\r\n    \"Assets/Female3DCG/ItemPelvis/Untrainers_Pamp_Base.png\": `${publicURL}/items/diapers/Untrainer_Pamp/Untrainers_Pamp_Base.png`,\r\n    \"Assets/Female3DCG/ItemPelvis/Untrainers_Pamp_Patch.png\": `${publicURL}/items/diapers/Untrainer_Pamp/Untrainers_Pamp_Patch.png`,\r\n    \"Assets/Female3DCG/ItemPelvis/Untrainers_Pamp_Detail_1.png\": `${publicURL}/items/diapers/Untrainer_Pamp/Untrainers_Pamp_Detail_1.png`,\r\n    \"Assets/Female3DCG/ItemPelvis/Untrainers_Pamp_Detail_2.png\": `${publicURL}/items/diapers/Untrainer_Pamp/Untrainers_Pamp_Detail_2.png`,\r\n    \"Assets/Female3DCG/ItemPelvis/Untrainers_Pamp_Detail_3.png\": `${publicURL}/items/diapers/Untrainer_Pamp/Untrainers_Pamp_Detail_3.png`,\r\n    \"Assets/Female3DCG/ItemPelvis/Untrainers_Pamp_Indicator.png\": `${publicURL}/items/diapers/Untrainer_Pamp/Untrainers_Pamp_Indicator.png`,\r\n    \"Assets/Female3DCG/ItemPelvis/Untrainers_Pamp_Tabs.png\": `${publicURL}/items/diapers/Untrainer_Pamp/Untrainers_Pamp_Tabs.png`,\r\n    \"Assets/Female3DCG/ItemPelvis/Preview/Untrainers_Pamp.png\": `${publicURL}/items/diapers/Untrainer_Pamp/Untrainers_Pamp_Preview.png`,\r\n  });\r\n  AssetManager.addAsset(\"ItemPelvis\", pampsAssetDefintion, undefined, translations);\r\n}\r\n","import { AssetManager, CustomAssetDefinition } from \"@sugarch/bc-asset-manager\";\r\n\r\nconst assetDefintion: CustomAssetDefinition = {\r\n  // Asset name, must be unique in the body group\r\n  Name: \"Temp_Pamp\",\r\n  // item appearing on random character\r\n  Random: false,\r\n  EditOpacity: true,\r\n  //  player canvas size is 500x1000\r\n  Left: 160,\r\n  Top: 411,\r\n  // the drawing order of the item, higher number means drawn later, and on top of other items\r\n  Priority: 20,\r\n  DefaultColor: [\"#d6efff\", \"#7B7B7B\", \"#8197A7\", \"#4880B9\", \"#B5A95B\", \"#AAA44E\"],\r\n  // @ts-expect-error\r\n  ParentGroup: {},\r\n  // Asset layers, picture resource names\r\n  Layer: [\r\n    {\r\n      Name: \"Back\",\r\n      AllowColorize: true,\r\n      Priority: -1,\r\n    },\r\n    {\r\n      Name: \"Base\",\r\n      AllowColorize: true,\r\n    },\r\n    {\r\n      Name: \"Middle\",\r\n      AllowColorize: true,\r\n    },\r\n    {\r\n      Name: \"Tabs\",\r\n      AllowColorize: true,\r\n    },\r\n    {\r\n      Name: \"Wet\",\r\n      AllowColorize: true,\r\n    },\r\n    {\r\n      Name: \"Indicator\",\r\n      AllowColorize: true,\r\n    },\r\n  ],\r\n};\r\nconst translations = {\r\n  EN: \"Cutest Diaper\",\r\n  RU: \"  \",\r\n  CN: \"\",\r\n};\r\nexport default function () {\r\n  AssetManager.addImageMapping({\r\n    \"Assets/Female3DCG/ItemPelvis/Temp_Pamp_Base.png\": `${publicURL}/items/diapers/Temp/Base.png`,\r\n    \"Assets/Female3DCG/ItemPelvis/Temp_Pamp_Middle.png\": `${publicURL}/items/diapers/Temp/Middle.png`,\r\n    \"Assets/Female3DCG/ItemPelvis/Temp_Pamp_Tabs.png\": `${publicURL}/items/diapers/Temp/Tabs.png`,\r\n    \"Assets/Female3DCG/ItemPelvis/Temp_Pamp_Indicator.png\": `${publicURL}/items/diapers/Temp/Indicator.png`,\r\n    \"Assets/Female3DCG/ItemPelvis/Temp_Pamp_Wet.png\": `${publicURL}/items/diapers/Temp/Wet.png`,\r\n    \"Assets/Female3DCG/ItemPelvis/Temp_Pamp_Back.png\": `${publicURL}/items/diapers/Temp/Back.png`,\r\n    \"Assets/Female3DCG/ItemPelvis/Preview/Temp_Pamp.png\": `${publicURL}/items/diapers/Temp/Preview.png`,\r\n  });\r\n  AssetManager.addImageMapping({\r\n    \"Assets/Female3DCG/Panties/Temp_Pamp_Base.png\": `${publicURL}/items/diapers/Temp/Base.png`,\r\n    \"Assets/Female3DCG/Panties/Temp_Pamp_Middle.png\": `${publicURL}/items/diapers/Temp/Middle.png`,\r\n    \"Assets/Female3DCG/Panties/Temp_Pamp_Tabs.png\": `${publicURL}/items/diapers/Temp/Tabs.png`,\r\n    \"Assets/Female3DCG/Panties/Temp_Pamp_Indicator.png\": `${publicURL}/items/diapers/Temp/Indicator.png`,\r\n    \"Assets/Female3DCG/Panties/Temp_Pamp_Wet.png\": `${publicURL}/items/diapers/Temp/Wet.png`,\r\n    \"Assets/Female3DCG/Panties/Temp_Pamp_Back.png\": `${publicURL}/items/diapers/Temp/Back.png`,\r\n    \"Assets/Female3DCG/Panties/Preview/Temp_Pamp.png\": `${publicURL}/items/diapers/Temp/Preview.png`,\r\n  });\r\n  AssetManager.addAsset(\"ItemPelvis\", assetDefintion, undefined, translations);\r\n  AssetManager.addAsset(\"Panties\", assetDefintion, undefined, translations);\r\n}\r\n","import { AssetManager } from \"@sugarch/bc-asset-manager\";\r\nimport pamps from \"./items/untrainerPamps\";\r\nimport { bcModSDK } from \"./utils\";\r\nimport { HookManager } from \"@sugarch/bc-mod-hook-manager\";\r\nimport tempPamp from \"./items/tempPamp\";\r\n\r\nexport const initCustomItems = () => {\r\n  HookManager.initWithMod(bcModSDK);\r\n  AssetManager.init(() => {\r\n    pamps();\r\n    tempPamp();\r\n  });\r\n};\r\n","import initHooks from \"./core/hooks\";\r\nimport { logger } from \"./core/logger\";\r\nimport { loadOrGenerateData } from \"./core/settings\";\r\nimport { bcModSDK, HookPriority } from \"./core/utils\";\r\nimport { initScreens } from \"./screens\";\r\nimport { initSettingsScreen } from \"./screens/Settings\";\r\nimport { initMinigames } from \"./core/minigames\";\r\nimport { abclPlayer } from \"./core/player/player\";\r\nimport \"./core/global\";\r\nimport { initOverlay } from \"./core/player/ui\";\r\nimport { initActions } from \"./core/actionLoader\";\r\nimport { loopInterval } from \"./constants\";\r\nimport { initApi } from \"./core/api\";\r\nimport { initCustomItems } from \"./core/customItems\";\r\ninitCustomItems();\r\nconst loop = () => {\r\n  if (CurrentScreen !== \"ChatRoom\") {\r\n    return;\r\n  }\r\n  abclPlayer.update();\r\n};\r\n\r\nconst init = async () => {\r\n  //  ServerPlayerSync();\r\n\r\n  loadOrGenerateData();\r\n  initSettingsScreen();\r\n  initActions();\r\n  initScreens([]);\r\n  initHooks();\r\n  initMinigames();\r\n  initOverlay();\r\n  initApi();\r\n\r\n  setInterval(loop, loopInterval);\r\n  logger.info(`Ready.`);\r\n};\r\n\r\nif (CurrentScreen == null || CurrentScreen === \"Login\") {\r\n  bcModSDK.hookFunction(\"LoginResponse\", HookPriority.OBSERVE, (args, next) => {\r\n    next(args);\r\n    const response = args[0];\r\n    if (response === \"InvalidNamePassword\") return;\r\n    const { Name, AccountName } = response;\r\n    if (typeof Name === \"string\" && typeof AccountName === \"string\") init();\r\n  });\r\n} else init();\r\n","import { sendDataToAction, sendRequestOtherDataPacket, sendUpdateMyData } from \"./hooks\";\r\nimport { isABCLPlayer } from \"./player/playerUtils\";\r\nimport { overlay } from \"./player/ui\";\r\n\r\nexport function initApi(): void {\r\n  (<any>window)[`${modIdentifier}`] = {\r\n    inModSubscreen: () => Boolean(overlay.querySelector(`.${modIdentifier}SettingPage`)?.classList.contains(`${modIdentifier}Hidden`)),\r\n    isABCLPlayer,\r\n    sendDataToAction,\r\n    sendUpdateMyData,\r\n    sendRequestOtherDataPacket,\r\n\r\n    //\r\n  };\r\n}\r\n"],"names":["o","e","alert","Error","console","error","t","TextEncoder","n","Array","isArray","r","Set","filter","has","add","i","Map","a","c","warn","s","f","values","patching","get","name","push","hooks","patches","entries","set","sort","priority","size","toString","replaceAll","includes","eval","original","m","errorReporterHooks","hookChainExit","call","apply","this","length","hookEnter","mod","hook","arguments","patchesSources","enter","final","l","precomputed","window","split","slice","join","encode","padStart","toUpperCase","d","originalHash","Object","assign","router","context","contextProperty","p","sdkEntrypoint","currentEntrypoint","hookedByMods","map","patchedByMods","from","u","delete","loaded","g","fullName","version","repository","allowReplace","apiEndpointEnter","unload","hookFunction","indexOf","splice","patchFunction","removePatches","clear","callOriginal","globalThis","getOriginalHash","api","freeze","h","y","bcModSdk","apiVersion","registerMod","getModsInfo","getPatchingInfo","seal","defineProperty","exports","value","logger","constructor","logsArray","maxLogSize","log","level","message","logFunction","logEntry","timestamp","Date","toISOString","shift","info","debug","getLogs","freeGlobal","global","freeSelf","self","root","Function","Symbol","objectProto","prototype","hasOwnProperty","nativeObjectToString","symToStringTag","toStringTag","undefined","nullTag","undefinedTag","baseGetTag","isOwn","tag","unmasked","result","getRawTag","objectToString","isObjectLike","symbolTag","reWhitespace","reTrimStart","baseTrim","string","index","test","charAt","trimmedEndIndex","replace","isObject","type","NAN","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","parseInt","toNumber","isSymbol","other","valueOf","isBinary","identity","asyncTag","funcTag","genTag","proxyTag","isFunction","uid","coreJsData","maskSrcKey","exec","keys","IE_PROTO","funcToString","reIsHostCtor","funcProto","reIsNative","RegExp","baseIsNative","func","toSource","getNative","object","key","getValue","objectCreate","create","baseCreate","proto","nativeNow","now","count","lastCalled","baseSetToString","configurable","enumerable","writable","setToString","stamp","remaining","MAX_SAFE_INTEGER","reIsUint","isIndex","baseAssignValue","eq","assignValue","objValue","nativeMax","Math","max","baseRest","start","transform","args","array","otherArgs","thisArg","overRest","isLength","isArrayLike","isPrototype","Ctor","baseIsArguments","propertyIsEnumerable","isArguments","isArguments$1","freeExports","nodeType","freeModule","module","Buffer","isBuffer","typedArrayTags","freeProcess","process","nodeUtil","types","require","binding","nodeIsTypedArray","isTypedArray","baseUnary","arrayLikeKeys","inherited","isArr","isArg","isBuff","isType","skipIndexes","iteratee","baseTimes","String","baseKeysIn","nativeKeysIn","isProto","keysIn","nativeCreate","Hash","entry","assocIndexOf","__data__","data","ListCache","pop","getMapData","MapCache","hash","getPrototype","arg","overArg","getPrototypeOf","objectTag","objectCtorString","Stack","pairs","LARGE_ARRAY_SIZE","allocUnsafe","Uint8Array","cloneTypedArray","typedArray","isDeep","arrayBuffer","buffer","byteLength","byteOffset","fromRight","baseFor","keysFunc","iterable","props","FUNC_ERROR_TEXT","nativeMin","min","debounce","wait","options","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","TypeError","invokeFunc","time","shouldInvoke","timeSinceLastCall","timerExpired","trailingEdge","setTimeout","timeWaiting","remainingWait","debounced","isInvoking","leadingEdge","clearTimeout","cancel","flush","assignMergeValue","safeGet","toPlainObject","source","customizer","isNew","newValue","copyObject","baseMergeDeep","srcIndex","mergeFunc","stack","srcValue","stacked","isCommon","isTyped","copyArray","copy","cloneBuffer","isPlainObject","initCloneObject","baseMerge","assigner","merge","sources","guard","isIterateeCall","ABCLdata","ACCIDENTS_ON_ACTIVITIES","Tickle","wetting","messing","TickleItem","Spank","ShockItem","Kick","Rub","SpankItem","Slap","Grope","ModVersion","ModName","ModIdentifier","MetabolismSettings","DiaperSettingValues","MetabolismSettingValues","Disabled","Slow","Normal","Fast","Faster","Fastest","PermissionLevels","defaultSettings","PeeMetabolism","PoopMetabolism","OpenRemoteSettings","LockedOutOfSettings","DisableWettingLeaks","DisableSoilingLeaks","OnDiaperChange","VisibleMessages","changeDiaper","checkDiaper","lickPuddle","wetDiaper","wetClothing","soilDiaper","soilClothing","usePotty","useToilet","wipePuddle","statusMessages","StatusMessages","Bladder","Bowel","Soiliness","Wetness","MentalRegression","Incontinence","PuddleSize","DisableClothingStains","DisableDiaperStains","AccidentsByActivities","defaultStats","WaterIntake","FoodIntake","defaultData","Settings","Stats","syncData","compressed","LZString","compressToBase64","JSON","stringify","Player","ExtensionSettings","ServerPlayerExtensionSettingsSync","sendUpdateMyData","bcModSDK","bcModSdkRef","HookPriority","sendChatLocal","classes","style","local","ServerPlayerIsInChatRoom","msgElement","document","createElement","innerHTML","line","trim","classList","cssText","querySelector","appendChild","ElementScrollToEnd","waitForElement","async","selector","Promise","resolve","reject","element","observer","MutationObserver","target","childCheck","childElementCount","disconnect","timeoutId","observe","body","childList","subtree","timeout","isColorable","color","getColor","asset","mappedColor","DefaultColor","getElement","parent","hexToHsl","hex","b","substring","rgbToHsl","round","generateDynamicCSSVariables","property","sourceVariable","fallbackColor","baseColor","variable","getComputedStyle","documentElement","getPropertyValue","startsWith","rgbMatch","match","Number","getComputedColor","strength","adjustment","hslMatch","adjustLightness","getCharacter","identifier","ChatRoomCharacter","Character","Name","toLowerCase","nickname","Nickname","identifierString","MemberNumber","targetInputExtractor","parsed","character","isABCLPlayer","strict","ABCL","Version","Boolean","getCharacterName","memberNumber","replace_template","text","fallbackSourceName","isPlayerMale","CharacterPronounDescription","possessive","intensive","pronoun","isOppMale","oppName","IsPlayer","CharacterNickname","oppPossessive","oppIntensive","oppPronoun","toLocaleLowerCase","SendStatusMessage","delta","percent","toPrecision","abclPlayer","settings","getStatusMessageSetting","isLocal","getPublicMessage","abs","sendDataToAction","SendAction","action","sender","messageType","msg","ServerSend","Content","Type","Dictionary","Tag","Text","ABCLStatsWindow","folded","statsDrawer","overlay","addEventListener","update","close","removeAttribute","open","selectedPlayerId","setAttribute","currentPlayerSelect","selectedCharacter","updateInput","className","input","label","valueRounded","EPSILON","innerText","hasDiaper","getPlayerDiaperSize","MovableElement","resizable","newX","newY","oldX","oldY","isDragging","isResizing","resizeDirection","edgeThreshold","onMouseDown","bind","onMouseMove","onMouseUp","onMouseEnter","onMouseLeave","onMouseMoveForCursor","position","resize","event","removeEventListener","cursor","offsetX","offsetY","offsetWidth","offsetHeight","preventDefault","clientX","clientY","top","offsetTop","left","offsetLeft","deltaX","deltaY","width","height","ABCLYesNoPrompt","onAccept","onDeny","prompt","id","random","substr","show","remove","abclStatsWindow","initOverlay","shoelaceCSSLight","rel","href","head","shoelaceScript","src","injectedStyles","shoelaceOverides","sliders","primary","secondary","cssSliders","slider","createCSS","then","removeChild","updatePlayerClothes","CharacterRefresh","ChatRoomCharacterUpdate","onAccident","stats","mentalRegressionOnAccident","mentalRegressionOvertime","BladderValue","BowelValue","attemptWetting","attemptSoiling","playerSaver","save","wetColor","panties","InventoryGet","isDiaper","pantiesColors","Color","Asset","averageColor","item","Appearance","ItemDefinitions","Pants","some","pants","Description","colors","messColor","diaperSize","absorbedVolume","WetnessValue","SoilinessValue","limit","incontinenceLimitFormula","chance","incontinenceChanceFormula","BladderFullness","incontinenceCheck","check","MiniGameStart","BowelFullness","wet","intentional","incontinenceOffset","isTooEarly","isPossible","isGood","incontinenceOnAccident","soil","BladderSize","WetnessPercentage","updateDiaperColor","BowelSize","SoilinessPercentage","setStatusMessageSetting","setPublicMessage","allowedSaveInterval","lastSaveTime","allowedCallInterval","reset","isReady","isLeaking","isDiaperDirty","Diapers","player","pelvisItem","color_1","color_2","ratio","rgb_1","DrawHexToRGB","rgb_2","avgRgb","DrawRGBToHex","mixLevels","highLevel","midLevel","lowLevel","isDiaperLocked","diaper","Property","LockedBy","LockMemberNumber","setDiaperColor","slot","primaryColor","dirtiness","indicator","DiaperColors","indicatorAccident","gradients","Opacity","messLevel","wetLevel","mixedLevel","getDiaperSize","TypeRecord","typed","DiaperSizeScale","heavy_adult","incontinence","fullness","threshold","pow","mentalRegressionBonus","assetDescriptions","clothing","matches","BabyItems","concat","description","assetDescription","throttle","modifier","MR","denominator","stages","increase","end","changeDiaperRequest","changeDiaperFunction","activity","ID","Image","Target","OnClick","group","Criteria","IsRestrained","command","Action","listeners","Sender","diaperCheckFunction","isSelf","lickPuddleRequest","LickPuddleFunction","onABCLMessage","sync","otherCharacter","init","toPee","TargetSelf","toPoop","usePottyFunction","isTooFarGone","isEmbarrassed","additionalText","useToiletFunction","WipePuddleRequest","WipePuddleFunction","Activity","image","onClick","targetSelf","criteria","fitsCriteria","focusGroup","createButton","button","dataset","CurrentCharacter","FocusGroup","DialogLeave","isInserted","getElementById","actions","commands","reduce","activites","ChatRoomMessage","sendRequestOtherDataPacket","initHooks","cancelFunc","waitFor","ServerSocket","ServerIsConnected","next","C","CharX","CharY","Zoom","puddleSizeFactor","DrawImageResize","receivedMessage","listener","receivePacket","_character","_slot","_asset","_result","actor","acted","targetGroup","ItemActivity","rest","MouseIn","theme","ChatSettings","ColorTheme","contains","lastDetectedErrors","filename","detectedError","lineno","username","thread_name","content","fetch","method","headers","htmlSettingPage","CurrentScreen","registerMiniGame","miniGame","Run","Click","Load","Unload","Resize","KeyDown","Exit","victory","End","BaseMiniGame","AccidentMiniGame","startText","hintText","failText","successText","tintColor","GameStartTime","GameEndTime","StartDelay","AccidentVelocity","AccidentPosition","AccidentAcceleration","AccidentMaxPosition","AccidentGameDuration","AccidentNextTick","AccidentText","AccidentChallenge","BaseGameLength","Victory","CommonSetScreen","MiniGameVictory","MiniGameEnded","MiniGameTimer","CommonTime","IsStartDelay","DrawFlashScreen","MiniGameDifficulty","difficultyTimeAdd","IsGameActive","GameFailed","IsGameTimeout","IsEndGameReport","RunGame","timeElapsed","DrawProgressBar","DrawText","ChatRoomRun","TimerRunInterval","MiniGameEnd","floor","MessMinigame","super","WetMinigame","clearData","saveData","mutateData","newData","noOp","hookMng","workList","run","work","flag","once","inject","inside","when","override","i$1","s$1","done","list","initWithMod","afterInit","afterPlayerLogin","invokeOriginal","progressiveHook","hookPlayerFunction","globalFunction","randomGlobalFunction","setLogger","ItemTorso","ItemTorso2","AssetGroupGet","forEach","AssetFemale3DCGExtended","AssetFemale3DCG","Group","N","TranslationLanguage","v","G","CN","I","D","$","setAsset","setGroup","F","w","flat","fromAsset","AssetGet","TextAllScreenCache","AssetStringsPath","AssetGroup","cache","find","rebuildListeners","E","L","j","O","desc","fallback","noOverride","S","T","Layer","x","P","_","k","M","B","R","H","W","z","U","V","Z","extendedConfig","dynamicName","preimage","noMirror","AssetResolveCopyConfig","AssetDefinition","DynamicGroupName","J","Q","q","K","Default","Random","Y","ee","te","ne","oe","ae","_initStorage","_namespace","getMayOverride","setImplementation","createNamespace","re","ie","emptyImage","assetPreviewIconPath","AssetGetPreviewPath","activityPreviewIconPath","ce","basic","custom","addImgMapping","setBasicImgMapping","mapImgSrc","endsWith","mapImg","ue","ElementButton","Item","le","fe","addAsset","addGroupedAssets","addGroupedConfig","modifyAsset","modifyAssetLayers","modifyGroup","addCustomDialog","addImageMapping","imageMapping","addGroup","addCopyGroup","addLayerNames","addLayerNamesByEntry","assetIsCustomed","afterLoad","DialogInventory","NotVisibleOnScreen","DialogInventoryAdd","CraftingAssets","Inventory","A","CraftingAssetsPopulate","X","enableValidation","fromModUser","valid","se","typeBodyGroupNames","pampsAssetDefintion","Left","Top","Priority","ParentGroup","AllowColorize","EditOpacity","translations","EN","RU","assetDefintion","HookManager","AssetManager","loop","screens","dataString","decompressFromBase64","parse","metabolismValue","Metabolism","disableWetting","DisableWetting","fromEntries","modStorageObject","loadOrGenerateData","peeMetabolismSelect","poopMetabolismSelect","onDiaperChangeSelect","disableDiaperStainsCheckbox","disableClothingStainsCheckbox","visibilityElements","StatusMessageElements","checked","PreferenceRegisterExtensionSetting","Identifier","ButtonText","DrawButton","click","PreferenceSubscreenExtensionsExit","exit","load","setCheckbox","initSettingsScreen","_C","_clickedObj","_equippedItem","_mode","activityGrid","activityInstance","CommandCombine","screen","CurrentModule","KeyUp","functions","injectedScreenFunctions","inModSubscreen","setInterval","OBSERVE","response","AccountName"],"mappings":"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","x_google_ignoreList":[0,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,114,131,132]}