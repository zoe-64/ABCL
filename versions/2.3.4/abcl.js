!function(){"use strict";const e=new class{constructor(e=!0){this.logsArray=[],this.maxLogSize=100,this.silent=e}log(e,t,n){const r={message:t,level:e,version:"2.3.0",timestamp:(new Date).toISOString()};n("%cABCL:","font-weight: bold; color: #f6cbde;",r),this.logsArray.push(r),this.logsArray.length>this.maxLogSize&&this.logsArray.shift(),this.silent||console.log(r)}info(e){this.log("INFO",e,console.log)}debug(e){this.log("DEBUG",e,console.debug)}warn(e){this.log("WARN",e,console.warn)}error(e){this.log("ERROR",e,console.error)}getLogs(){return this.logsArray}}(!1);const t={ItemDefinitions:{BabyItems:["ClothBabydollDress1","ClothAdultBabyDress1","ClothAdultBabyDress2","ClothAdultBabyDress3","ClothAdultBabyDress4","ItemTorsoAdultBabyHarness","ClothLowerTutu","PantiesBikini1","ItemHandsPaddedMittens","ItemHandsPawMittens","ItemHandsSmoothLeatherMittens1","ItemDevicesChangingTable","ItemDevicesCrib","ItemMiscFoxPlush","ItemMiscBunPlush","ItemHandheldShark","ItemDevicesHighchair","ClothAccessoryBib","ItemMouthMilkBottle","ItemMouthRegressedMilk","ItemMouthHarnessPacifierGag","ItemMouthPacifierGag","ItemMouthPaciGag"],Pants:["ClothLowerLeggings2","ClothLowerLeggings1","ClothLowerBusinessTrousers","ClothLowerLatexPants1","ClothLowerPantBoots","ClothLowerJeans1","ClothLowerJeans2","ClothLowerPajama1"]},DiaperColors:{clean:"#8F8F8F",middlewet:"#ffe58b",maximumwet:"#ffd33e",middlemess:"#423019",maximummess:"#3C302C",selfwet:"#242103",selfmess:"#1f170d",indicatorAccident:"#1e47a6"},DiaperSizeScale:{none:0,small:300,regular:500,overnight:800,light_adult:900,moderate_adult:1500,heavy_adult:2500,specialized:3500},Diapers:{"Panties_笨笨蛋LuziDiapers1":{size:"regular",gradients:[1]},"Panties_笨笨蛋LuziDiapers2":{gradients:[2],size:"light_adult"},"Panties_笨笨蛋LuziDiapers3":{gradients:[1],size:"light_adult"},"Panties_笨笨蛋LuziDiapers4":{gradients:[3],size:"overnight"},"Panties_笨笨蛋LuziBulkyDiaper":{gradients:[4],size:"light_adult"},"Panties_笨笨蛋LuziPoofyDiaper":{gradients:[4],size:"light_adult"},"Panties_笨笨蛋LuziUntrainersThin":{size:"light_adult",gradients:[4],indicator:[5]},"Panties_笨笨蛋LuziLatexDiaper":{gradients:[2],size:"moderate_adult"},PantiesDiapers1:{size:"regular",gradients:[1]},PantiesDiapers2:{gradients:[2],size:"light_adult"},PantiesDiapers3:{gradients:[1],size:"light_adult"},PantiesDiapers4:{gradients:[3],size:"overnight"},PantiesBulkyDiaper:{gradients:[4],size:"light_adult"},ItemPelvisBulkyDiaper:{gradients:[4],size:"moderate_adult"},PantiesPoofyDiaper:{gradients:[4],size:"light_adult"},"ItemPelvisPoofyDiaper 1":{gradients:[4],size:"heavy_adult"},ItemPelvisPoofyDiaper:{gradients:[4],size:"moderate_adult"},ItemPelvisDiaperHarness:{size:"none"},ItemPelvisUntrainersThin:{size:"light_adult",gradients:[4],indicator:[5]},PantiesUntrainersThin:{size:"light_adult",gradients:[4],indicator:[5]},ItemPelvisLatexDiaper:{gradients:[2],size:"moderate_adult"},PantiesLatexDiaper:{gradients:[2],size:"moderate_adult"}}},n=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",r={Tickle:{wetting:.05,messing:.01},TickleItem:{wetting:.08,messing:.01},Spank:{wetting:.12,messing:.15},ShockItem:{wetting:.15,messing:.2},Kick:{wetting:.05,messing:.05},Rub:{wetting:.01},SpankItem:{wetting:.15,messing:.2},Slap:{wetting:.03,messing:.04},Grope:{wetting:.06,messing:.05}},i="Normal",s="Deny",a="Ask",o="Allow",l={Disabled:0,Slow:.5,Normal:1,Fast:1.5,Faster:2,Fastest:3};var c;!function(e){e[e.Anyone=0]="Anyone",e[e.ItemPermission=1]="ItemPermission",e[e.Friends=2]="Friends",e[e.Lovers=3]="Lovers",e[e.Owner=5]="Owner",e[e.Self=6]="Self"}(c||(c={}));var u="object"==typeof global&&global&&global.Object===Object&&global,d="object"==typeof self&&self&&self.Object===Object&&self,p=u||d||Function("return this")(),h=p.Symbol,m=Object.prototype,f=m.hasOwnProperty,g=m.toString,y=h?h.toStringTag:void 0;var v=Object.prototype.toString;var b="[object Null]",_="[object Undefined]",A=h?h.toStringTag:void 0;function C(e){return null==e?void 0===e?_:b:A&&A in Object(e)?function(e){var t=f.call(e,y),n=e[y];try{e[y]=void 0;var r=!0}catch(e){}var i=g.call(e);return r&&(t?e[y]=n:delete e[y]),i}(e):function(e){return v.call(e)}(e)}function S(e){return null!=e&&"object"==typeof e}var P="[object Symbol]";var L=Array.isArray,w=/\s/;var I=/^\s+/;function k(e){return e?e.slice(0,function(e){for(var t=e.length;t--&&w.test(e.charAt(t)););return t}(e)+1).replace(I,""):e}function N(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var D=NaN,M=/^[-+]0x[0-9a-f]+$/i,B=/^0b[01]+$/i,O=/^0o[0-7]+$/i,R=parseInt;function x(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||S(e)&&C(e)==P}(e))return D;if(N(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=N(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=k(e);var n=B.test(e);return n||O.test(e)?R(e.slice(2),n?2:8):M.test(e)?D:+e}function T(e){return e}var $="[object AsyncFunction]",G="[object Function]",F="[object GeneratorFunction]",z="[object Proxy]";function j(e){if(!N(e))return!1;var t=C(e);return t==G||t==F||t==$||t==z}var V,U=p["__core-js_shared__"],H=(V=/[^.]+$/.exec(U&&U.keys&&U.keys.IE_PROTO||""))?"Symbol(src)_1."+V:"";var W=Function.prototype.toString;var q=/^\[object .+?Constructor\]$/,X=Function.prototype,Y=Object.prototype,Z=X.toString,K=Y.hasOwnProperty,J=RegExp("^"+Z.call(K).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Q(e){return!(!N(e)||(t=e,H&&H in t))&&(j(e)?J:q).test(function(e){if(null!=e){try{return W.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e));var t}function ee(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Q(n)?n:void 0}var te=Object.create,ne=function(){function e(){}return function(t){if(!N(t))return{};if(te)return te(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();var re=Date.now;var ie,se,ae,oe=function(){try{var e=ee(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),le=oe?function(e,t){return oe(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0});var n}:T,ce=(ie=le,se=0,ae=0,function(){var e=re(),t=16-(e-ae);if(ae=e,t>0){if(++se>=800)return arguments[0]}else se=0;return ie.apply(void 0,arguments)}),ue=9007199254740991,de=/^(?:0|[1-9]\d*)$/;function pe(e,t){var n=typeof e;return!!(t=null==t?ue:t)&&("number"==n||"symbol"!=n&&de.test(e))&&e>-1&&e%1==0&&e<t}function he(e,t,n){"__proto__"==t&&oe?oe(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function me(e,t){return e===t||e!=e&&t!=t}var fe=Object.prototype.hasOwnProperty;function ge(e,t,n){var r=e[t];fe.call(e,t)&&me(r,n)&&(void 0!==n||t in e)||he(e,t,n)}var ye=Math.max;function ve(e,t){return ce(function(e,t,n){return t=ye(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,s=ye(r.length-t,0),a=Array(s);++i<s;)a[i]=r[t+i];i=-1;for(var o=Array(t+1);++i<t;)o[i]=r[i];return o[t]=n(a),function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(e,this,o)}}(e,t,T),e+"")}var be=9007199254740991;function _e(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=be}function Ae(e){return null!=e&&_e(e.length)&&!j(e)}var Ce=Object.prototype;function Se(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Ce)}function Pe(e){return S(e)&&"[object Arguments]"==C(e)}var Ee=Object.prototype,Le=Ee.hasOwnProperty,we=Ee.propertyIsEnumerable,Ie=Pe(function(){return arguments}())?Pe:function(e){return S(e)&&Le.call(e,"callee")&&!we.call(e,"callee")},ke=Ie;var Ne="object"==typeof exports&&exports&&!exports.nodeType&&exports,De=Ne&&"object"==typeof module&&module&&!module.nodeType&&module,Me=De&&De.exports===Ne?p.Buffer:void 0,Be=(Me?Me.isBuffer:void 0)||function(){return!1},Oe={};Oe["[object Float32Array]"]=Oe["[object Float64Array]"]=Oe["[object Int8Array]"]=Oe["[object Int16Array]"]=Oe["[object Int32Array]"]=Oe["[object Uint8Array]"]=Oe["[object Uint8ClampedArray]"]=Oe["[object Uint16Array]"]=Oe["[object Uint32Array]"]=!0,Oe["[object Arguments]"]=Oe["[object Array]"]=Oe["[object ArrayBuffer]"]=Oe["[object Boolean]"]=Oe["[object DataView]"]=Oe["[object Date]"]=Oe["[object Error]"]=Oe["[object Function]"]=Oe["[object Map]"]=Oe["[object Number]"]=Oe["[object Object]"]=Oe["[object RegExp]"]=Oe["[object Set]"]=Oe["[object String]"]=Oe["[object WeakMap]"]=!1;var Re="object"==typeof exports&&exports&&!exports.nodeType&&exports,xe=Re&&"object"==typeof module&&module&&!module.nodeType&&module,Te=xe&&xe.exports===Re&&u.process,$e=function(){try{var e=xe&&xe.require&&xe.require("util").types;return e||Te&&Te.binding&&Te.binding("util")}catch(e){}}(),Ge=$e&&$e.isTypedArray,Fe=Ge?function(e){return function(t){return e(t)}}(Ge):function(e){return S(e)&&_e(e.length)&&!!Oe[C(e)]},ze=Object.prototype.hasOwnProperty;function je(e,t){var n=L(e),r=!n&&ke(e),i=!n&&!r&&Be(e),s=!n&&!r&&!i&&Fe(e),a=n||r||i||s,o=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],l=o.length;for(var c in e)!t&&!ze.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||s&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||pe(c,l))||o.push(c);return o}var Ve=Object.prototype.hasOwnProperty;function Ue(e){if(!N(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=Se(e),n=[];for(var r in e)("constructor"!=r||!t&&Ve.call(e,r))&&n.push(r);return n}function He(e){return Ae(e)?je(e,!0):Ue(e)}var We=ee(Object,"create");var qe=Object.prototype.hasOwnProperty;var Xe=Object.prototype.hasOwnProperty;function Ye(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ze(e,t){for(var n=e.length;n--;)if(me(e[n][0],t))return n;return-1}Ye.prototype.clear=function(){this.__data__=We?We(null):{},this.size=0},Ye.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Ye.prototype.get=function(e){var t=this.__data__;if(We){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return qe.call(t,e)?t[e]:void 0},Ye.prototype.has=function(e){var t=this.__data__;return We?void 0!==t[e]:Xe.call(t,e)},Ye.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=We&&void 0===t?"__lodash_hash_undefined__":t,this};var Ke=Array.prototype.splice;function Je(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Je.prototype.clear=function(){this.__data__=[],this.size=0},Je.prototype.delete=function(e){var t=this.__data__,n=Ze(t,e);return!(n<0)&&(n==t.length-1?t.pop():Ke.call(t,n,1),--this.size,!0)},Je.prototype.get=function(e){var t=this.__data__,n=Ze(t,e);return n<0?void 0:t[n][1]},Je.prototype.has=function(e){return Ze(this.__data__,e)>-1},Je.prototype.set=function(e,t){var n=this.__data__,r=Ze(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};var Qe=ee(p,"Map");function et(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function tt(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}tt.prototype.clear=function(){this.size=0,this.__data__={hash:new Ye,map:new(Qe||Je),string:new Ye}},tt.prototype.delete=function(e){var t=et(this,e).delete(e);return this.size-=t?1:0,t},tt.prototype.get=function(e){return et(this,e).get(e)},tt.prototype.has=function(e){return et(this,e).has(e)},tt.prototype.set=function(e,t){var n=et(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};var nt=function(e,t){return function(n){return e(t(n))}}(Object.getPrototypeOf,Object),rt="[object Object]",it=Function.prototype,st=Object.prototype,at=it.toString,ot=st.hasOwnProperty,lt=at.call(Object);function ct(e){var t=this.__data__=new Je(e);this.size=t.size}ct.prototype.clear=function(){this.__data__=new Je,this.size=0},ct.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},ct.prototype.get=function(e){return this.__data__.get(e)},ct.prototype.has=function(e){return this.__data__.has(e)},ct.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Je){var r=n.__data__;if(!Qe||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new tt(r)}return n.set(e,t),this.size=n.size,this};var ut="object"==typeof exports&&exports&&!exports.nodeType&&exports,dt=ut&&"object"==typeof module&&module&&!module.nodeType&&module,pt=dt&&dt.exports===ut?p.Buffer:void 0,ht=pt?pt.allocUnsafe:void 0;var mt=p.Uint8Array;function ft(e,t){var n,r,i=t?(n=e.buffer,r=new n.constructor(n.byteLength),new mt(r).set(new mt(n)),r):e.buffer;return new e.constructor(i,e.byteOffset,e.length)}var gt,yt=function(e,t,n){for(var r=-1,i=Object(e),s=n(e),a=s.length;a--;){var o=s[gt?a:++r];if(!1===t(i[o],o,i))break}return e},vt=function(){return p.Date.now()},bt=Math.max,_t=Math.min;function At(e,t,n){(void 0!==n&&!me(e[t],n)||void 0===n&&!(t in e))&&he(e,t,n)}function Ct(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}function St(e){return function(e,t,n,r){var i=!n;n||(n={});for(var s=-1,a=t.length;++s<a;){var o=t[s],l=r?r(n[o],e[o],o,n,e):void 0;void 0===l&&(l=e[o]),i?he(n,o,l):ge(n,o,l)}return n}(e,He(e))}function Pt(e,t,n,r,i,s,a){var o=Ct(e,n),l=Ct(t,n),c=a.get(l);if(c)At(e,n,c);else{var u,d=s?s(o,l,n+"",e,t,a):void 0,p=void 0===d;if(p){var h=L(l),m=!h&&Be(l),f=!h&&!m&&Fe(l);d=l,h||m||f?L(o)?d=o:S(u=o)&&Ae(u)?d=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}(o):m?(p=!1,d=function(e,t){if(t)return e.slice();var n=e.length,r=ht?ht(n):new e.constructor(n);return e.copy(r),r}(l,!0)):f?(p=!1,d=ft(l,!0)):d=[]:function(e){if(!S(e)||C(e)!=rt)return!1;var t=nt(e);if(null===t)return!0;var n=ot.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&at.call(n)==lt}(l)||ke(l)?(d=o,ke(o)?d=St(o):N(o)&&!j(o)||(d=function(e){return"function"!=typeof e.constructor||Se(e)?{}:ne(nt(e))}(l))):p=!1}p&&(a.set(l,d),i(d,l,r,s,a),a.delete(l)),At(e,n,d)}}function Et(e,t,n,r,i){e!==t&&yt(t,(function(s,a){if(i||(i=new ct),N(s))Pt(e,t,a,n,Et,r,i);else{var o=r?r(Ct(e,a),s,a+"",e,t,i):void 0;void 0===o&&(o=s),At(e,a,o)}}),He)}var Lt,wt=(Lt=function(e,t,n){Et(e,t,n)},ve((function(e,t){var n=-1,r=t.length,i=r>1?t[r-1]:void 0,s=r>2?t[2]:void 0;for(i=Lt.length>3&&"function"==typeof i?(r--,i):void 0,s&&function(e,t,n){if(!N(n))return!1;var r=typeof t;return!!("number"==r?Ae(n)&&pe(t,n.length):"string"==r&&t in n)&&me(n[t],e)}(t[0],t[1],s)&&(i=r<3?void 0:i,r=1),e=Object(e);++n<r;){var a=t[n];a&&Lt(e,a,n,i)}return e})));const It={PauseStats:!1,PeeMetabolism:i,PoopMetabolism:i,MentalRegressionModifier:i,OpenRemoteSettings:!1,LockedOutOfSettings:!1,DisableWettingLeaks:!1,DisableSoilingLeaks:!0,OnDiaperChange:a,VisibleMessages:{changeDiaper:!0,checkDiaper:!0,lickPuddle:!0,wetDiaper:!0,wetClothing:!0,soilDiaper:!0,soilClothing:!0,usePotty:!0,useToilet:!0,wipePuddle:!0,statusMessages:!1,playerActivity:!0,pauseStats:!1},StatusMessages:{Bladder:!0,Bowel:!0,Soiliness:!0,Wetness:!0,MentalRegression:!0,Incontinence:!0,PuddleSize:!0},DisableClothingStains:!1,DisableDiaperStains:!1,AccidentsByActivities:!0,ExpressionsByActivities:!1,AccidentAutopilot:!1},kt={PuddleSize:{value:0},Bladder:{value:0,size:300},Bowel:{value:0,size:200},Soiliness:{value:0},Wetness:{value:0},WaterIntake:{value:15},FoodIntake:{value:200/60},Incontinence:{value:0},MentalRegression:{value:0},MinigameStatistics:{Wet:{Total:0,Success:0},Mess:{Total:0,Success:0}}},Nt={PeeMetabolism:!1,PoopMetabolism:!1,MentalRegressionModifier:!1,OnDiaperChange:!1,PauseStats:!1,DisableWettingLeaks:!1,DisableSoilingLeaks:!1,DisableClothingStains:!1,DisableDiaperStains:!1,AccidentsByActivities:!1,ExpressionsByActivities:!1,changeDiaper:!1,checkDiaper:!1,lickPuddle:!1,wetDiaper:!1,wetClothing:!1,soilDiaper:!1,soilClothing:!1,usePotty:!1,useToilet:!1,wipePuddle:!1,statusMessages:!1,playerActivity:!1,pauseStats:!1,OpenRemoteSettings:!1,LockedOutOfSettings:!1,StatusMessages:!1,AccidentAutopilot:!1},Dt={Settings:It,Stats:kt,SettingPermissions:Nt},Mt=e=>{Player.ABCL=wt(Player.ABCL||Dt,e),Bt()},Bt=function(e,t,n){var r,i,s,a,o,l,c=0,u=!1,d=!1,p=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function h(t){var n=r,s=i;return r=i=void 0,c=t,a=e.apply(s,n)}function m(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-c>=s}function f(){var e=vt();if(m(e))return g(e);o=setTimeout(f,function(e){var n=t-(e-l);return d?_t(n,s-(e-c)):n}(e))}function g(e){return o=void 0,p&&r?h(e):(r=i=void 0,a)}function y(){var e=vt(),n=m(e);if(r=arguments,i=this,l=e,n){if(void 0===o)return function(e){return c=e,o=setTimeout(f,t),u?h(e):a}(l);if(d)return clearTimeout(o),o=setTimeout(f,t),h(l)}return void 0===o&&(o=setTimeout(f,t)),a}return t=x(t)||0,N(n)&&(u=!!n.leading,s=(d="maxWait"in n)?bt(x(n.maxWait)||0,t):s,p="trailing"in n?!!n.trailing:p),y.cancel=function(){void 0!==o&&clearTimeout(o),c=0,r=l=i=o=void 0},y.flush=function(){return void 0===o?a:g(vt())},y}((()=>{const e=LZString.compressToBase64(JSON.stringify(Player.ABCL));Player.ExtensionSettings.ABCL=e,ServerPlayerExtensionSettingsSync("ABCL"),yp()}),1e3),Ot=()=>{Player.ExtensionSettings.ABCL="N4XyA===",ServerPlayerExtensionSettingsSync("ABCL"),e.warn("cleared data")};
/**
     * @sugarch/bc-mod-hook-manager v0.3.1
     *
     * Copyright (c) 2025 SugarChain Studio
     * License: MIT
     * https://github.com/SugarChain-Studio/sugarch-utilities
     * @preserve
     */
let Rt,xt=class{constructor(e){this.hookMng=e,this.workList=[]}run(e,t){let n,r=!1;for(const i of this.workList)if("inject"===i.value)i.work(e,t);else if("next"===i.value)n=t(e),r=!0;else if("override"===i.value)n=i.work(e,t),r=!0;else if("flag"===i.value){if(!i.flag)break;i.once&&(i.flag=!1)}else if("check"===i.value&&!i.work(e,t))break;return r?n:t(e)}next(){return this.workList.push({value:"next"}),this}inject(e){return this.workList.push({value:"inject",work:e}),this}inside(e,{once:t=!1,priority:n=1}={}){const r={value:"flag",flag:!1,once:t};return this.hookMng.hookFunction(e,n,((e,t)=>{r.flag=!0;const n=t(e);return r.flag=!1,n})),this.workList.push(r),this}when(e){return this.workList.push({value:"check",work:e}),this}override(e){return this.workList.push({value:"override",work:e}),this}},Tt=class{static info(e){Rt?.info(e)}static warn(e){Rt?.warn(e)}static error(e){Rt?.error(e)}},$t=class{constructor(e=!1){this.done=e,this.list=[]}run(){for(this.done=!0;this.list.length>0;)this.list.shift()()}push(e){this.done?e():this.list.push(e)}};const Gt=new $t,Ft=new $t,zt=new $t,jt=new $t;function Vt(){return null!=globalThis.Player&&"number"==typeof globalThis.Player.MemberNumber}const Ut=new class{constructor(){this.mMod=void 0}get mod(){return this.mMod}push(e,t){e.push(t)}initWithMod(e){this.mMod=e,jt.run(),Ft.run();const t=()=>zt.run();Vt()?t():this.mod.hookFunction("LoginResponse",0,((e,n)=>{n(e),Vt()&&t()})),Gt.run()}afterInit(e){this.push(Gt,e)}afterPlayerLogin(e){this.push(zt,e)}patchFunction(e,t){this.push(jt,(()=>this.mod.patchFunction(e,t)))}invokeOriginal(e,...t){return this.mod?this.mod.callOriginal(e,t):globalThis[e]?.(...t)}hookFunction(e,t,n){this.push(Ft,(()=>this.mod.hookFunction(e,t,n)))}progressiveHook(e,t=1){const n=new xt(this);return this.hookFunction(e,t,((e,t)=>n.run(e,t))),n}insideFlag(e,t=1){const n={inside:!1};return this.hookFunction(e,t,((e,t)=>{n.inside=!0;const r=t(e);return n.inside=!1,r})),n}hookPlayerFunction(e,t,n){var r;r=()=>this.mod.hookFunction(e,t,n),Vt()?zt.push(r):r()}globalFunction(e,t){"function"!=typeof t&&Tt.warn("globalFunction: param is not a function"),null==globalThis[e]?globalThis[e]=t:globalThis[e]!=t&&Tt.warn(`globalFunction: ${e} is already defined`)}randomGlobalFunction(e,t){const n=e=>e+Math.random().toString(16).substring(2);let r=n(e);for(;null!=globalThis[r];)r=n(e);return globalThis[r]=t,r}setLogger(e){!function(e){Rt=e}(e)}};function Ht(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Wt={};!function(e){!function(){const t="1.2.0";function n(e){alert("Mod ERROR:\n"+e);const t=new Error(e);throw console.error(t),t}const r=new TextEncoder;function i(e){return!!e&&"object"==typeof e&&!Array.isArray(e)}function s(e){const t=new Set;return e.filter((e=>!t.has(e)&&t.add(e)))}const a=new Map,o=new Set;function l(e){o.has(e)||(o.add(e),console.warn(e))}function c(e){const t=[],n=new Map,r=new Set;for(const i of h.values()){const s=i.patching.get(e.name);if(s){t.push(...s.hooks);for(const[t,a]of s.patches.entries())n.has(t)&&n.get(t)!==a&&l(`ModSDK: Mod '${i.name}' is patching function ${e.name} with same pattern that is already applied by different mod, but with different pattern:\nPattern:\n${t}\nPatch1:\n${n.get(t)||""}\nPatch2:\n${a}`),n.set(t,a),r.add(i.name)}}t.sort(((e,t)=>t.priority-e.priority));const i=function(e,t){if(0===t.size)return e;let n=e.toString().replaceAll("\r\n","\n");for(const[r,i]of t.entries())n.includes(r)||l(`ModSDK: Patching ${e.name}: Patch ${r} not applied`),n=n.replaceAll(r,i);return(0,eval)(`(${n})`)}(e.original,n);let s=function(t){var n,s;const a=null===(s=(n=y.errorReporterHooks).hookChainExit)||void 0===s?void 0:s.call(n,e.name,r),o=i.apply(this,t);return null==a||a(),o};for(let n=t.length-1;n>=0;n--){const r=t[n],i=s;s=function(t){var n,s;const a=null===(s=(n=y.errorReporterHooks).hookEnter)||void 0===s?void 0:s.call(n,e.name,r.mod),o=r.hook.apply(this,[t,e=>{if(1!==arguments.length||!Array.isArray(t))throw new Error(`Mod ${r.mod} failed to call next hook: Expected args to be array, got ${typeof e}`);return i.call(this,e)}]);return null==a||a(),o}}return{hooks:t,patches:n,patchesSources:r,enter:s,final:i}}function u(e,t=!1){let n=a.get(e);if(n)t&&(n.precomputed=c(n));else{let t=window;const s=e.split(".");for(let n=0;n<s.length-1;n++)if(t=t[s[n]],!i(t))throw new Error(`ModSDK: Function ${e} to be patched not found; ${s.slice(0,n+1).join(".")} is not object`);const o=t[s[s.length-1]];if("function"!=typeof o)throw new Error(`ModSDK: Function ${e} to be patched not found`);const l=function(e){let t=-1;for(const n of r.encode(e)){let e=255&(t^n);for(let t=0;t<8;t++)e=1&e?-306674912^e>>>1:e>>>1;t=t>>>8^e}return(~t>>>0).toString(16).padStart(8,"0").toUpperCase()}(o.toString().replaceAll("\r\n","\n")),u={name:e,original:o,originalHash:l};n=Object.assign(Object.assign({},u),{precomputed:c(u),router:()=>{},context:t,contextProperty:s[s.length-1]}),n.router=function(e){return function(...t){return e.precomputed.enter.apply(this,[t])}}(n),a.set(e,n),t[n.contextProperty]=n.router}return n}function d(){for(const e of a.values())e.precomputed=c(e)}function p(){const e=new Map;for(const[t,n]of a)e.set(t,{name:t,original:n.original,originalHash:n.originalHash,sdkEntrypoint:n.router,currentEntrypoint:n.context[n.contextProperty],hookedByMods:s(n.precomputed.hooks.map((e=>e.mod))),patchedByMods:Array.from(n.precomputed.patchesSources)});return e}const h=new Map;function m(e){h.get(e.name)!==e&&n(`Failed to unload mod '${e.name}': Not registered`),h.delete(e.name),e.loaded=!1,d()}function f(e,t){e&&"object"==typeof e||n("Failed to register mod: Expected info object, got "+typeof e),"string"==typeof e.name&&e.name||n("Failed to register mod: Expected name to be non-empty string, got "+typeof e.name);let r=`'${e.name}'`;"string"==typeof e.fullName&&e.fullName||n(`Failed to register mod ${r}: Expected fullName to be non-empty string, got ${typeof e.fullName}`),r=`'${e.fullName} (${e.name})'`,"string"!=typeof e.version&&n(`Failed to register mod ${r}: Expected version to be string, got ${typeof e.version}`),e.repository||(e.repository=void 0),void 0!==e.repository&&"string"!=typeof e.repository&&n(`Failed to register mod ${r}: Expected repository to be undefined or string, got ${typeof e.version}`),null==t&&(t={}),t&&"object"==typeof t||n(`Failed to register mod ${r}: Expected options to be undefined or object, got ${typeof t}`);const s=!0===t.allowReplace,a=h.get(e.name);a&&(a.allowReplace&&s||n(`Refusing to load mod ${r}: it is already loaded and doesn't allow being replaced.\nWas the mod loaded multiple times?`),m(a));const o=e=>{let t=p.patching.get(e.name);return t||(t={hooks:[],patches:new Map},p.patching.set(e.name,t)),t},l=(e,t)=>(...i)=>{var s,a;const o=null===(a=(s=y.errorReporterHooks).apiEndpointEnter)||void 0===a?void 0:a.call(s,e,p.name);p.loaded||n(`Mod ${r} attempted to call SDK function after being unloaded`);const l=t(...i);return null==o||o(),l},c={unload:l("unload",(()=>m(p))),hookFunction:l("hookFunction",((e,t,i)=>{"string"==typeof e&&e||n(`Mod ${r} failed to patch a function: Expected function name string, got ${typeof e}`);const s=u(e),a=o(s);"number"!=typeof t&&n(`Mod ${r} failed to hook function '${e}': Expected priority number, got ${typeof t}`),"function"!=typeof i&&n(`Mod ${r} failed to hook function '${e}': Expected hook function, got ${typeof i}`);const l={mod:p.name,priority:t,hook:i};return a.hooks.push(l),d(),()=>{const e=a.hooks.indexOf(l);e>=0&&(a.hooks.splice(e,1),d())}})),patchFunction:l("patchFunction",((e,t)=>{"string"==typeof e&&e||n(`Mod ${r} failed to patch a function: Expected function name string, got ${typeof e}`);const s=u(e),a=o(s);i(t)||n(`Mod ${r} failed to patch function '${e}': Expected patches object, got ${typeof t}`);for(const[i,s]of Object.entries(t))"string"==typeof s?a.patches.set(i,s):null===s?a.patches.delete(i):n(`Mod ${r} failed to patch function '${e}': Invalid format of patch '${i}'`);d()})),removePatches:l("removePatches",(e=>{"string"==typeof e&&e||n(`Mod ${r} failed to patch a function: Expected function name string, got ${typeof e}`);const t=u(e);o(t).patches.clear(),d()})),callOriginal:l("callOriginal",((e,t,i)=>{"string"==typeof e&&e||n(`Mod ${r} failed to call a function: Expected function name string, got ${typeof e}`);const s=u(e);return Array.isArray(t)||n(`Mod ${r} failed to call a function: Expected args array, got ${typeof t}`),s.original.apply(null!=i?i:globalThis,t)})),getOriginalHash:l("getOriginalHash",(e=>("string"==typeof e&&e||n(`Mod ${r} failed to get hash: Expected function name string, got ${typeof e}`),u(e).originalHash)))},p={name:e.name,fullName:e.fullName,version:e.version,repository:e.repository,allowReplace:s,api:c,loaded:!0,patching:new Map};return h.set(e.name,p),Object.freeze(c)}function g(){const e=[];for(const t of h.values())e.push({name:t.name,fullName:t.fullName,version:t.version,repository:t.repository});return e}let y;const v=void 0===window.bcModSdk?window.bcModSdk=function(){const e={version:t,apiVersion:1,registerMod:f,getModsInfo:g,getPatchingInfo:p,errorReporterHooks:Object.seal({apiEndpointEnter:null,hookEnter:null,hookChainExit:null})};return y=e,Object.freeze(e)}():(i(window.bcModSdk)||n("Failed to init Mod SDK: Name already in use"),1!==window.bcModSdk.apiVersion&&n(`Failed to init Mod SDK: Different version already loaded ('1.2.0' vs '${window.bcModSdk.version}')`),window.bcModSdk.version!==t&&alert(`Mod SDK warning: Loading different but compatible versions ('1.2.0' vs '${window.bcModSdk.version}')\nOne of mods you are using is using an old version of SDK. It will work for now but please inform author to update`),window.bcModSdk);Object.defineProperty(e,"__esModule",{value:!0}),e.default=v}()}(Wt);var qt=Ht(Wt);const Xt=qt.registerMod({name:"ABCL",fullName:"ABCL",version:"2.3.0",repository:"https://github.com/zoe-64/ABCL"});var Yt;Ut.initWithMod(Xt),function(e){e[e.OBSERVE=0]="OBSERVE",e[e.ADD_BEHAVIOR=1]="ADD_BEHAVIOR",e[e.MODIFY_BEHAVIOR=5]="MODIFY_BEHAVIOR",e[e.OVERRIDE_BEHAVIOR=10]="OVERRIDE_BEHAVIOR",e[e.TOP=100]="TOP"}(Yt||(Yt={}));const Zt=(e,t=[],n,r=!0)=>{if(!ServerPlayerIsInChatRoom())return;const i=document.createElement("div");i.innerText=(r?"(local) ":"")+e,i.classList.add("ABCLLocalMessage","ChatMessage",...t),n&&(i.style.cssText=n),document.querySelector("#TextAreaChatLog")?.appendChild(i),ElementScrollToEnd("TextAreaChatLog")};const Kt=async(e,t={})=>new Promise(((n,r)=>{const i=document.querySelector(e);if(i)return void n(i);const s=new MutationObserver((()=>{const r=document.querySelector(e);r&&(!t.childCheck||r.childElementCount>0)&&(s.disconnect(),clearTimeout(a),n(r))}));s.observe(document.body,{childList:!0,subtree:!0});const a=setTimeout((()=>{s.disconnect(),console.warn(`Element with selector "${e}" not found within timeout`)}),t.timeout||1e4)})),Jt=e=>`${e=e||"ABCL"}_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;class Qt{constructor(e){this.lastCallTime=0,this.pausedTime=null,this.pausedOffset=0,this.allowedCallInterval=e}pause(){this.pausedTime=Date.now(),this.pausedOffset=this.lastCallTime-this.pausedTime}resume(){this.pausedTime=null,this.lastCallTime=Date.now()-this.pausedOffset}check(){return!this.pausedTime&&(Date.now()-this.lastCallTime>this.allowedCallInterval&&(this.lastCallTime=Date.now(),!0))}reset(){this.lastCallTime=0,this.pausedTime=null}resetAllowedCallInterval(){this.lastCallTime=Date.now(),this.pausedTime=null}isReady(){return Date.now()-this.lastCallTime>this.allowedCallInterval}}const en=e=>"Default"!==e&&"string"==typeof e,tn=(t,n)=>("string"==typeof t&&"Default"!==t&&e.warn(`Unknown color: ${t}`),t&&"Default"!==t?Array.isArray(t)?t.map((e=>"Default"===e?"#FFFFFF":e)):[t]:[...n.DefaultColor.map((e=>"Default"===e?"#FFFFFF":e))]),nn=(e,t)=>{const n=e.querySelector(t);if(n)return n;throw new Error(`Element with selector "${t}" not found`)};const rn={state:0,memberNumber:0,setState:e=>{rn.state=e(rn.state)},setMemberNumber:e=>{rn.setMemberNumber(e)},update:()=>{rn.setState((e=>e+1))}},sn=document.createElement("div");sn.id="ABCL-overlay";const an=()=>{ElementPositionFixed(sn.id,0,0,2e3,1e3),ElementPositionFixed("ABCL-stats-panel",1700,0,300,1e3);const e=document.querySelectorAll(".ABCL-exit-button");for(let t=0;t<e.length;t++){const n=e[t];n.id=n.id||Jt(),ElementPositionFixed(n.id,1815,75,90,90)}};window.addEventListener("resize",an),sn.classList.add("ABCL-overlay");const on=e=>{if(!e)return;if("object"==typeof e)return e;const t=ChatRoomCharacter.filter((t=>{const n=t.Name.toLowerCase(),r=t.Nickname?.toLowerCase(),i=`${e}`.toLowerCase();return t.MemberNumber==e||n===i||r===i||n.startsWith(i)||r?.startsWith(i)}));return 0===t.length?void 0:(t.length,t[0])},ln=e=>{const t=e.join(" "),n=on(t);if(n)return n},cn=(e,t,n=Player?.ABCL?.Version)=>Boolean(e?.ABCL&&(!t||e?.ABCL?.Version===n));function un(e){if(!e)return"Unknown";const t=on(e);return t?t.Nickname?t.Nickname:t.Name:"Unknown"}const dn=()=>["Afk","Brb","Sleep"].includes(InventoryGet(Player,"Emoticon")?.Property?.Expression??"")||Player.ABCL.Settings.AccidentAutopilot;function pn(e,t=null,n=""){let r=e,i="He/Him"===CharacterPronounDescription(Player),s=i?"His":"Her",a=i?"Him":"Her",o=i?"He":"She",l="He/Him"===(t?CharacterPronounDescription(t):"They/Them"),c=t?.IsPlayer()?l?"himself":"herself":t?CharacterNickname(t):n,u=l?"His":"Her",d=t==Player?l?"Himself":"Herself":l?"Him":"Her",p=l?"He":"She";return r.replaceAll("%NAME%",CharacterNickname(Player)).replaceAll("%POSSESSIVE%",s.toLocaleLowerCase()).replaceAll("%PRONOUN%",o.toLocaleLowerCase()).replaceAll("%INTENSIVE%",a.toLocaleLowerCase()).replaceAll("%CAP_POSSESSIVE%",s).replaceAll("%CAP_PRONOUN%",o).replaceAll("%CAP_INTENSIVE%",a).replaceAll("%OPP_NAME%",c).replaceAll("%OPP_PRONOUN%",p.toLocaleLowerCase()).replaceAll("%OPP_POSSESSIVE%",u.toLocaleLowerCase()).replaceAll("%OPP_INTENSIVE%",d.toLocaleLowerCase()).replaceAll("%CAP_OPP_PRONOUN%",p).replaceAll("%CAP_OPP_POSSESSIVE%",u).replaceAll("%CAP_OPP_INTENSIVE%",d)}const hn=(e,t,n=!1)=>{if(0===t)return;if(n&&(t*=100),t=Number(t.toPrecision(2)),void 0===Player.ABCL.Settings.StatusMessages[e])return;if(!Player.ABCL.Settings.StatusMessages[e])return;const r=Player.ABCL.Settings.StatusMessages[e],i=`[${t>0?"+":"-"}${Math.abs(t)}${n?"%":""} ${{Bladder:"PEE",Bowel:"POO",Incontinence:"INCON",MentalRegression:"REG",Soiliness:"MESS",Wetness:"WET",PuddleSize:"PUDL"}[e]}]`;r?Zt(i,["ChatMessageAction","ChatMessageNonDialogue"],"--label-color:#ff4949"):gp("onABCLMessage",{message:`${un(Player.MemberNumber)}: ${i}`,local:r})};function mn(e,t=null,n,r){let i=pn(e,t);const s=!Player.ABCL.Settings.VisibleMessages[n];Zt(i,["ChatMessageAction","ChatMessageNonDialogue"],"--label-color:#ff4949",s),s?r&&r.MemberNumber!==Player.MemberNumber&&gp("onABCLMessage",{message:i,local:s},r.MemberNumber):gp("onABCLMessage",{message:i,local:s})}class fn{constructor(){this.name=""}Run(){ChatRoomRun(CommonTime())}Click(){}Load(){}Unload(){}Resize(){}KeyDown(){}Exit(){}End(e){CommonSetScreen("Online","ChatRoom"),MiniGameVictory=e,MiniGameEnded=!0,MiniGameTimer=CommonTime(),CommonCallFunctionByName(MiniGameReturnFunction)}}function gn(e){if(Player.ABCL.Stats.MinigameStatistics.Mess.Total++,e??MiniGameVictory)return Mn.stats.Incontinence-=er(Mn.stats.Incontinence)/2,void Zt("You managed to keep it together!");Mn.soil(),Mn.onAccident(),On.resetAllowedCallInterval()}function yn(e){if(Player.ABCL.Stats.MinigameStatistics.Wet.Total++,On.resetAllowedCallInterval(),e??MiniGameVictory)return Mn.stats.Incontinence-=er(Mn.stats.Incontinence)/2,Zt("You managed to hold it in!"),Player.ABCL.Settings.ExpressionsByActivities&&CharacterSetFacialExpression(Player,"Mouth","Happy",20),void Player.ABCL.Stats.MinigameStatistics.Wet.Success++;Player.ABCL.Settings.ExpressionsByActivities&&(CharacterSetFacialExpression(Player,"Blush","Low",10),CharacterSetFacialExpression(Player,"Eyes","Surprised",9)),Mn.wet(),Mn.onAccident()}window.WetMinigameResult=yn,window.MessMinigameResult=gn;const vn={Wetting:{good:[{text:"🖍️ Painting with Crayons"},{text:"🧱 Building with Blocks"},{text:"👶 Shaking a Rattle"},{text:"🎵 Listening to Calming Music"},{text:"💭 Reciting the Alphabet Backwards"},{text:"📚 Reading a Boring Book"},{text:"🧩 Doing a Simple Puzzle"},{text:"🎨 Coloring in a Coloring Book"},{text:"📝 Writing Your Name Repeatedly"},{text:"🪨 Stacking Small Stones"},{text:"🧵 Threading Beads on a String"},{text:"🃏 Organizing Playing Cards"},{text:"🌀 Drawing Spirals on Paper"},{text:"🖼️ Studying a Detailed Picture"},{text:"🔍 Looking for Hidden Objects"},{text:"🗂️ Sorting Paper Clips by Color"},{text:"📋 Making a Mental To-Do List"}],bad:[{text:"🥤 A Delicious Smoothie"},{text:"🤸 Jumping on a Trampoline"},{text:"😴 Taking a Nap"},{text:"🚿 Listening to Running Water"},{text:"☕ Drinking a Large Coffee"},{text:"💦 Sipping Iced Water"},{text:"🏃 Doing Jumping Jacks"},{text:"🛁 Sitting in a Warm Bath"},{text:"🥛 Drinking a Glass of Milk"},{text:"🤣 Watching a Comedy Show"},{text:"🌊 Ocean Sounds Meditation"},{text:"🍉 Eating Watermelon"},{text:"🧘 Doing Deep Squats"},{text:"🫖 Pouring Liquid Between Cups"},{text:"🚰 Drinking Through a Straw"},{text:"🍺 Holding a Cold Beer Can"},{text:"🎢 Thinking of Rollercoasters"},{text:"❄️ Applying Cold Compress"},{text:"🪑 Sitting on a Vibrating Chair"}]},Messes:{good:[{text:"🧘 Sitting Very Still and Straight"},{text:"😮‍💨 Taking Slow, Shallow Breaths"},{text:"💭 Counting Backwards from 100"},{text:"📵 Ignoring Your Phone"},{text:"👃 Focusing on a Neutral Smell"},{text:"🤐 Tightly Clenching Your Lips"},{text:"🛌 Visualizing a Firm, Flat Surface"},{text:"🎵 Listening to Loud, Upbeat Music"},{text:"📚 Reading an Intense Thriller Novel"},{text:"✊ Squeezing a Stress Ball (with your hand)"},{text:"🧮 Mentally Calculating Math Problems"},{text:"👂 Tuning Into a Single Distant Sound"},{text:"🚫 Thinking 'No' on Repeat"},{text:"🪑 Pressing Your Feet Firmly into the Floor"},{text:"🛑 Visualizing a Big Red Stop Sign"},{text:"🤞 Crossing Your Fingers and Toes"},{text:"💡 Imagining a Bright, Dry Light"}],bad:[{text:"☕ Drinking a Hot Morning Coffee"},{text:"🚰 Chugging a Glass of Water"},{text:"🍳 Eating a Big Breakfast"},{text:"🤣 Laughing Uncontrollably"},{text:"🤧 Feeling a Sneeze Coming On"},{text:"🪑 Sitting in a Warm, Comfy Armchair"},{text:"🧘 Bending Over to Touch Your Toes"},{text:"🍎 Eating a Fiber-Rich Cereal Bar"},{text:"🫖 Sipping on Prune Juice"},{text:"🤰 Wearing Tight Pants Around Your Waist"},{text:"🛌 Lying Down on Your Side"},{text:"🍽️ Smelling a Delicious Meal Cooking"},{text:"🏃‍♂️ Jogging in Place"},{text:"🌶️ Eating a Spicy Bite of Food"},{text:"🧊 Drinking Iced Water Quickly"},{text:"📖 Reading on the Toilet 'Just in Case'"},{text:"🪕 Listening to Smooth, Relaxing Jazz"},{text:"🤰 Applying Gentle Stomach Pressure"}]}};class bn extends fn{constructor(e){super(),this.correctAnswers=0,this.mistakes=0,this.rounds=5,this.Element=null,this.timeLeft=0,this.timer=null,this.type=e,this.name="DistractionRush-"+e,this.options=vn[e]}Load(){On.pause(),this.Element=ElementCreate({tag:"div",attributes:{id:"abcl-minigame"},classList:["game-container","minigame-loading"],children:[{tag:"h1",children:[`Oh no! The ${"Wetting"===this.type?"stream":"mess"} is coming soon!`]},{tag:"p",children:[document.createTextNode("Find a way to distract yourself before it's too late.")]},{tag:"div",attributes:{id:"abcl-minigame-status"},classList:["status-bar"],children:[]},{tag:"div",attributes:{id:"abcl-minigame-container"},classList:["abcl-minigame-vertical-list"],children:[]},ElementButton.Create(null,(()=>{this.End(!1)}),{tooltip:"Choose to "+("Wetting"===this.type?"wet":"mess")+" yourself.",tooltipPosition:"bottom"},{button:{classList:["abcl-distraction-rush-button","abcl-distraction-rush-button-forfeit"],children:["Forfeit"]}}),ElementCreate({tag:"div",attributes:{id:"abcl-minigame-timer"},children:["00"]})],parent:sn}),this.correctAnswers=0,this.mistakes=0,this.renderGame(),this.timeLeft=bn.timerLength/MiniGameDifficulty,this.timer=setInterval((()=>{this.timeLeft--;const e=document.getElementById("abcl-minigame-timer");!e||this.timeLeft<0||(e.innerHTML=this.timeLeft<10?"0"+this.timeLeft:this.timeLeft.toString(),this.timeLeft<=0&&this.correctAnswers<5&&this.ShowMessage(!1))}),1e3)}Unload(){ElementRemove(this.Element),clearInterval(this.timer)}renderGame(){return this.correctAnswers>=5?this.ShowMessage(!0):this.mistakes>=2?this.ShowMessage(!1):(this.updateStatus(),void this.renderOptions())}updateStatus(){const e=document.getElementById("abcl-minigame-status");e&&(e.innerHTML=`\n                <span>✅ Wins: ${this.correctAnswers} / 5</span>\n                <span>❌ Mistakes: ${this.mistakes} / 2</span>\n            `)}CreateOption(e,t){const n=["Hmm.. is that the right one?","I'm not sure..","Maybe you should press forfeit?","It's too hard.","Hmm yea this is probably correct.","The pressure is too much!","You probably can't read anymore... You are just looking at the icons"];return ElementButton.Create(null,(()=>{t?this.correctAnswers++:this.mistakes++,this.renderGame()}),{tooltip:n[Math.floor(Math.random()*n.length)],tooltipPosition:"bottom"},{button:{classList:["abcl-distraction-rush-button"],dataAttributes:{isGood:t},children:[e]}})}renderOptions(){const e=document.getElementById("abcl-minigame-container");if(!e)return;e.innerHTML="";const t=Math.floor(Math.random()*this.options.good.length),n={...this.options.good[t],isGood:!0},r=[];for(let e=0;e<Math.max(Math.round(2*MiniGameDifficulty),1);e++){const e={...this.options.bad[Math.floor(Math.random()*this.options.bad.length)],isGood:!1};r.push(e)}const i=function(e){for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return e}([n,...r]);i.forEach((t=>{const n=this.CreateOption(t.text,t.isGood);e.appendChild(n)}))}ShowMessage(e){const t=document.getElementById("abcl-minigame-container"),n=document.getElementById("abcl-minigame-status");clearInterval(this.timer),t.innerHTML="",n.innerHTML="",ElementCreate({tag:"div",classList:["abcl-minigame-horizontal-list"],children:[{tag:"h2",children:[document.createTextNode("Result (closes in 15 seconds)")]},{tag:"p",children:[document.createTextNode(e?"SUCCESS! You held it! The distractions worked. What a relief!":"FAILURE! The pressure was too great.")]},ElementButton.Create(null,(()=>{this.End(e)}),null,{button:{classList:["abcl-distraction-rush-button"],children:["OK"]}})],parent:n}),setTimeout((()=>{MiniGameEnded||this.End(e)}),15e3)}End(e){super.End(e)}}bn.timerLength=120,Ut.hookFunction("TextLoad",5,((e,t)=>"WetMinigame"===CurrentScreen||"MessMinigame"===CurrentScreen||"DistractionRush-Wetting"===CurrentScreen||"DistractionRush-Messes"===CurrentScreen?void 0:t(e)));function _n(e){var t=e.name;window[t+"Run"]=()=>e.Run(),window[t+"Click"]=()=>e.Click(),window[t+"Load"]=()=>e.Load(),window[t+"Unload"]=()=>e.Unload(),window[t+"Resize"]=()=>e.Resize(),window[t+"KeyDown"]=()=>e.KeyDown(),window[t+"Exit"]=()=>e.Exit(),window[t+"End"]=t=>e.End(t)}class An extends fn{constructor(){super(...arguments),this.startText="",this.hintText="",this.failText="",this.successText="",this.GameStartTime=0,this.GameEndTime=0,this.StartDelay=4e3,this.AccidentVelocity=0,this.AccidentPosition=0,this.AccidentAcceleration=0,this.AccidentMaxPosition=100,this.AccidentGameDuration=5e3,this.AccidentNextTick=0,this.AccidentText="",this.AccidentChallenge=0,this.BaseGameLength=6e3}End(e){CommonSetScreen("Online","ChatRoom"),MiniGameVictory=e,MiniGameEnded=!0,MiniGameTimer=CommonTime(),this.GameEndTime=MiniGameTimer}get IsStartDelay(){return CommonTime()<this.GameStartTime}Load(){if(DrawFlashScreen("#000000",750,1e3),this.GameStartTime=CommonTime()+this.StartDelay,this.AccidentVelocity=0,this.AccidentAcceleration=0,"number"!=typeof MiniGameDifficulty)MiniGameTimer=CommonTime()+this.BaseGameLength,this.AccidentChallenge=5;else{var e=.25*(MiniGameDifficulty-8);this.AccidentGameDuration=this.BaseGameLength+1e3*e,MiniGameTimer=this.GameStartTime+this.AccidentGameDuration,this.AccidentChallenge=MiniGameDifficulty}this.AccidentMaxPosition=400,this.AccidentPosition=this.AccidentMaxPosition,console.info("Accident minigame started: difficulty - "+this.AccidentChallenge+" time - "+this.AccidentGameDuration),Player.ABCL.Settings.ExpressionsByActivities&&(CharacterSetFacialExpression(Player,"Eyes","Daydream",10),this.AccidentChallenge>25?CharacterSetFacialExpression(Player,"Blush","ShortBreath",10):CharacterSetFacialExpression(Player,"Blush","Low",10))}get IsGameActive(){return CommonTime()<MiniGameTimer&&!MiniGameEnded&&!this.GameFailed}get IsGameTimeout(){return CommonTime()>=MiniGameTimer&&!MiniGameEnded}get GameFailed(){return this.AccidentPosition<=0}RunGame(e){var t=(this.AccidentGameDuration+CommonTime()-MiniGameTimer)/1e3;CommonTime()>this.AccidentNextTick&&(this.AccidentNextTick=CommonTime()+400,this.AccidentAcceleration=-1.25*this.AccidentChallenge-t*Math.random()),this.AccidentVelocity=Math.min(this.AccidentVelocity,this.AccidentVelocity+.25*this.AccidentAcceleration),this.AccidentPosition>=this.AccidentMaxPosition&&(this.AccidentVelocity=Math.min(0,this.AccidentVelocity)),this.AccidentPosition>0&&(this.AccidentPosition+=this.AccidentVelocity/1e3*e*3.5),this.AccidentPosition=Math.max(0,Math.min(this.AccidentPosition,this.AccidentMaxPosition)),DrawProgressBar(500-this.AccidentMaxPosition,800,2*this.AccidentMaxPosition,50,this.AccidentPosition/this.AccidentMaxPosition*100),DrawText(this.hintText,500,875,"white","black")}Run(){ChatRoomRun(CommonTime()),this.IsStartDelay?DrawText(this.startText,500,500,"white","black"):this.IsGameActive?this.RunGame(TimerRunInterval):!this.IsGameTimeout&&!this.GameFailed||MiniGameEnded||(this.End(this.AccidentPosition>0),MiniGameEnd())}Click(){var e;this.IsGameActive&&(this.AccidentVelocity=Math.max(this.AccidentVelocity+(e=11,Math.floor(Math.random()*e)+5),20))}}class Cn extends An{constructor(){super(...arguments),this.startText="A sudden pressure builds within you...",this.hintText="Click to maintain control. Keep it together!",this.failText="Oops! You've had an accident!",this.successText="Crisis averted! You stayed composed!",this.name="MessMinigame"}End(e){super.End(e),gn()}}class Sn extends An{constructor(){super(...arguments),this.startText="You feel a trickle starting...",this.hintText="Click to squeeze tight. Don't let it get away!",this.failText="Oh no! You lost control!",this.successText="You held it in! Phew!",this.name="WetMinigame"}End(e){super.End(e),yn()}}const Pn="2.3.0",En="ABCL",Ln={PREVENT_TAKING_ABDL_ITEMS_OFF:1e3,PREVENT_USING_ADMIN_POWERS:1001,PREVENT_RESISTING_URGES:1002,ABDL_INVENTORY:1003,SPEAK_LIKE_BABY:1004,WALK_LIKE_BABY:1005,CANT_GO_SHOP_ALONE:1006,FALL_SLEEP_AFTER_MILK_BOTTLE:1007,DECREASE_SIZE:1008,DISABLE_RESET_SETTINGS_BUTTON:1009},wn=async e=>{if(CharacterRefresh(Player,!0),!e)return ChatRoomCharacterUpdate(Player);ChatRoomCharacterItemUpdate(Player,e)},In=function(e,t){const n=[];let r=!1;const i=e=>new Promise((t=>setTimeout(t,e)));return function(...s){n.push(s),async function(){if(!r){for(r=!0;n.length>0;){const r=n.shift();await e(...r),await i(t)}r=!1}}()}}(wn,1e3),kn=new Qt(72e5),Nn=new Qt(72e5),Dn=new Qt(3e5),Mn={onAccident:()=>{Mn.stats.MentalRegression+=tr()},update:()=>{Player.ABCL.Settings.PauseStats||(kn.allowedCallInterval=12e4/Math.max(.1,l[Player.ABCL.Settings.PoopMetabolism]),Nn.allowedCallInterval=12e4/Math.max(.1,l[Player.ABCL.Settings.PeeMetabolism]),Dn.check()&&(Mn.stats.MentalRegression+=Qn()),Nn.check()&&"Disabled"!==Player.ABCL.Settings.PeeMetabolism&&(Mn.stats.BladderValue+=Mn.stats.WaterIntake*l[Player.ABCL.Settings.PeeMetabolism],Mn.attemptWetting()),kn.check()&&"Disabled"!==Player.ABCL.Settings.PoopMetabolism&&(Mn.stats.BowelValue+=Mn.stats.FoodIntake*l[Player.ABCL.Settings.PoopMetabolism],Mn.attemptSoiling()),Bn.save())},wetClothing:()=>{if(Player.ABCL.Settings.DisableWettingLeaks)return void(Mn.stats.BladderValue=0);if(Zt("You've had a wet accident in your clothes!"),Mn.stats.PuddleSize+=Mn.stats.BladderValue,Mn.stats.BladderValue=0,Gn()?mn("%NAME%'s diaper leaks and wet %POSSESSIVE% clothes causing a puddle to form.",void 0,"wetClothing"):mn("%NAME%'s wets %POSSESSIVE% clothes and leaks onto the floor.",void 0,"wetClothing"),yp(),Player.ABCL.Settings.DisableClothingStains)return;const e="#96936C",n=InventoryGet(Player,"Panties");if(n&&!$n(n)){const t=tn(n.Color||n.Asset.DefaultColor,n.Asset);for(let n=0;n<t.length;n++)en(t[n])&&(t[n]=zn(t[n],e,.3));n.Color=t}for(const n of Player.Appearance)if(t.ItemDefinitions.Pants.some((e=>e===n.Asset.DynamicGroupName+n.Asset.Name))){const t=tn(n.Color||n.Asset.DefaultColor,n.Asset);for(let n=0;n<t.length;n++)en(t[n])&&(t[n]=zn(t[n],e,.3));n.Color=t}In()},soilClothing:()=>{if(Mn.stats.BowelValue=0,Player.ABCL.Settings.DisableSoilingLeaks)return;if(Gn()?mn("%NAME%'s diaper leaks and soils %POSSESSIVE% clothes.",void 0,"soilClothing"):mn("%NAME% soils %POSSESSIVE% clothes.",void 0,"soilClothing"),yp(),Player.ABCL.Settings.DisableClothingStains)return;const e="#261a16",n=InventoryGet(Player,"Panties");if(n&&!$n(n)){const t=tn(n.Color||n.Asset.DefaultColor,n.Asset);for(let n=0;n<t.length;n++)en(t[n])&&(t[n]=zn(t[n],e,.3));n.Color=t}for(const n of Player.Appearance)if(t.ItemDefinitions.Pants.some((e=>e===n.Asset.DynamicGroupName+n.Asset.Name))){const t=tn(n.Color||n.Asset.DefaultColor,n.Asset);for(let n=0;n<t.length;n++)en(t[n])&&(t[n]=zn(t[n],e,.3));n.Color=t}In()},wetDiaper:()=>{const e=qn(),t=Math.min(Mn.stats.BladderValue,Math.max(0,e-Mn.stats.WetnessValue));mn("%NAME% wets %POSSESSIVE% diaper.",void 0,"wetDiaper"),Mn.stats.BladderValue-=t,Mn.stats.WetnessValue+=t,Mn.stats.WetnessValue>=e&&Mn.wetClothing()},soilDiaper:()=>{const e=qn(),t=Math.min(Mn.stats.BowelValue,Math.max(0,e-Mn.stats.SoilinessValue));mn("%NAME% soils %POSSESSIVE% diaper.",void 0,"soilDiaper"),Mn.stats.BowelValue-=t,Mn.stats.SoilinessValue+=t,Mn.stats.SoilinessValue>=e&&Mn.soilClothing()},attemptWetting:()=>{const e=Zn(Mn.stats.Incontinence),t=Kn(Mn.stats.Incontinence,Mn.stats.BladderFullness);if((Math.random()<t||Mn.stats.BladderFullness>e)&&On.check())return window?.LITTLISH_CLUB?.isRuleActive?.(Player,Ln.PREVENT_RESISTING_URGES)?(new Sn).End(!1):dn()?yn(!1):void MiniGameStart("DistractionRush-Wetting",1+t,"WetMinigameResult")},attemptSoiling:()=>{const e=Zn(Mn.stats.Incontinence),t=Kn(Mn.stats.Incontinence,Mn.stats.BowelFullness);if((Math.random()<t||Mn.stats.BowelFullness>e)&&On.check())return window?.LITTLISH_CLUB?.isRuleActive?.(Player,Ln.PREVENT_RESISTING_URGES)?(new Cn).End(!1):dn()?gn(!1):void MiniGameStart("DistractionRush-Messes",1+t,"MessMinigameResult")},wet:(e=!1)=>{const t=.3*Mn.stats.Incontinence,n=Mn.stats.BladderFullness<.3-t,r=!n,i=Mn.stats.BladderFullness>.6-t;n&&e?Zt("You try to pee, but it doesn't seem to be working."):(r&&(Gn()?Mn.wetDiaper():Mn.wetClothing()),i&&e?Mn.stats.Incontinence-=er(Mn.stats.Incontinence):Mn.stats.Incontinence+=er(Mn.stats.Incontinence))},soil:(e=!1)=>{const t=.3*Mn.stats.Incontinence,n=Mn.stats.BowelFullness<.3-t,r=!n,i=Mn.stats.BowelFullness>.6-t;n&&e?Zt("You try to let go, but nothing seems to happen."):(r&&(Gn()?Mn.soilDiaper():Mn.soilClothing()),i&&e?Mn.stats.Incontinence-=.01:Mn.stats.Incontinence+=.02)},stats:{set PuddleSize(e){e<0&&(e=0),e>250&&(e=250);const t=e-Player.ABCL.Stats.PuddleSize.value;hn("PuddleSize",t),Player.ABCL.Stats.PuddleSize.value=e},get PuddleSize(){return Player.ABCL.Stats.PuddleSize.value},get MentalRegressionModifier(){return l[Player.ABCL.Settings.MentalRegressionModifier]},set MentalRegression(e){e<0&&(e=0),e>1&&(e=1);const t=e-Player.ABCL.Stats.MentalRegression.value;hn("MentalRegression",t,!0),Player.ABCL.Stats.MentalRegression.value=e,rn.update()},get MentalRegression(){return Player.ABCL.Stats.MentalRegression.value},set Incontinence(e){e<0&&(e=0),e>1&&(e=1);const t=e-Player.ABCL.Stats.Incontinence.value;hn("Incontinence",t,!0),Player.ABCL.Stats.Incontinence.value=e,rn.update()},get Incontinence(){return Player.ABCL.Stats.Incontinence.value},set WaterIntake(e){e<0&&(e=0),Player.ABCL.Stats.WaterIntake.value=e},get WaterIntake(){return Player.ABCL.Stats.WaterIntake.value},set FoodIntake(e){e<0&&(e=0),Player.ABCL.Stats.FoodIntake.value=e},get FoodIntake(){return Player.ABCL.Stats.FoodIntake.value},set BladderValue(e){e<0&&(e=0);const t=e/this.BladderSize-this.BladderFullness;hn("Bladder",t,!0),Player.ABCL.Stats.Bladder.value=e,rn.update()},get BladderValue(){return Player.ABCL.Stats.Bladder.value},set BladderSize(e){e<0&&(e=0),Player.ABCL.Stats.Bladder.size=e,rn.update()},get BladderSize(){return Player.ABCL.Stats.Bladder.size},set WetnessValue(e){if(e<0&&(e=0),e>qn()){const t=e-qn();e-=t,this.PuddleSize+=t}const t=e/qn()-this.WetnessPercentage;hn("Wetness",t,!0),Player.ABCL.Stats.Wetness.value=e,Wn(),rn.update()},get WetnessValue(){return Player.ABCL.Stats.Wetness.value},set BladderFullness(e){e<0&&(e=0),this.BladderValue=e*this.BladderSize,rn.update()},get BladderFullness(){return this.BladderValue/this.BladderSize},set BowelValue(e){e<0&&(e=0),e>this.BowelSize&&(e=this.BowelSize);const t=e/this.BowelSize-this.BowelFullness;hn("Bowel",t,!0),Player.ABCL.Stats.Bowel.value=e,rn.update()},get BowelValue(){return Player.ABCL.Stats.Bowel.value},set BowelSize(e){e<0&&(e=0),Player.ABCL.Stats.Bowel.size=e,rn.update()},get BowelSize(){return Player.ABCL.Stats.Bowel.size},set SoilinessValue(e){e<0&&(e=0);const t=e/qn()-this.SoilinessPercentage;hn("Soiliness",t,!0),Player.ABCL.Stats.Soiliness.value=e,Wn(),rn.update()},get SoilinessValue(){return Player.ABCL.Stats.Soiliness.value},set BowelFullness(e){e<0&&(e=0),this.BowelValue=e*this.BowelSize,rn.update()},get BowelFullness(){return this.BowelValue/this.BowelSize},get SoilinessPercentage(){return 0==qn()?0:this.SoilinessValue/qn()},set SoilinessPercentage(e){e<0&&(e=0),this.SoilinessValue=e*qn()},get WetnessPercentage(){return 0==qn()?0:this.WetnessValue/qn()},set WetnessPercentage(e){e<0&&(e=0),this.WetnessValue=e*qn()}}},Bn=new class{constructor(e){this.lastSaveTime=0,this.allowedSaveInterval=e}save(){Date.now()-this.lastSaveTime>this.allowedSaveInterval&&(Bt(),this.lastSaveTime=Date.now())}}(12e4),On=new Qt(12e4);window.abclPlayer=Mn;const Rn=(e=Player)=>!window?.LITTLISH_CLUB||null!==window.LITTLISH_CLUB.getMommyOf(e)||window.LITTLISH_CLUB.getCaregiversOf(e).length>0,xn=(e="any",t=Player)=>{if(!cn(t))return!1;const n=qn(t),r=t.ABCL.Stats.PuddleSize.value>0||Gn(t)&&t.ABCL.Stats.Wetness.value>=n,i=Gn(t)&&t.ABCL.Stats.Soiliness.value>=n;return"pee"===e?r:"poop"===e?i:r||i},Tn=()=>{const e=qn();return Mn.stats.SoilinessValue+Mn.stats.WetnessValue>=e/2},$n=e=>!!e&&e.Asset.DynamicGroupName+e.Asset.Name in t.Diapers;function Gn(e=Player){if(!e)return!1;const t=InventoryGet(e,"ItemPelvis"),n=InventoryGet(e,"Panties"),r=InventoryGet(e,"Panties_笨笨蛋Luzi");return Boolean(t&&$n(t)||n&&$n(n)||r&&$n(r))}const Fn=()=>Player.Appearance.some((e=>t.ItemDefinitions.BabyItems.includes(e.Asset.DynamicGroupName+e.Asset.Name)));function zn(e,t,n=.5){let r=DrawHexToRGB(e),i=DrawHexToRGB(t),s={r:Math.round(r.r*n+i.r*(1-n)),g:Math.round(r.g*n+i.g*(1-n)),b:Math.round(r.b*n+i.b*(1-n))};return DrawRGBToHex([s.r,s.g,s.b])}function jn(e,t,n,r){return e>.75?e>.9?t:zn(t,n,e-.75):zn(n,r,e)}const Vn=(e=Player)=>{const t=InventoryGet(e,"ItemPelvis");if(!t||!$n(t))return!1;const n=t.Property?.LockedBy;return!!n&&!DialogCanUnlock(e,t)},Un=(e,t)=>t.Layer.findIndex((t=>t.ColorIndex===e)),Hn=(e,n,r=Player)=>{if(Player.ABCL.Settings.DisableDiaperStains)return;const i=InventoryGet(r,e);if(i&&$n(i)){const e=i.Color&&"string"!=typeof i.Color?[...i.Color]:[...i.Asset.DefaultColor],r=t.Diapers[i.Asset.DynamicGroupName+i.Asset.Name],s=Math.min(Mn.stats.SoilinessValue+Mn.stats.WetnessValue/qn(),1);if("indicator"in r)for(const n of r.indicator)e[n]=zn(t.DiaperColors.indicatorAccident,i.Asset.DefaultColor[n],s);if("gradients"in r)for(const t of r.gradients){i.Property??={},"number"==typeof i.Property.Opacity&&(i.Property.Opacity=void 0);const r=Un(t,i.Asset);i.Property.Opacity??=i.Asset.Layer.map((e=>e.Opacity)),i.Property.Opacity[r]=s,e[t]=n}i.Color=e}In(e)},Wn=()=>{const e=Mn.stats.SoilinessValue/qn(),n=Mn.stats.WetnessValue/qn(),r=zn(jn(e,t.DiaperColors.maximummess,t.DiaperColors.middlemess,t.DiaperColors.clean),jn(n,t.DiaperColors.maximumwet,t.DiaperColors.middlewet,t.DiaperColors.clean),Math.max(Math.min((e+(1-n))/2,2),0));Hn("ItemPelvis",r,Player),Hn("Panties",r,Player),Hn("Panties_笨笨蛋Luzi",r,Player)};function qn(e=Player){const t=InventoryGet(e,"ItemPelvis"),n=InventoryGet(e,"Panties"),r=InventoryGet(e,"Panties_笨笨蛋Luzi");let i=50;return t&&$n(t)&&(i+=Xn(t)),n&&$n(n)&&(i+=Xn(n)),r&&$n(r)&&(i+=Xn(r)),i}function Xn(e){return"PoofyDiaper"===e.Asset.Name&&1===e.Property?.TypeRecord?.typed?t.DiaperSizeScale.heavy_adult:t.DiaperSizeScale[t.Diapers[e.Asset.DynamicGroupName+e.Asset.Name].size]}const Yn=()=>{const e=InventoryGet(Player,"ItemPelvis"),t=InventoryGet(Player,"Panties"),n=InventoryGet(player,"Panties_笨笨蛋Luzi");let r={ItemPelvis:null,Panties:null,"Panties_笨笨蛋Luzi":null};return e&&$n(e)&&(r.ItemPelvis=e),t&&$n(t)&&(r.Panties=t),n&&$n(n)&&(r["Panties_笨笨蛋Luzi"]=n),r},Zn=e=>.9-.5*e;function Kn(e,t){const n=.6*Math.pow(e,2)+.8*Math.pow(t,3);return Math.min(Math.max(n,0),1)}const Jn=()=>{const e=Player.Appearance.filter((e=>e.Asset.DynamicGroupName+e.Asset.Name in t.ItemDefinitions.BabyItems));return Math.min(.25*e.length,1)},Qn=()=>{let e=Jn();Fn()&&(e+=1),Tn()&&(e+=1),xn()&&(e+=1);const t=e/4,n=.0025,r=Mn.stats.MentalRegression;return Mn.stats.MentalRegression<t?Math.round(n*e*(1+r/3)*5*Mn.stats.MentalRegressionModifier*100)/100:Math.round(-n/Math.max(1,e)/(1+r)*3*5*Mn.stats.MentalRegressionModifier*100)/100},er=e=>{const t=[{increase:.01,start:0,end:.25},{increase:.005,start:.25,end:.5},{increase:.0025,start:.5,end:.75},{increase:.001,start:.75,end:1}];for(const{increase:n,start:r,end:i}of t)if(e>=r&&e<i)return n;return 0},tr=()=>{const e=1+Jn()*Mn.stats.MentalRegressionModifier;return Mn.stats.MentalRegression<.25||.25>Mn.stats.MentalRegression&&Mn.stats.MentalRegression<.5&&Tn()?e/500:.5>Mn.stats.MentalRegression&&Mn.stats.MentalRegression<.75&&xn()?e/1e3:.75>Mn.stats.MentalRegression&&Mn.stats.MentalRegression<1&&xn()?e/1500:0},nr=e=>{if(!Gn(e))return"";const t=qn(e),n=e.ABCL.Stats.Soiliness.value/t>.5,r=e.ABCL.Stats.Wetness.value/t>.5,i=e.ABCL.Stats.Wetness.value/t>.8,s=e.ABCL.Stats.Soiliness.value/t>.8;return i&&s?"soggy and stinky":s?"stinky":i?"soggy":r?"wet":n?"messy":"dry"},rr=(e,t)=>{if(e.MemberNumber!==Player.MemberNumber)return gp("changeDiaper-pending",{force:t},e.MemberNumber);ir(e)},ir=e=>{mn(pn(e.MemberNumber===Player.MemberNumber?"%NAME% changes %POSSESSIVE% diaper.":"%OPP_NAME% changes %NAME%'s diaper.",e),void 0,"changeDiaper",e),Mn.stats.WetnessValue=0,Mn.stats.SoilinessValue=0,Wn()},sr={activity:{ID:"change-diaper",Name:"Change Diaper",Image:"https://zoe-64.github.io/ABCL/versions/2.3.4/assets/activity/changeDiaper.svg",Target:["ItemPelvis"],OnClick:(e,t)=>rr(e),Criteria:e=>Gn(e)&&cn(e)&&!Player.IsRestrained()&&!Vn(e)},command:{Tag:"change-diaper",Action:(e,t,n)=>{const r=ln(n)??Player;if(!sr.activity.Criteria(r))return Zt("Is either not diapered or not an ABCL player or you are restrained or diaper is locked.");rr(r)},Description:" [MemberNumber|Name|Nickname]: Changes someone's diaper."},listeners:{"changeDiaper-accepted":({Sender:e})=>ToastManager.info(`${un(e)} accepted your change diaper request.`),"changeDiaper-rejected":({Sender:e})=>ToastManager.info(`${un(e)} rejected your change diaper request.`),"changeDiaper-pending":({Sender:e},{force:t})=>{if(t)return ir(on(e)??Player);switch(Player.ABCL.Settings.OnDiaperChange){case a:ToastManager.custom(`${un(e)} wants to change your diaper.`,"info",{duration:1e4,onClose:(t,n)=>{"click"===n&&t.setAttribute("aria-checked","true"),"true"!==t.getAttribute("aria-checked")&&gp("changeDiaper-rejected",void 0,e)},buttons:[{label:"Yes",onClick:(t,n)=>{ir(on(e)??Player),gp("changeDiaper-accepted",void 0,e),n?._dismiss?.("click")}},{label:"No",onClick:(t,n)=>{gp("changeDiaper-rejected",void 0,e),n?._dismiss?.("click")}}]});break;case o:ir(on(e)??Player),gp("changeDiaper-accepted",void 0,e);break;case s:gp("changeDiaper-rejected",void 0,e)}}}},ar=e=>{const t=e.MemberNumber===Player.MemberNumber;if(rn.setMemberNumber(e.MemberNumber),nn(document.body,"#ABCL-stats").classList.remove("ABCL-hidden"),setTimeout((()=>{an()}),250),!(Math.random()<.75))return Gn(e)?mn(pn(t?"%NAME% checks %POSSESSIVE% diaper.":"%NAME% checks %OPP_NAME%'s diaper.",e),void 0,"checkDiaper",e):mn(pn(t?"%NAME% checks %POSSESSIVE% clothes for any accidents.":"%NAME% checks %OPP_NAME%'s clothes for any accidents.",e),void 0,"checkDiaper",e)},or={activity:{ID:"check-diaper",Name:"Check Diaper",Image:"https://zoe-64.github.io/ABCL/versions/2.3.4/assets/activity/diaperCheck.png",OnClick:(e,t)=>ar(e),Target:["ItemPelvis"],Criteria:e=>cn(e)&&!Player.IsRestrained()},command:{Tag:"check-diaper",Description:" [MemberNumber|Name|Nickname]: Checks someone's diaper.",Action:(e,t,n)=>{const r=ln(n)??Player;if(!or.activity.Criteria(r))return Zt("Is not an ABCL player or you are restrained.");ar(r)}}},lr=e=>{mn(pn("%OPP_NAME% rubs %OPP_POSSESSIVE% diaper against %NAME%'s face.",e),void 0,"playerActivity",e),ActivityEffectFlat(e,Player,8,"ItemVulva",1),Player.ABCL.Settings.ExpressionsByActivities&&(CharacterSetFacialExpression(Player,"Blush","Medium",5),CharacterSetFacialExpression(Player,"Eyebrows","Soft",10),CharacterSetFacialExpression(Player,"Eyes","Dizzy",10)),Mn.stats.MentalRegression+=.02*Mn.stats.MentalRegressionModifier},cr={activity:{ID:"diaper-face-rub",Name:"Rub Diaper Against Face",Image:"https://zoe-64.github.io/ABCL/versions/2.3.4/assets/activity/diaperFaceRub.png",Target:["ItemNose"],OnClick:(e,t)=>(e=>{if(e.MemberNumber!==Player.MemberNumber)return ActivityEffectFlat(Player,Player,12,"ItemVulva",1),gp("diaper-face-rub",void 0,e.MemberNumber);lr(e)})(e),Criteria:e=>Gn(Player)&&cn(e)&&!Player.IsRestrained()&&e.MemberNumber!==Player.MemberNumber},listeners:{"diaper-face-rub":({Sender:e})=>lr(on(e)??Player)}},ur=e=>{mn(pn("%OPP_NAME% sits with %OPP_POSSESSIVE% diapered butt on %NAME%'s face.",e),void 0,"playerActivity",e),Mn.stats.MentalRegression+=.03*Mn.stats.MentalRegressionModifier,ActivityEffectFlat(Player,Player,8,"ItemNose",1),Player.ABCL.Settings.ExpressionsByActivities&&(CharacterSetFacialExpression(Player,"Blush","ShortBreath",30),CharacterSetFacialExpression(Player,"Eyebrows","Soft",30),CharacterSetFacialExpression(Player,"Eyes","Dizzy",30))},dr={activity:{ID:"diaper-face-sit",Name:"Sits with Diaper on Face",Image:"https://zoe-64.github.io/ABCL/versions/2.3.4/assets/activity/diaperFaceSit.png",Target:["ItemNose"],OnClick:(e,t)=>(e=>{if(e.MemberNumber!==Player.MemberNumber)return ActivityEffectFlat(Player,Player,5,"ItemButt",1),gp("diaper-face-sit",void 0,e.MemberNumber);ur(e)})(e),Criteria:e=>Gn(Player)&&cn(e)&&!Player.IsRestrained()&&e.MemberNumber!==Player.MemberNumber},listeners:{"diaper-face-sit":({Sender:e})=>ur(on(e)??Player)}},pr=e=>{const t=nr(Player),n="dry"===t?"crinkles":"sloshes",r="dry"===t?"crinkle":"slosh",i=e.MemberNumber===Player.MemberNumber,s=`%NAME% playfully pats %POSSESSIVE% ${t} diapered butt, enjoying the soft ${n} it makes.`,a=`%OPP_NAME% gives %NAME%'s diapered butt a playful pat, as the ${t} diaper ${r} softly.`;ActivityEffectFlat(Player,Player,1,"ItemButt",1),mn(pn(i?s:a,e),void 0,"playerActivity",e)},hr={activity:{ID:"diaper-pat-back",Name:"Diaper Pat Bottom",Image:"https://zoe-64.github.io/ABCL/versions/2.3.4/assets/activity/diaperPatBack.png",Target:["ItemButt"],OnClick:(e,t)=>(e=>{if(e.MemberNumber!==Player.MemberNumber)return gp("diaper-pat-back",void 0,e.MemberNumber);pr(e)})(e),Criteria:e=>cn(e)&&Gn(e)&&!Player.IsRestrained()},listeners:{"diaper-pat-back":({Sender:e})=>pr(on(e)??Player)}},mr=e=>{const t=nr(Player),n="dry"===t?"crinkles":"sloshes";mn(pn(e.MemberNumber===Player.MemberNumber?`%NAME% pats the front of %POSSESSIVE% ${t} diaper playfully, smiling at the soft ${n}.`:`%OPP_NAME% playfully pats the front of %NAME%'s ${t} diaper, as the padding ${n} softly.`,e),void 0,"playerActivity",e),ActivityEffectFlat(Player,Player,1,"ItemVulva",1)},fr={activity:{ID:"diaper-pat-front",Name:"Diaper Pat Crotch",Image:"https://zoe-64.github.io/ABCL/versions/2.3.4/assets/activity/diaperPatFront.png",Target:["ItemVulva"],OnClick:(e,t)=>(e=>{if(e.MemberNumber!==Player.MemberNumber)return gp("diaper-pat-front",void 0,e.MemberNumber);mr(e)})(e),Criteria:e=>cn(e)&&Gn(e)&&!Player.IsRestrained()},listeners:{"diaper-pat-front":({Sender:e})=>mr(on(e)??Player)}},gr=(e,t)=>{mn(pn("%OPP_NAME% tugs %NAME%'s diaper waistband and pees inside.",e),void 0,"playerActivity",e),Player.ABCL.Settings.ExpressionsByActivities&&(CharacterSetFacialExpression(Player,"Blush","Low",8),CharacterSetFacialExpression(Player,"Eyebrows","Soft",8),CharacterSetFacialExpression(Player,"Eyes","Surprised",5)),Mn.stats.WetnessValue+=t??0},yr={activity:{ID:"pee-in-diaper",Name:"Pees in Diaper",Image:"https://zoe-64.github.io/ABCL/versions/2.3.4/assets/activity/diaperPeeOthersDiaper.png",Target:["ItemPelvis"],OnClick:(e,t)=>((e,t)=>{if(e.MemberNumber!==Player.MemberNumber)return gp("diaper-pee-others-diaper",{volume:t},e.MemberNumber);Mn.stats.BladderValue=0,gr(e,t)})(e,Mn.stats.BladderValue),Criteria:e=>cn(e)&&Gn(e)&&Mn.stats.BladderValue>0&&e!==Player&&!Player.IsRestrained()},listeners:{"diaper-pee-others-diaper":({Sender:e},{volume:t})=>gr(on(e)??Player,t)}},vr=e=>{mn(pn(e.MemberNumber===Player.MemberNumber?"%NAME% pours water in %POSSESSIVE% diaper.":"%OPP_NAME% pours water in %NAME%'s diaper.",e),void 0,"playerActivity",e),Mn.stats.WetnessValue+=500,Player.ABCL.Settings.ExpressionsByActivities&&(CharacterSetFacialExpression(Player,"Blush","Low",8),CharacterSetFacialExpression(Player,"Eyebrows","Soft",8),CharacterSetFacialExpression(Player,"Eyes","Surprised",5),CharacterSetFacialExpression(Player,"Eyes","Daydream",2))},br={activity:{ID:"diaper-pour",Name:"Pour Water in Diaper",Image:"https://zoe-64.github.io/ABCL/versions/2.3.4/assets/activity/diaperPour.png",Target:["ItemPelvis"],OnClick:(e,t)=>(e=>{if(e.MemberNumber!==Player.MemberNumber)return gp("diaper-pour",void 0,e.MemberNumber);vr(e)})(e),Criteria:e=>Gn(e)&&cn(e)&&!Player.IsRestrained()},listeners:{"diaper-pour":({Sender:e})=>vr(on(e)??Player)}},_r=e=>{const t=nr(Player),n="dry"===t?"crinkles":"sloshes";mn(pn(e.MemberNumber===Player.MemberNumber?`%NAME% blushes as %PRONOUN% rubs %POSSESSIVE% ${t} diapered butt with both hands, breath hitching at the soft ${n} under %POSSESSIVE% hands.`:`%OPP_NAME% runs %OPP_POSSESSIVE% hand over %NAME%'s ${t} diapered butt, rubbing affectionate circles into the ${t} padding.`,e),void 0,"playerActivity",e),ActivityEffectFlat(Player,Player,5,"ItemButt",1),Mn.stats.Incontinence>Math.random()&&Mn.attemptSoiling()},Ar={activity:{ID:"diaper-rub-back",Name:"Diaper Rub Bottom",Image:"https://zoe-64.github.io/ABCL/versions/2.3.4/assets/activity/diaperRubBack.png",Target:["ItemButt"],OnClick:(e,t)=>(e=>{if(e.MemberNumber!==Player.MemberNumber)return gp("diaper-rub-back",void 0,e.MemberNumber);_r(e)})(e),Criteria:e=>cn(e)&&Gn(e)&&!Player.IsRestrained()},listeners:{"diaper-rub-back":({Sender:e})=>_r(on(e)??Player)}},Cr=e=>{const t=nr(Player);mn(pn(e.MemberNumber===Player.MemberNumber?`%NAME% blushes as %PRONOUN% rubs circles over the front of %POSSESSIVE% ${t} diaper, biting %POSSESSIVE% lip as %PRONOUN% grinds down into %POSSESSIVE% own hand.`:`%OPP_NAME% rubs up and down %NAME%'s ${t} diaper, %OPP_POSSESSIVE% fingers pressing into the ${t} padding over the front and between %POSSESSIVE% legs.`,e),void 0,"playerActivity",e),ActivityEffectFlat(Player,Player,10,"ItemVulva",1),Mn.stats.Incontinence>Math.random()&&Mn.attemptWetting()},Sr={activity:{ID:"diaper-rub-front",Name:"Diaper Rub",Image:"https://zoe-64.github.io/ABCL/versions/2.3.4/assets/activity/diaperRubFront.png",Target:["ItemVulva"],OnClick:(e,t)=>(e=>{if(e.MemberNumber!==Player.MemberNumber)return gp("diaper-rub-front",void 0,e.MemberNumber);Cr(e)})(e),Criteria:e=>cn(e)&&Gn(e)&&!Player.IsRestrained()},listeners:{"diaper-rub-front":({Sender:e})=>Cr(on(e)??Player)}},Pr=e=>{const t=nr(Player);mn(pn(e.MemberNumber===Player.MemberNumber?`%NAME% gives %POSSESSIVE% ${t} diapered butt a squeeze, blushing a little as it squishes under %POSSESSIVE% hand.`:`%OPP_NAME% gives %NAME%'s ${t} diapered butt a teasing squeeze, smiling as %OPP_PRONOUN% squishes and kneads the ${t} padding.`,e),void 0,"playerActivity",e)},Er={activity:{ID:"diaper-squish-back",Name:"Diaper Squish Bottom",Image:"https://zoe-64.github.io/ABCL/versions/2.3.4/assets/activity/diaperSquishBack.png",Target:["ItemButt"],OnClick:(e,t)=>(e=>{if(e.MemberNumber!==Player.MemberNumber)return gp("diaper-squish-back",void 0,e.MemberNumber);Pr(e)})(e),Criteria:e=>cn(e)&&Gn(e)&&!Player.IsRestrained()},listeners:{"diaper-squish-back":({Sender:e})=>Pr(on(e)??Player)}},Lr=e=>{const t=nr(Player);mn(pn(e.MemberNumber===Player.MemberNumber?`%NAME% presses into the front of %POSSESSIVE% ${t} diaper, blushing as %PRONOUN% squishes %POSSESSIVE% ${t} padding.`:`%OPP_NAME% presses %OPP_POSSESSIVE% hand into %NAME%'s ${t} diaper, giggling as %OPP_PRONOUN% squishes the ${t} padding between %POSSESSIVE% legs.`,e),void 0,"playerActivity",e)},wr={activity:{ID:"diaper-squish-front",Name:"Diaper Squish Crotch",Image:"https://zoe-64.github.io/ABCL/versions/2.3.4/assets/activity/diaperSquishFront.png",Target:["ItemVulva"],OnClick:(e,t)=>(e=>{if(e.MemberNumber!==Player.MemberNumber)return gp("diaper-squish-front",void 0,e.MemberNumber);Lr(e)})(e),Criteria:e=>cn(e)&&Gn(e)&&!Player.IsRestrained()},listeners:{"diaper-squish-front":({Sender:e})=>Lr(on(e)??Player)}},Ir=e=>{if(!(e.MemberNumber===Player.MemberNumber))return gp("lick-puddle",void 0,e.MemberNumber);kr(Player)},kr=e=>{mn(pn(e.MemberNumber===Player.MemberNumber?"%NAME% licks %POSSESSIVE% puddle of pee.":"%OPP_NAME% licks %NAME%'s puddle of pee.",e),void 0,"lickPuddle",e),Player.ABCL.Settings.ExpressionsByActivities&&CharacterSetFacialExpression(Player,"Fluids","DroolLow",20),yp(),Mn.stats.PuddleSize-=50},Nr={activity:{ID:"lick-puddle",Name:"Lick Puddle",Image:"https://zoe-64.github.io/ABCL/versions/2.3.4/assets/activity/lickPuddle.png",Target:["ItemBoots"],OnClick:(e,t)=>Ir(e),Criteria:e=>cn(e)&&e.ABCL.Stats.PuddleSize.value>0},command:{Tag:"lick-puddle",Action:(e,t,n)=>{const r=ln(n)??Player;if(!Nr.activity.Criteria(r))return Zt("Is either not an ABCL player or has no puddle.");Ir(r)},Description:" [MemberNumber|Name|Nickname]: Licks a puddle of pee."},listeners:{"lick-puddle":({Sender:e})=>kr(on(e)??Player)}},Dr={listeners:{onABCLMessage:({Sender:e},{message:t,local:n})=>{Zt(t,void 0,"background: #FFA9A93B",n)}}},Mr=()=>{const e=Player.ABCL.Settings.PauseStats;mn(e?"%NAME% resumed their ABCL stats.":"%NAME% paused their ABCL stats.",Player,"pauseStats"),Player.ABCL.Settings.PauseStats=!e},Br={activity:{ID:"pauseStats",Name:"Pause Stats",Image:"https://zoe-64.github.io/ABCL/versions/2.3.4/assets/activity/pauseStats.png",TargetSelf:["ItemPelvis"],OnClick:(e,t)=>Mr(),Criteria:e=>!0},command:{Tag:"pause-stats",Action:(e,t,n)=>Mr(),Description:" Pauses the ABCL stats."}},Or={activity:{ID:"pee",Name:"Pee",Image:"https://zoe-64.github.io/ABCL/versions/2.3.4/assets/activity/wetDiaper.svg",OnClick:(e,t)=>Mn.wet(!0),TargetSelf:["ItemPelvis"]},command:{Tag:"pee",Action:(e,t,n)=>Mn.wet(!0),Description:" Lets go of your bladder."}},Rr={activity:{ID:"poop",Name:"Poop",Image:"https://zoe-64.github.io/ABCL/versions/2.3.4/assets/activity/soilDiaper.svg",OnClick:(e,t)=>Mn.soil(!0),TargetSelf:["ItemPelvis"]},command:{Tag:"poop",Action:()=>Mn.soil(!0),Description:" Relaxes your bowels."}},xr=()=>{const e=.3*Mn.stats.Incontinence,t=Mn.stats.BladderFullness>.6||Mn.stats.BowelFullness>.6,n=Mn.stats.BladderFullness<.3-e&&Mn.stats.BowelFullness<.3-e,r=Mn.stats.MentalRegression>.9,i=Mn.stats.MentalRegression<.3;if(n)return void mn("%NAME% tries to use the potty but can't seem to get anything out.",void 0,"usePotty");Mn.stats.BowelFullness=0,Mn.stats.BladderFullness=0;let s="";i&&(s="and feels embarrased",Player.ABCL.Settings.ExpressionsByActivities&&CharacterSetFacialExpression(Player,"Blush","Low",10),Mn.stats.MentalRegression+=.04*Mn.stats.MentalRegressionModifier),t&&!r&&(s+=i?" but is releaved":"and feels releaved",Mn.stats.Incontinence+=-.01,Mn.stats.MentalRegression-=.02*Mn.stats.MentalRegressionModifier,Player.ABCL.Settings.ExpressionsByActivities&&CharacterSetFacialExpression(Player,"Mouth","Happy",8)),mn("%NAME% sits down and uses the potty "+s+".",void 0,"usePotty")},Tr={activity:{ID:"potty",Name:"Sit and Use Potty",Image:"https://zoe-64.github.io/ABCL/versions/2.3.4/assets/activity/potty-temp.png",OnClick:(e,t)=>xr(),TargetSelf:["ItemButt"],Criteria:e=>!(Gn(e)&&Vn()||Player.IsRestrained())},command:{Tag:"use-potty",Action:(e,t,n)=>{if(!Tr.activity?.Criteria(Player))return Zt("You are restrained or diaper is locked.");xr()},Description:" Sit down and use the potty."}},$r=()=>{const e=.3*Mn.stats.Incontinence,t=Mn.stats.BladderFullness<.3&&Mn.stats.BowelFullness<.3,n=Mn.stats.BladderFullness>.6-e||Mn.stats.BowelFullness>.6-e;if(t)return Zt("You try to use the toilet but you can't seem to get anything out.");let r="";n&&(r="and feels releaved",Mn.stats.MentalRegression-=.02*Mn.stats.MentalRegressionModifier,Mn.stats.Incontinence+=-.01),Mn.stats.BladderFullness=0,Mn.stats.BowelFullness=0,mn("%NAME% goes to the bathroom and uses the toilet "+r+".",void 0,"useToilet")},Gr={activity:{ID:"toilet",Name:"Sit and Use Toilet",Image:"https://zoe-64.github.io/ABCL/versions/2.3.4/assets/activity/toilet-temp.png",OnClick:(e,t)=>$r(),Criteria:e=>Mn.stats.MentalRegression<.3&&!(Gn(e)&&Vn())&&!Player.IsRestrained(),TargetSelf:["ItemButt"]},command:{Tag:"use-toilet",Action:()=>Mn.stats.MentalRegression<.3?(Player.ABCL.Settings.ExpressionsByActivities&&CharacterSetFacialExpression(Player,"Eyes","Dizzy",8),Zt("You feel uncomfortable, the toilet is cold and hard almost like ice. You can't use it.")):Gn()&&(Player.IsRestrained()||Vn())?Zt("You can't use the toilet while your diaper is locked."):void $r(),Description:" Sit down and use the toilet."}},Fr=e=>{if(e.MemberNumber!==Player.MemberNumber)return gp("wipe-puddle",void 0,e.MemberNumber);zr(Player)},zr=e=>{if(Mn.stats.PuddleSize=0,yp(),e.MemberNumber!==Player.MemberNumber)return mn(pn("%OPP_NAME% wipes %NAME%'s puddle of pee.",e),void 0,"wipePuddle",e);mn(pn("%NAME% wipes %POSSESSIVE% puddle of pee.",e),void 0,"wipePuddle",e)},jr={activity:{ID:"wipe-puddle",Name:"Wipe Puddle",Image:"./Assets/Female3DCG/ItemHandheld/Preview/Towel.png",Target:["ItemBoots"],OnClick:(e,t)=>Fr(e),Criteria:e=>cn(e)&&e.ABCL.Stats.PuddleSize.value>0&&!Player.IsRestrained()},command:{Tag:"wipe-puddle",Action:(e,t,n)=>{const r=on(n[0])??Player;if(!jr.activity.Criteria(r))return Zt("Is either not an ABCL player or has no puddle. Or you are restrained.");Fr(r)},Description:" [MemberNumber|Name|Nickname]: Wipes a puddle of pee."},listeners:{"wipe-puddle":({Sender:e})=>{zr(on(e)??Player)}}};class Vr{constructor(e,t,n,r,i,s,a){this.id=e,this.name=t,this.image=n,this.onClick=r,this.target=i,this.targetSelf=s,this.criteria=a}fitsCriteria(e,t){return Boolean((!this.criteria||this.criteria(e))&&(this.target?.includes(t)||this.targetSelf?.includes(t)&&Player.MemberNumber===e?.MemberNumber))}createButton(){const e=document.createElement("button");return e.id=this.id,e.name=`ABCL_${this.name}`,e.dataset.group="ItemArms",e.className="blank-button button button-styling HideOnPopup dialog-grid-button",e.innerHTML=`<img decoding="async" loading="lazy" src="${this.image}" class="button-image"><span class="button-label button-label-bottom">${this.name}</span>`,e.addEventListener("click",(e=>{const t=CurrentCharacter?.FocusGroup?CurrentCharacter:Player,n=t?.FocusGroup?.Name;this.onClick&&n&&(this.onClick(t,n),DialogLeave())})),e}static isInserted(e){return Boolean(document.getElementById(e))}}const Ur=[sr,or,Or,Rr,Tr,Gr,Nr,jr,Dr,cr,dr,hr,fr,yr,br,Sr,Ar,Er,wr,Br],Hr=Ur.reduce(((e,{command:t})=>t?[...e,t]:e),[]);
/**
     * @sugarch/bc-event-handler v1.0.1
     *
     * Copyright (c) 2025 SugarChain Studio
     * License: MIT
     * https://github.com/SugarChain-Studio/sugarch-utilities
     * @preserve
     */
function Wr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var qr,Xr,Yr,Zr;function Kr(){if(Xr)return qr;Xr=1;const e="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};return qr=e}function Jr(){if(Zr)return Yr;Zr=1;const e=Number.MAX_SAFE_INTEGER||9007199254740991;return Yr={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:e,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}}Ur.reduce(((e,{activity:t})=>t?[...e,t]:e),[]);var Qr,ei,ti,ni,ri,ii,si,ai,oi,li,ci,ui={exports:{}};function di(){if(si)return ii;si=1;const e=Kr(),{MAX_LENGTH:t,MAX_SAFE_INTEGER:n}=Jr(),{safeRe:r,t:i}=(Qr||(Qr=1,function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:i}=Jr(),s=Kr(),a=(t=e.exports={}).re=[],o=t.safeRe=[],l=t.src=[],c=t.safeSrc=[],u=t.t={};let d=0;const p="[a-zA-Z0-9-]",h=[["\\s",1],["\\d",i],[p,r]],m=(e,t,n)=>{const r=(e=>{for(const[t,n]of h)e=e.split(`${t}*`).join(`${t}{0,${n}}`).split(`${t}+`).join(`${t}{1,${n}}`);return e})(t),i=d++;s(e,i,t),u[e]=i,l[i]=t,c[i]=r,a[i]=new RegExp(t,n?"g":void 0),o[i]=new RegExp(r,n?"g":void 0)};m("NUMERICIDENTIFIER","0|[1-9]\\d*"),m("NUMERICIDENTIFIERLOOSE","\\d+"),m("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${p}*`),m("MAINVERSION",`(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})`),m("MAINVERSIONLOOSE",`(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})`),m("PRERELEASEIDENTIFIER",`(?:${l[u.NONNUMERICIDENTIFIER]}|${l[u.NUMERICIDENTIFIER]})`),m("PRERELEASEIDENTIFIERLOOSE",`(?:${l[u.NONNUMERICIDENTIFIER]}|${l[u.NUMERICIDENTIFIERLOOSE]})`),m("PRERELEASE",`(?:-(${l[u.PRERELEASEIDENTIFIER]}(?:\\.${l[u.PRERELEASEIDENTIFIER]})*))`),m("PRERELEASELOOSE",`(?:-?(${l[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[u.PRERELEASEIDENTIFIERLOOSE]})*))`),m("BUILDIDENTIFIER",`${p}+`),m("BUILD",`(?:\\+(${l[u.BUILDIDENTIFIER]}(?:\\.${l[u.BUILDIDENTIFIER]})*))`),m("FULLPLAIN",`v?${l[u.MAINVERSION]}${l[u.PRERELEASE]}?${l[u.BUILD]}?`),m("FULL",`^${l[u.FULLPLAIN]}$`),m("LOOSEPLAIN",`[v=\\s]*${l[u.MAINVERSIONLOOSE]}${l[u.PRERELEASELOOSE]}?${l[u.BUILD]}?`),m("LOOSE",`^${l[u.LOOSEPLAIN]}$`),m("GTLT","((?:<|>)?=?)"),m("XRANGEIDENTIFIERLOOSE",`${l[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),m("XRANGEIDENTIFIER",`${l[u.NUMERICIDENTIFIER]}|x|X|\\*`),m("XRANGEPLAIN",`[v=\\s]*(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:${l[u.PRERELEASE]})?${l[u.BUILD]}?)?)?`),m("XRANGEPLAINLOOSE",`[v=\\s]*(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:${l[u.PRERELEASELOOSE]})?${l[u.BUILD]}?)?)?`),m("XRANGE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAIN]}$`),m("XRANGELOOSE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAINLOOSE]}$`),m("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),m("COERCE",`${l[u.COERCEPLAIN]}(?:$|[^\\d])`),m("COERCEFULL",l[u.COERCEPLAIN]+`(?:${l[u.PRERELEASE]})?`+`(?:${l[u.BUILD]})?(?:$|[^\\d])`),m("COERCERTL",l[u.COERCE],!0),m("COERCERTLFULL",l[u.COERCEFULL],!0),m("LONETILDE","(?:~>?)"),m("TILDETRIM",`(\\s*)${l[u.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",m("TILDE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAIN]}$`),m("TILDELOOSE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAINLOOSE]}$`),m("LONECARET","(?:\\^)"),m("CARETTRIM",`(\\s*)${l[u.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",m("CARET",`^${l[u.LONECARET]}${l[u.XRANGEPLAIN]}$`),m("CARETLOOSE",`^${l[u.LONECARET]}${l[u.XRANGEPLAINLOOSE]}$`),m("COMPARATORLOOSE",`^${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]})$|^$`),m("COMPARATOR",`^${l[u.GTLT]}\\s*(${l[u.FULLPLAIN]})$|^$`),m("COMPARATORTRIM",`(\\s*)${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]}|${l[u.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",m("HYPHENRANGE",`^\\s*(${l[u.XRANGEPLAIN]})\\s+-\\s+(${l[u.XRANGEPLAIN]})\\s*$`),m("HYPHENRANGELOOSE",`^\\s*(${l[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[u.XRANGEPLAINLOOSE]})\\s*$`),m("STAR","(<|>)?=?\\s*\\*"),m("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),m("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}(ui,ui.exports)),ui.exports),s=function(){if(ti)return ei;ti=1;const e=Object.freeze({loose:!0}),t=Object.freeze({});return ei=n=>n?"object"!=typeof n?e:n:t}(),{compareIdentifiers:a}=function(){if(ri)return ni;ri=1;const e=/^[0-9]+$/,t=(t,n)=>{const r=e.test(t),i=e.test(n);return r&&i&&(t=+t,n=+n),t===n?0:r&&!i?-1:i&&!r?1:t<n?-1:1};return ni={compareIdentifiers:t,rcompareIdentifiers:(e,n)=>t(n,e)},ni}();class o{constructor(a,l){if(l=s(l),a instanceof o){if(a.loose===!!l.loose&&a.includePrerelease===!!l.includePrerelease)return a;a=a.version}else if("string"!=typeof a)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof a}".`);if(a.length>t)throw new TypeError(`version is longer than ${t} characters`);e("SemVer",a,l),this.options=l,this.loose=!!l.loose,this.includePrerelease=!!l.includePrerelease;const c=a.trim().match(l.loose?r[i.LOOSE]:r[i.FULL]);if(!c)throw new TypeError(`Invalid Version: ${a}`);if(this.raw=a,this.major=+c[1],this.minor=+c[2],this.patch=+c[3],this.major>n||this.major<0)throw new TypeError("Invalid major version");if(this.minor>n||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>n||this.patch<0)throw new TypeError("Invalid patch version");c[4]?this.prerelease=c[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<n)return t}return e})):this.prerelease=[],this.build=c[5]?c[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(e("SemVer.compare",this.version,this.options,t),!(t instanceof o)){if("string"==typeof t&&t===this.version)return 0;t=new o(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(e){return e instanceof o||(e=new o(e,this.options)),a(this.major,e.major)||a(this.minor,e.minor)||a(this.patch,e.patch)}comparePre(t){if(t instanceof o||(t=new o(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let n=0;do{const r=this.prerelease[n],i=t.prerelease[n];if(e("prerelease compare",n,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return-1;if(r!==i)return a(r,i)}while(++n)}compareBuild(t){t instanceof o||(t=new o(t,this.options));let n=0;do{const r=this.build[n],i=t.build[n];if(e("build compare",n,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return-1;if(r!==i)return a(r,i)}while(++n)}inc(e,t,n){if(e.startsWith("pre")){if(!t&&!1===n)throw new Error("invalid increment argument: identifier is empty");if(t){const e=`-${t}`.match(this.options.loose?r[i.PRERELEASELOOSE]:r[i.PRERELEASE]);if(!e||e[1]!==t)throw new Error(`invalid identifier: ${t}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,n),this.inc("pre",t,n);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,n),this.inc("pre",t,n);break;case"release":if(0===this.prerelease.length)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const e=Number(n)?1:0;if(0===this.prerelease.length)this.prerelease=[e];else{let r=this.prerelease.length;for(;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);if(-1===r){if(t===this.prerelease.join(".")&&!1===n)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let r=[t,e];!1===n&&(r=[t]),0===a(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=r):this.prerelease=r}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return ii=o}var pi,hi,mi,fi,gi=function(){if(ci)return li;ci=1;const e=function(){if(oi)return ai;oi=1;const e=di();return ai=(t,n,r=!1)=>{if(t instanceof e)return t;try{return new e(t,n)}catch(e){if(!r)return null;throw e}},ai}();return li=(t,n)=>{const r=e(t,n);return r?r.version:null},li}(),yi=Wr(gi),vi=function(){if(fi)return mi;fi=1;const e=function(){if(hi)return pi;hi=1;const e=di();return pi=(t,n,r)=>new e(t,r).compare(new e(n,r)),pi}();return mi=(t,n,r)=>e(t,n,r)<0,mi}(),bi=Wr(vi);
/**
     * @sugarch/bc-mod-utility v0.2.11
     *
     * Copyright (c) 2025 SugarChain Studio
     * License: MIT
     * https://github.com/SugarChain-Studio/sugarch-utilities
     * @preserve
     */
function _i(e){return globalThis[e]}let Ai=class e{static _initStorage(){var e,t;_i(this._namespace)||(e=this._namespace,t={},globalThis[e]=t)}static get(e,t){this._initStorage();const n=_i(this._namespace);return e in n||(n[e]=t()),n[e]}static getMayOverride(e,t){this._initStorage();const n=_i(this._namespace);return n[e]=t(n[e]),n[e]}static getByVersion(e,t,n,r){if(this._initStorage(),!yi(t))throw new Error(`Invalid version for ${e}: ${t}`);const i=_i(this._namespace),s=`${e}.__Version`,a=i[e],o=i[s];return a?o&&!bi(o,t)||(i[e]=r(o,a),i[s]=t):(i[e]=n(a),i[s]=t),i[e]}static set(e,t){this._initStorage(),_i(this._namespace)[e]=t}static has(e){return this._initStorage(),e in _i(this._namespace)}static delete(e){this._initStorage();const t=_i(this._namespace);return e in t&&delete t[e]}static setImplementation(t){const n=["get","set","has","delete"];for(const r of n){if("function"!=typeof t[r])throw new Error(`Implementation must provide a '${r}' function`);e[r]=t[r]}}static createNamespace(t){return{get:(n,r)=>e.get(`${t}.${n}`,r),getMayOverride:(n,r)=>e.getMayOverride(`${t}.${n}`,r),set:(n,r)=>e.set(`${t}.${n}`,r),has:n=>e.has(`${t}.${n}`),delete:n=>e.delete(`${t}.${n}`)}}};function Ci(e){return new Promise((t=>setTimeout(t,e)))}function Si(e,t=100){return(async()=>{for(;!e();)await Ci(t)})()}Ai._namespace="__BC_LUZI_GLOBALS__",Ai.createNamespace("OnceFlag");var Pi,Ei={exports:{}},Li=(Pi||(Pi=1,function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function s(e,t,r,s,a){if("function"!=typeof r)throw new TypeError("The listener must be a function");var o=new i(r,s||e,a),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],o]:e._events[l].push(o):(e._events[l]=o,e._eventsCount++),e}function a(e,t){0==--e._eventsCount?e._events=new r:delete e._events[t]}function o(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),o.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},o.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,s=r.length,a=new Array(s);i<s;i++)a[i]=r[i].fn;return a},o.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},o.prototype.emit=function(e,t,r,i,s,a){var o=n?n+e:e;if(!this._events[o])return!1;var l,c,u=this._events[o],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,i),!0;case 5:return u.fn.call(u.context,t,r,i,s),!0;case 6:return u.fn.call(u.context,t,r,i,s,a),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var p,h=u.length;for(c=0;c<h;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,r);break;case 4:u[c].fn.call(u[c].context,t,r,i);break;default:if(!l)for(p=1,l=new Array(d-1);p<d;p++)l[p-1]=arguments[p];u[c].fn.apply(u[c].context,l)}}return!0},o.prototype.on=function(e,t,n){return s(this,e,t,n,!1)},o.prototype.once=function(e,t,n){return s(this,e,t,n,!0)},o.prototype.removeListener=function(e,t,r,i){var s=n?n+e:e;if(!this._events[s])return this;if(!t)return a(this,s),this;var o=this._events[s];if(o.fn)o.fn!==t||i&&!o.once||r&&o.context!==r||a(this,s);else{for(var l=0,c=[],u=o.length;l<u;l++)(o[l].fn!==t||i&&!o[l].once||r&&o[l].context!==r)&&c.push(o[l]);c.length?this._events[s]=1===c.length?c[0]:c:a(this,s)}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,e.exports=o}(Ei)),Ei.exports),wi=Wr(Li);const Ii="1.0.1";let ki=class{constructor(){this.handler=new wi,Ut.hookFunction("ChatRoomMessage",10,((e,t)=>{const{Type:n}=e[0];return"ServerMessage"!==n&&"Status"!==n&&this.handler.emit(n,e[0]),t(e)})),Ut.hookFunction("ChatRoomSync",1,((e,t)=>{const n=Player&&!ServerPlayerIsInChatRoom()&&RelogData?.ChatRoomName!==e[0].Name,r=t(e);return n&&this.handler.emit("PlayerJoin",Player),r})),Ut.hookFunction("ServerSend",1,((e,t)=>("ChatRoomLeave"===e[0]&&Player&&this.handler.emit("PlayerLeave",Player),t(e))))}on(...e){this.handler.on(...e)}off(...e){this.handler.off(...e)}once(...e){this.handler.once(...e)}};const Ni=Ai.get(`ChatRoomEvents@${Ii}`,(()=>new ki));let Di=class{constructor(){this.handler=new wi,Ut.hookFunction("ActivityOrgasmStop",9,((e,t)=>{const[n,r]=e;n.IsPlayer()&&(ActivityOrgasmRuined?this.handler.emit("ruined",{Player:n}):r>=60&&this.handler.emit("resisted",{Player:n})),t(e)})),Ut.hookFunction("ActivityOrgasmStart",9,((e,t)=>{const[n]=e;n.IsPlayer()&&!ActivityOrgasmRuined&&this.handler.emit("orgasmed",{Player:n}),t(e)}))}on(...e){this.handler.on(...e)}once(...e){this.handler.once(...e)}off(...e){this.handler.off(...e)}};Ai.get(`OrgasmEvents@${Ii}`,(()=>new Di));let Mi=class{constructor(){this.handler=new wi,(async()=>{var e;await Si((()=>Array.isArray(ChatRoomMessageHandlers))),ChatRoomRegisterMessageHandler((e=this.handler,{Description:`SugarChain ChatMessage Handler v${Ii}`,Priority:1024,Callback:(t,n,r,i)=>(e.emit(t.Type,t,n,r,i),!1)}))})()}on(...e){this.handler.on(...e)}once(...e){this.handler.once(...e)}off(...e){this.handler.off(...e)}};Ai.get(`ChatRoomMessageHandlerEvents@${Ii}`,(()=>new Mi));const Bi=function(...e){const[t,n,r,i]=e;if("Activity"!==t.Type||!t.Dictionary||!i)return;const{ActivityName:s,ActivityAsset:a,CraftingNames:o,FocusGroup:l,TargetMemberNumber:c}=i;return s&&l&&c&&n.MemberNumber?{SourceCharacter:n.MemberNumber,SourceCharacterC:n,TargetCharacter:c,ActivityGroup:l,ActivityName:s,Asset:void 0!==a?{Asset:a,CraftName:o?.ActivityAsset}:void 0,Dictionary:t.Dictionary}:void 0},Oi={OthersOnSelf:new Set(["OthersOnSelf","AnyOnSelf","SelfInvolved","AnyInvolved"]),SelfOnSelf:new Set(["SelfOnSelf","AnyOnSelf","SelfInvolved","AnyInvolved"]),SelfOnOthers:new Set(["SelfOnOthers","SelfInvolved","AnyInvolved"]),OthersOnOthers:new Set(["AnyInvolved"])};let Ri=class{constructor(){this._handlers=[],(async()=>{var e;await Si((()=>Array.isArray(ChatRoomMessageHandlers))),ChatRoomRegisterMessageHandler((e=(...e)=>this.emit(...e),{Description:`SugarChain Activity Handler v${Ii}`,Priority:290,Callback:(t,n,r,i)=>{const s=Bi(t,n,r,i);if(!s)return!1;const a=s.TargetCharacter===Player.MemberNumber?n.MemberNumber===s.TargetCharacter?Oi.SelfOnSelf:Oi.OthersOnSelf:s.SourceCharacter===Player.MemberNumber?Oi.SelfOnOthers:Oi.OthersOnOthers;return e(a,s.ActivityName,n,Player,s),!1}}))})()}emit(e,t,...n){const r=[...this._handlers],i=[];for(const s of r)if(null!==s.activity&&t!==s.activity||!e.has(s.mode))i.push(s);else{try{s.listener(...n)}catch(e){console.error(`Error in activity event listener for ${s.activity} (${s.mode}):`,e)}s.once||i.push(s)}this._handlers=i}on(e,t,n){this._handlers.push({mode:e,activity:t,listener:n,once:!1})}once(e,t,n){this._handlers.push({mode:e,activity:t,listener:n,once:!0})}onAny(e,t){this._handlers.push({mode:e,activity:null,listener:t,once:!1})}onceAny(e,t){this._handlers.push({mode:e,activity:null,listener:t,once:!0})}off(e,t,n){this._handlers=n?this._handlers.filter((r=>r.mode!==e||r.activity!==t||r.listener!==n)):this._handlers.filter((n=>n.mode!==e||n.activity!==t))}};Ai.get(`ActivityEvents@${Ii}`,(()=>new Ri));let xi=class{isAllowed(e){return e in this.modifiers}constructor(){this.modifiers={ChatRoomChat:[],ChatRoomCharacterUpdate:[],ChatRoomCharacterExpressionUpdate:[],ChatRoomCharacterPoseUpdate:[],ChatRoomCharacterArousalUpdate:[],ChatRoomCharacterItemUpdate:[],ChatRoomCharacterMapDataUpdate:[],ChatRoomGame:[]},Ut.hookFunction("ServerSend",10,((e,t)=>{const[n,r]=e;if(this.isAllowed(n)){const t=this.modifiers[n];for(const n of t)e[1]=n(r)}return t(e)}))}addModifier(e,t){this.modifiers[e].push(t)}removeModifier(e,t){const n=this.modifiers[e].indexOf(t);n>-1&&this.modifiers[e].splice(n,1)}};function Ti(e,t,n){ServerPlayerIsInChatRoom()&&ServerSend("ChatRoomChat",{Type:"Hidden",...n?{Target:n}:{},Content:e,Dictionary:[{rEventArg:JSON.stringify(t)}]})}Ai.get("ServerSendModifiers",(()=>new xi));const $i=new Set(["OwnerRule","LoverRule","PayQuest","ChatRoomBot","Pandora","PortalLink"]);const Gi=new class{constructor(e){if(this.prefix=e,this._events={},$i.has(e))throw new Error(`Invalid remote event prefix: ${e}`);Ni.on("Hidden",(e=>this.tryInvoke(e)))}tryInvoke(e){if(!e||!e.Content||!e.Content.startsWith(`${this.prefix}:`))return;const t=e.Content.slice(this.prefix.length+1);if(!t||!this._events[t])return;const n=e?.Dictionary?.find((e=>e.rEventArg));if(!n||"string"!=typeof n.rEventArg)return;const r=e.Sender,i=ChatRoomCharacter.find((e=>e.MemberNumber===r));if(!r||!i)return void console.error(`Sender character not found for member number: ${r}`);const s={sender:r,senderCharacter:i};let a;try{if(a=JSON.parse(n.rEventArg),!a||!Array.isArray(a))return void console.error("Invalid event arguments:",a)}catch(e){return void console.error("Error parsing event args:",e)}const o=[...this._events[t]],l=[];for(const n of o){try{n.fn(s,...a)}catch(e){console.error(`Error invoking listener for event ${t}:`,e)}n.once||l.push(n)}0===l.length?delete this._events[t]:this._events[t]=l}on(e,t){return this._events[e]||(this._events[e]=[]),this._events[e].push({fn:t,once:!1}),this}once(e,t){return this._events[e]||(this._events[e]=[]),this._events[e].push({fn:t,once:!0}),this}off(e,t){return this._events[e]?(t?(this._events[e]=this._events[e].filter((e=>e.fn!==t)),0===this._events[e].length&&delete this._events[e]):delete this._events[e],this):this}emitAll(e,...t){Ti(`${this.prefix}:${e}`,t)}emit(e,t,...n){Ti(`${this.prefix}:${t}`,n,"number"==typeof e?e:e.MemberNumber)}}("ABCL");Gi.on("updateSettings",((e,{settings:t,settingPermissions:n})=>{const r=ChatRoomCharacter.find((t=>t.MemberNumber===e.sender));r&&(window.LITTLISH_CLUB.isMommyOf(r,Player)||window.LITTLISH_CLUB.isCaregiverOf(r,Player))&&(ToastManager.info(`${r.Nickname??r.Name} (${r.MemberNumber}) updated your settings.`),Zt(`${r.Nickname??r.Name} (${r.MemberNumber}) updated your settings.`),Mt({Settings:t,SettingPermissions:n}))})),Gi.on("init",(t=>{e.debug("Received request for data"),yp(t.sender)})),Ni.on("PlayerJoin",(e=>{e.MemberNumber!==Player.MemberNumber&&Gi.emitAll("sync",{Settings:Player.ABCL.Settings,SettingPermissions:Player.ABCL.SettingPermissions,Stats:Player.ABCL.Stats,Version:Pn})})),Gi.on("sync",((t,{Settings:n,Stats:r,Version:i,SettingPermissions:s})=>{if(t.sender===Player.MemberNumber)return;const a=ChatRoomCharacter.findIndex((e=>e.MemberNumber===t.sender));if(-1===a)return e.warn(`Could not find character with member number ${t.sender}`);e.debug(`Updating data for ${t.sender}`),ChatRoomCharacter[a].ABCL={Stats:r,Version:i,SettingPermissions:s,Settings:n}}));var Fi,zi,ji,Vi,Ui,Hi,Wi,qi,Xi,Yi,Zi,Ki,Ji={},Qi=[],es=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,ts=Array.isArray;function ns(e,t){for(var n in t)e[n]=t[n];return e}function rs(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function is(e,t,n){var r,i,s,a={};for(s in t)"key"==s?r=t[s]:"ref"==s?i=t[s]:a[s]=t[s];if(arguments.length>2&&(a.children=arguments.length>3?Fi.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(s in e.defaultProps)void 0===a[s]&&(a[s]=e.defaultProps[s]);return ss(e,a,r,i,null)}function ss(e,t,n,r,i){var s={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:null==i?++ji:i,__i:-1,__u:0};return null==i&&null!=zi.vnode&&zi.vnode(s),s}function as(){return{current:null}}function os(e){return e.children}function ls(e,t){this.props=e,this.context=t}function cs(e,t){if(null==t)return e.__?cs(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?cs(e):null}function us(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return us(e)}}function ds(e){(!e.__d&&(e.__d=!0)&&Vi.push(e)&&!ps.__r++||Ui!==zi.debounceRendering)&&((Ui=zi.debounceRendering)||Hi)(ps)}function ps(){for(var e,t,n,r,i,s,a,o=1;Vi.length;)Vi.length>o&&Vi.sort(Wi),e=Vi.shift(),o=Vi.length,e.__d&&(n=void 0,i=(r=(t=e).__v).__e,s=[],a=[],t.__P&&((n=ns({},r)).__v=r.__v+1,zi.vnode&&zi.vnode(n),_s(t.__P,n,r,t.__n,t.__P.namespaceURI,32&r.__u?[i]:null,s,null==i?cs(r):i,!!(32&r.__u),a),n.__v=r.__v,n.__.__k[n.__i]=n,As(s,n,a),n.__e!=i&&us(n)));ps.__r=0}function hs(e,t,n,r,i,s,a,o,l,c,u){var d,p,h,m,f,g,y=r&&r.__k||Qi,v=t.length;for(l=function(e,t,n,r,i){var s,a,o,l,c,u=n.length,d=u,p=0;for(e.__k=new Array(i),s=0;s<i;s++)null!=(a=t[s])&&"boolean"!=typeof a&&"function"!=typeof a?(l=s+p,(a=e.__k[s]="string"==typeof a||"number"==typeof a||"bigint"==typeof a||a.constructor==String?ss(null,a,null,null,null):ts(a)?ss(os,{children:a},null,null,null):void 0===a.constructor&&a.__b>0?ss(a.type,a.props,a.key,a.ref?a.ref:null,a.__v):a).__=e,a.__b=e.__b+1,o=null,-1!==(c=a.__i=gs(a,n,l,d))&&(d--,(o=n[c])&&(o.__u|=2)),null==o||null===o.__v?(-1==c&&(i>u?p--:i<u&&p++),"function"!=typeof a.type&&(a.__u|=4)):c!=l&&(c==l-1?p--:c==l+1?p++:(c>l?p--:p++,a.__u|=4))):e.__k[s]=null;if(d)for(s=0;s<u;s++)null!=(o=n[s])&&!(2&o.__u)&&(o.__e==r&&(r=cs(o)),Ps(o,o));return r}(n,t,y,l,v),d=0;d<v;d++)null!=(h=n.__k[d])&&(p=-1===h.__i?Ji:y[h.__i]||Ji,h.__i=d,g=_s(e,h,p,i,s,a,o,l,c,u),m=h.__e,h.ref&&p.ref!=h.ref&&(p.ref&&Ss(p.ref,null,h),u.push(h.ref,h.__c||m,h)),null==f&&null!=m&&(f=m),4&h.__u||p.__k===h.__k?l=ms(h,l,e):"function"==typeof h.type&&void 0!==g?l=g:m&&(l=m.nextSibling),h.__u&=-7);return n.__e=f,l}function ms(e,t,n){var r,i;if("function"==typeof e.type){for(r=e.__k,i=0;r&&i<r.length;i++)r[i]&&(r[i].__=e,t=ms(r[i],t,n));return t}e.__e!=t&&(t&&e.type&&!n.contains(t)&&(t=cs(e)),n.insertBefore(e.__e,t||null),t=e.__e);do{t=t&&t.nextSibling}while(null!=t&&8==t.nodeType);return t}function fs(e,t){return t=t||[],null==e||"boolean"==typeof e||(ts(e)?e.some((function(e){fs(e,t)})):t.push(e)),t}function gs(e,t,n,r){var i,s,a=e.key,o=e.type,l=t[n];if(null===l&&null==e.key||l&&a==l.key&&o===l.type&&!(2&l.__u))return n;if(r>(null==l||2&l.__u?0:1))for(i=n-1,s=n+1;i>=0||s<t.length;){if(i>=0){if((l=t[i])&&!(2&l.__u)&&a==l.key&&o===l.type)return i;i--}if(s<t.length){if((l=t[s])&&!(2&l.__u)&&a==l.key&&o===l.type)return s;s++}}return-1}function ys(e,t,n){"-"==t[0]?e.setProperty(t,null==n?"":n):e[t]=null==n?"":"number"!=typeof n||es.test(t)?n:n+"px"}function vs(e,t,n,r,i){var s;e:if("style"==t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||ys(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||ys(e.style,t,n[t])}else if("o"==t[0]&&"n"==t[1])s=t!=(t=t.replace(qi,"$1")),t=t.toLowerCase()in e||"onFocusOut"==t||"onFocusIn"==t?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+s]=n,n?r?n.t=r.t:(n.t=Xi,e.addEventListener(t,s?Zi:Yi,s)):e.removeEventListener(t,s?Zi:Yi,s);else{if("http://www.w3.org/2000/svg"==i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!=t&&"height"!=t&&"href"!=t&&"list"!=t&&"form"!=t&&"tabIndex"!=t&&"download"!=t&&"rowSpan"!=t&&"colSpan"!=t&&"role"!=t&&"popover"!=t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null==n||!1===n&&"-"!=t[4]?e.removeAttribute(t):e.setAttribute(t,"popover"==t&&1==n?"":n))}}function bs(e){return function(t){if(this.l){var n=this.l[t.type+e];if(null==t.u)t.u=Xi++;else if(t.u<n.t)return;return n(zi.event?zi.event(t):t)}}}function _s(e,t,n,r,i,s,a,o,l,c){var u,d,p,h,m,f,g,y,v,b,_,A,C,S,P,E,L,w=t.type;if(void 0!==t.constructor)return null;128&n.__u&&(l=!!(32&n.__u),s=[o=t.__e=n.__e]),(u=zi.__b)&&u(t);e:if("function"==typeof w)try{if(y=t.props,v="prototype"in w&&w.prototype.render,b=(u=w.contextType)&&r[u.__c],_=u?b?b.props.value:u.__:r,n.__c?g=(d=t.__c=n.__c).__=d.__E:(v?t.__c=d=new w(y,_):(t.__c=d=new ls(y,_),d.constructor=w,d.render=Es),b&&b.sub(d),d.props=y,d.state||(d.state={}),d.context=_,d.__n=r,p=d.__d=!0,d.__h=[],d._sb=[]),v&&null==d.__s&&(d.__s=d.state),v&&null!=w.getDerivedStateFromProps&&(d.__s==d.state&&(d.__s=ns({},d.__s)),ns(d.__s,w.getDerivedStateFromProps(y,d.__s))),h=d.props,m=d.state,d.__v=t,p)v&&null==w.getDerivedStateFromProps&&null!=d.componentWillMount&&d.componentWillMount(),v&&null!=d.componentDidMount&&d.__h.push(d.componentDidMount);else{if(v&&null==w.getDerivedStateFromProps&&y!==h&&null!=d.componentWillReceiveProps&&d.componentWillReceiveProps(y,_),!d.__e&&(null!=d.shouldComponentUpdate&&!1===d.shouldComponentUpdate(y,d.__s,_)||t.__v==n.__v)){for(t.__v!=n.__v&&(d.props=y,d.state=d.__s,d.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.some((function(e){e&&(e.__=t)})),A=0;A<d._sb.length;A++)d.__h.push(d._sb[A]);d._sb=[],d.__h.length&&a.push(d);break e}null!=d.componentWillUpdate&&d.componentWillUpdate(y,d.__s,_),v&&null!=d.componentDidUpdate&&d.__h.push((function(){d.componentDidUpdate(h,m,f)}))}if(d.context=_,d.props=y,d.__P=e,d.__e=!1,C=zi.__r,S=0,v){for(d.state=d.__s,d.__d=!1,C&&C(t),u=d.render(d.props,d.state,d.context),P=0;P<d._sb.length;P++)d.__h.push(d._sb[P]);d._sb=[]}else do{d.__d=!1,C&&C(t),u=d.render(d.props,d.state,d.context),d.state=d.__s}while(d.__d&&++S<25);d.state=d.__s,null!=d.getChildContext&&(r=ns(ns({},r),d.getChildContext())),v&&!p&&null!=d.getSnapshotBeforeUpdate&&(f=d.getSnapshotBeforeUpdate(h,m)),E=u,null!=u&&u.type===os&&null==u.key&&(E=Cs(u.props.children)),o=hs(e,ts(E)?E:[E],t,n,r,i,s,a,o,l,c),d.base=t.__e,t.__u&=-161,d.__h.length&&a.push(d),g&&(d.__E=d.__=null)}catch(e){if(t.__v=null,l||null!=s)if(e.then){for(t.__u|=l?160:128;o&&8==o.nodeType&&o.nextSibling;)o=o.nextSibling;s[s.indexOf(o)]=null,t.__e=o}else for(L=s.length;L--;)rs(s[L]);else t.__e=n.__e,t.__k=n.__k;zi.__e(e,t,n)}else null==s&&t.__v==n.__v?(t.__k=n.__k,t.__e=n.__e):o=t.__e=function(e,t,n,r,i,s,a,o,l){var c,u,d,p,h,m,f,g=n.props,y=t.props,v=t.type;if("svg"==v?i="http://www.w3.org/2000/svg":"math"==v?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),null!=s)for(c=0;c<s.length;c++)if((h=s[c])&&"setAttribute"in h==!!v&&(v?h.localName==v:3==h.nodeType)){e=h,s[c]=null;break}if(null==e){if(null==v)return document.createTextNode(y);e=document.createElementNS(i,v,y.is&&y),o&&(zi.__m&&zi.__m(t,s),o=!1),s=null}if(null===v)g===y||o&&e.data===y||(e.data=y);else{if(s=s&&Fi.call(e.childNodes),g=n.props||Ji,!o&&null!=s)for(g={},c=0;c<e.attributes.length;c++)g[(h=e.attributes[c]).name]=h.value;for(c in g)if(h=g[c],"children"==c);else if("dangerouslySetInnerHTML"==c)d=h;else if(!(c in y)){if("value"==c&&"defaultValue"in y||"checked"==c&&"defaultChecked"in y)continue;vs(e,c,null,h,i)}for(c in y)h=y[c],"children"==c?p=h:"dangerouslySetInnerHTML"==c?u=h:"value"==c?m=h:"checked"==c?f=h:o&&"function"!=typeof h||g[c]===h||vs(e,c,h,g[c],i);if(u)o||d&&(u.__html===d.__html||u.__html===e.innerHTML)||(e.innerHTML=u.__html),t.__k=[];else if(d&&(e.innerHTML=""),hs("template"===t.type?e.content:e,ts(p)?p:[p],t,n,r,"foreignObject"==v?"http://www.w3.org/1999/xhtml":i,s,a,s?s[0]:n.__k&&cs(n,0),o,l),null!=s)for(c=s.length;c--;)rs(s[c]);o||(c="value","progress"==v&&null==m?e.removeAttribute("value"):void 0!==m&&(m!==e[c]||"progress"==v&&!m||"option"==v&&m!==g[c])&&vs(e,c,m,g[c],i),c="checked",void 0!==f&&f!==e[c]&&vs(e,c,f,g[c],i))}return e}(n.__e,t,n,r,i,s,a,l,c);return(u=zi.diffed)&&u(t),128&t.__u?void 0:o}function As(e,t,n){for(var r=0;r<n.length;r++)Ss(n[r],n[++r],n[++r]);zi.__c&&zi.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){zi.__e(e,t.__v)}}))}function Cs(e){return"object"!=typeof e||null==e?e:ts(e)?e.map(Cs):ns({},e)}function Ss(e,t,n){try{if("function"==typeof e){var r="function"==typeof e.__u;r&&e.__u(),r&&null==t||(e.__u=e(t))}else e.current=t}catch(e){zi.__e(e,n)}}function Ps(e,t,n){var r,i;if(zi.unmount&&zi.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||Ss(r,null,t)),null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){zi.__e(e,t)}r.base=r.__P=null}if(r=e.__k)for(i=0;i<r.length;i++)r[i]&&Ps(r[i],t,n||"function"!=typeof e.type);n||rs(e.__e),e.__c=e.__=e.__e=void 0}function Es(e,t,n){return this.constructor(e,n)}function Ls(e,t,n){var r,i,s,a;t==document&&(t=document.documentElement),zi.__&&zi.__(e,t),i=(r="function"==typeof n)?null:n&&n.__k||t.__k,s=[],a=[],_s(t,e=(!r&&n||t).__k=is(os,null,[e]),i||Ji,Ji,t.namespaceURI,!r&&n?[n]:i?null:t.firstChild?Fi.call(t.childNodes):null,s,!r&&n?n:i?i.__e:t.firstChild,r,a),As(s,e,a)}function ws(e,t){Ls(e,t,ws)}function Is(e,t,n){var r,i,s,a,o=ns({},e.props);for(s in e.type&&e.type.defaultProps&&(a=e.type.defaultProps),t)"key"==s?r=t[s]:"ref"==s?i=t[s]:o[s]=void 0===t[s]&&void 0!==a?a[s]:t[s];return arguments.length>2&&(o.children=arguments.length>3?Fi.call(arguments,2):n),ss(e.type,o,r||e.key,i||e.ref,null)}function ks(e){function t(e){var n,r;return this.getChildContext||(n=new Set,(r={})[t.__c]=this,this.getChildContext=function(){return r},this.componentWillUnmount=function(){n=null},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&n.forEach((function(e){e.__e=!0,ds(e)}))},this.sub=function(e){n.add(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n&&n.delete(e),t&&t.call(e)}}),e.children}return t.__c="__cC"+Ki++,t.__=e,t.Provider=t.__l=(t.Consumer=function(e,t){return e.children(t)}).contextType=t,t}Fi=Qi.slice,zi={__e:function(e,t,n,r){for(var i,s,a;t=t.__;)if((i=t.__c)&&!i.__)try{if((s=i.constructor)&&null!=s.getDerivedStateFromError&&(i.setState(s.getDerivedStateFromError(e)),a=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(e,r||{}),a=i.__d),a)return i.__E=i}catch(t){e=t}throw e}},ji=0,ls.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=ns({},this.state),"function"==typeof e&&(e=e(ns({},n),this.props)),e&&ns(n,e),null!=e&&this.__v&&(t&&this._sb.push(t),ds(this))},ls.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),ds(this))},ls.prototype.render=os,Vi=[],Hi="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Wi=function(e,t){return e.__v.__b-t.__v.__b},ps.__r=0,qi=/(PointerCapture)$|Capture$/i,Xi=0,Yi=bs(!1),Zi=bs(!0),Ki=0;var Ns=0;function Ds(e,t,n,r,i,s){t||(t={});var a,o,l=t;if("ref"in l)for(o in l={},t)"ref"==o?a=t[o]:l[o]=t[o];var c={type:e,props:l,key:n,ref:a,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--Ns,__i:-1,__u:0,__source:i,__self:s};if("function"==typeof e&&(a=e.defaultProps))for(o in a)void 0===l[o]&&(l[o]=a[o]);return zi.vnode&&zi.vnode(c),c}var Ms,Bs,Os,Rs,xs=0,Ts=[],$s=zi,Gs=$s.__b,Fs=$s.__r,zs=$s.diffed,js=$s.__c,Vs=$s.unmount,Us=$s.__;function Hs(e,t){$s.__h&&$s.__h(Bs,e,xs||t),xs=0;var n=Bs.__H||(Bs.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function Ws(e){return xs=1,qs(ca,e)}function qs(e,t,n){var r=Hs(Ms++,2);if(r.t=e,!r.__c&&(r.__=[n?n(t):ca(void 0,t),function(e){var t=r.__N?r.__N[0]:r.__[0],n=r.t(t,e);t!==n&&(r.__N=[n,r.__[1]],r.__c.setState({}))}],r.__c=Bs,!Bs.__f)){var i=function(e,t,n){if(!r.__c.__H)return!0;var i=r.__c.__H.__.filter((function(e){return!!e.__c}));if(i.every((function(e){return!e.__N})))return!s||s.call(this,e,t,n);var a=r.__c.props!==e;return i.forEach((function(e){if(e.__N){var t=e.__[0];e.__=e.__N,e.__N=void 0,t!==e.__[0]&&(a=!0)}})),s&&s.call(this,e,t,n)||a};Bs.__f=!0;var s=Bs.shouldComponentUpdate,a=Bs.componentWillUpdate;Bs.componentWillUpdate=function(e,t,n){if(this.__e){var r=s;s=void 0,i(e,t,n),s=r}a&&a.call(this,e,t,n)},Bs.shouldComponentUpdate=i}return r.__N||r.__}function Xs(e,t){var n=Hs(Ms++,3);!$s.__s&&la(n.__H,t)&&(n.__=e,n.u=t,Bs.__H.__h.push(n))}function Ys(e,t){var n=Hs(Ms++,4);!$s.__s&&la(n.__H,t)&&(n.__=e,n.u=t,Bs.__h.push(n))}function Zs(e){return xs=5,Js((function(){return{current:e}}),[])}function Ks(e,t,n){xs=6,Ys((function(){if("function"==typeof e){var n=e(t());return function(){e(null),n&&"function"==typeof n&&n()}}if(e)return e.current=t(),function(){return e.current=null}}),null==n?n:n.concat(e))}function Js(e,t){var n=Hs(Ms++,7);return la(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function Qs(e,t){return xs=8,Js((function(){return e}),t)}function ea(e){var t=Bs.context[e.__c],n=Hs(Ms++,9);return n.c=e,t?(null==n.__&&(n.__=!0,t.sub(Bs)),t.props.value):e.__}function ta(e,t){$s.useDebugValue&&$s.useDebugValue(t?t(e):e)}function na(){var e=Hs(Ms++,11);if(!e.__){for(var t=Bs.__v;null!==t&&!t.__m&&null!==t.__;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__}function ra(){for(var e;e=Ts.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(aa),e.__H.__h.forEach(oa),e.__H.__h=[]}catch(t){e.__H.__h=[],$s.__e(t,e.__v)}}$s.__b=function(e){Bs=null,Gs&&Gs(e)},$s.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),Us&&Us(e,t)},$s.__r=function(e){Fs&&Fs(e),Ms=0;var t=(Bs=e.__c).__H;t&&(Os===Bs?(t.__h=[],Bs.__h=[],t.__.forEach((function(e){e.__N&&(e.__=e.__N),e.u=e.__N=void 0}))):(t.__h.forEach(aa),t.__h.forEach(oa),t.__h=[],Ms=0)),Os=Bs},$s.diffed=function(e){zs&&zs(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==Ts.push(t)&&Rs===$s.requestAnimationFrame||((Rs=$s.requestAnimationFrame)||sa)(ra)),t.__H.__.forEach((function(e){e.u&&(e.__H=e.u),e.u=void 0}))),Os=Bs=null},$s.__c=function(e,t){t.some((function(e){try{e.__h.forEach(aa),e.__h=e.__h.filter((function(e){return!e.__||oa(e)}))}catch(n){t.some((function(e){e.__h&&(e.__h=[])})),t=[],$s.__e(n,e.__v)}})),js&&js(e,t)},$s.unmount=function(e){Vs&&Vs(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach((function(e){try{aa(e)}catch(e){t=e}})),n.__H=void 0,t&&$s.__e(t,n.__v))};var ia="function"==typeof requestAnimationFrame;function sa(e){var t,n=function(){clearTimeout(r),ia&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);ia&&(t=requestAnimationFrame(n))}function aa(e){var t=Bs,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),Bs=t}function oa(e){var t=Bs;e.__c=e.__(),Bs=t}function la(e,t){return!e||e.length!==t.length||t.some((function(t,n){return t!==e[n]}))}function ca(e,t){return"function"==typeof t?t(e):t}function ua(e,t){for(var n in t)e[n]=t[n];return e}function da(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var r in t)if("__source"!==r&&e[r]!==t[r])return!0;return!1}function pa(e,t){var n=t(),r=Ws({t:{__:n,u:t}}),i=r[0].t,s=r[1];return Ys((function(){i.__=n,i.u=t,ha(i)&&s({t:i})}),[e,n,t]),Xs((function(){return ha(i)&&s({t:i}),e((function(){ha(i)&&s({t:i})}))}),[e]),n}function ha(e){var t,n,r=e.u,i=e.__;try{var s=r();return!((t=i)===(n=s)&&(0!==t||1/t==1/n)||t!=t&&n!=n)}catch(e){return!0}}function ma(e){e()}function fa(e){return e}function ga(){return[!1,ma]}var ya=Ys;function va(e,t){this.props=e,this.context=t}function ba(e,t){function n(e){var n=this.props.ref,r=n==e.ref;return!r&&n&&(n.call?n(null):n.current=null),t?!t(this.props,e)||!r:da(this.props,e)}function r(t){return this.shouldComponentUpdate=n,is(e,t)}return r.displayName="Memo("+(e.displayName||e.name)+")",r.prototype.isReactComponent=!0,r.__f=!0,r}(va.prototype=new ls).isPureReactComponent=!0,va.prototype.shouldComponentUpdate=function(e,t){return da(this.props,e)||da(this.state,t)};var _a=zi.__b;zi.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),_a&&_a(e)};var Aa="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Ca(e){function t(t){var n=ua({},t);return delete n.ref,e(n,t.ref||null)}return t.$$typeof=Aa,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}var Sa=function(e,t){return null==e?null:fs(fs(e).map(t))},Pa={map:Sa,forEach:Sa,count:function(e){return e?fs(e).length:0},only:function(e){var t=fs(e);if(1!==t.length)throw"Children.only";return t[0]},toArray:fs},Ea=zi.__e;zi.__e=function(e,t,n,r){if(e.then)for(var i,s=t;s=s.__;)if((i=s.__c)&&i.__c)return null==t.__e&&(t.__e=n.__e,t.__k=n.__k),i.__c(e,t);Ea(e,t,n,r)};var La=zi.unmount;function wa(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach((function(e){"function"==typeof e.__c&&e.__c()})),e.__c.__H=null),null!=(e=ua({},e)).__c&&(e.__c.__P===n&&(e.__c.__P=t),e.__c=null),e.__k=e.__k&&e.__k.map((function(e){return wa(e,t,n)}))),e}function Ia(e,t,n){return e&&n&&(e.__v=null,e.__k=e.__k&&e.__k.map((function(e){return Ia(e,t,n)})),e.__c&&e.__c.__P===t&&(e.__e&&n.appendChild(e.__e),e.__c.__e=!0,e.__c.__P=n)),e}function ka(){this.__u=0,this.o=null,this.__b=null}function Na(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function Da(e){var t,n,r;function i(i){if(t||(t=e()).then((function(e){n=e.default||e}),(function(e){r=e})),r)throw r;if(!n)throw t;return is(n,i)}return i.displayName="Lazy",i.__f=!0,i}function Ma(){this.i=null,this.l=null}zi.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&32&e.__u&&(e.type=null),La&&La(e)},(ka.prototype=new ls).__c=function(e,t){var n=t.__c,r=this;null==r.o&&(r.o=[]),r.o.push(n);var i=Na(r.__v),s=!1,a=function(){s||(s=!0,n.__R=null,i?i(o):o())};n.__R=a;var o=function(){if(! --r.__u){if(r.state.__a){var e=r.state.__a;r.__v.__k[0]=Ia(e,e.__c.__P,e.__c.__O)}var t;for(r.setState({__a:r.__b=null});t=r.o.pop();)t.forceUpdate()}};r.__u++||32&t.__u||r.setState({__a:r.__b=r.__v.__k[0]}),e.then(a,a)},ka.prototype.componentWillUnmount=function(){this.o=[]},ka.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=wa(this.__b,n,r.__O=r.__P)}this.__b=null}var i=t.__a&&is(os,null,e.fallback);return i&&(i.__u&=-33),[is(os,null,t.__a?null:e.children),i]};var Ba=function(e,t,n){if(++n[1]===n[0]&&e.l.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.l.size))for(n=e.i;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.i=n=n[2]}};function Oa(e){return this.getChildContext=function(){return e.context},e.children}function Ra(e){var t=this,n=e.h;t.componentWillUnmount=function(){Ls(null,t.v),t.v=null,t.h=null},t.h&&t.h!==n&&t.componentWillUnmount(),t.v||(t.h=n,t.v={nodeType:1,parentNode:n,childNodes:[],contains:function(){return!0},appendChild:function(e){this.childNodes.push(e),t.h.appendChild(e)},insertBefore:function(e,n){this.childNodes.push(e),t.h.insertBefore(e,n)},removeChild:function(e){this.childNodes.splice(this.childNodes.indexOf(e)>>>1,1),t.h.removeChild(e)}}),Ls(is(Oa,{context:t.context},e.__v),t.v)}function xa(e,t){var n=is(Ra,{__v:e,h:t});return n.containerInfo=t,n}(Ma.prototype=new ls).__a=function(e){var t=this,n=Na(t.__v),r=t.l.get(e);return r[0]++,function(i){var s=function(){t.props.revealOrder?(r.push(i),Ba(t,e,r)):i()};n?n(s):s()}},Ma.prototype.render=function(e){this.i=null,this.l=new Map;var t=fs(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.l.set(t[n],this.i=[1,0,this.i]);return e.children},Ma.prototype.componentDidUpdate=Ma.prototype.componentDidMount=function(){var e=this;this.l.forEach((function(t,n){Ba(e,n,t)}))};var Ta="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,$a=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Ga=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,Fa=/[A-Z0-9]/g,za="undefined"!=typeof document,ja=function(e){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/:/fil|che|ra/).test(e)};function Va(e,t,n){return null==t.__k&&(t.textContent=""),Ls(e,t),"function"==typeof n&&n(),e?e.__c:null}function Ua(e,t,n){return ws(e,t),"function"==typeof n&&n(),e?e.__c:null}ls.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(e){Object.defineProperty(ls.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})}));var Ha=zi.event;function Wa(){}function qa(){return this.cancelBubble}function Xa(){return this.defaultPrevented}zi.event=function(e){return Ha&&(e=Ha(e)),e.persist=Wa,e.isPropagationStopped=qa,e.isDefaultPrevented=Xa,e.nativeEvent=e};var Ya,Za={enumerable:!1,configurable:!0,get:function(){return this.class}},Ka=zi.vnode;zi.vnode=function(e){"string"==typeof e.type&&function(e){var t=e.props,n=e.type,r={},i=-1===n.indexOf("-");for(var s in t){var a=t[s];if(!("value"===s&&"defaultValue"in t&&null==a||za&&"children"===s&&"noscript"===n||"class"===s||"className"===s)){var o=s.toLowerCase();"defaultValue"===s&&"value"in t&&null==t.value?s="value":"download"===s&&!0===a?a="":"translate"===o&&"no"===a?a=!1:"o"===o[0]&&"n"===o[1]?"ondoubleclick"===o?s="ondblclick":"onchange"!==o||"input"!==n&&"textarea"!==n||ja(t.type)?"onfocus"===o?s="onfocusin":"onblur"===o?s="onfocusout":Ga.test(s)&&(s=o):o=s="oninput":i&&$a.test(s)?s=s.replace(Fa,"-$&").toLowerCase():null===a&&(a=void 0),"oninput"===o&&r[s=o]&&(s="oninputCapture"),r[s]=a}}"select"==n&&r.multiple&&Array.isArray(r.value)&&(r.value=fs(t.children).forEach((function(e){e.props.selected=-1!=r.value.indexOf(e.props.value)}))),"select"==n&&null!=r.defaultValue&&(r.value=fs(t.children).forEach((function(e){e.props.selected=r.multiple?-1!=r.defaultValue.indexOf(e.props.value):r.defaultValue==e.props.value}))),t.class&&!t.className?(r.class=t.class,Object.defineProperty(r,"className",Za)):(t.className&&!t.class||t.class&&t.className)&&(r.class=r.className=t.className),e.props=r}(e),e.$$typeof=Ta,Ka&&Ka(e)};var Ja=zi.__r;zi.__r=function(e){Ja&&Ja(e),Ya=e.__c};var Qa=zi.diffed;zi.diffed=function(e){Qa&&Qa(e);var t=e.props,n=e.__e;null!=n&&"textarea"===e.type&&"value"in t&&t.value!==n.value&&(n.value=null==t.value?"":t.value),Ya=null};var eo={ReactCurrentDispatcher:{current:{readContext:function(e){return Ya.__n[e.__c].props.value},useCallback:Qs,useContext:ea,useDebugValue:ta,useDeferredValue:fa,useEffect:Xs,useId:na,useImperativeHandle:Ks,useInsertionEffect:ya,useLayoutEffect:Ys,useMemo:Js,useReducer:qs,useRef:Zs,useState:Ws,useSyncExternalStore:pa,useTransition:ga}}};function to(e){return is.bind(null,e)}function no(e){return!!e&&e.$$typeof===Ta}function ro(e){return no(e)&&e.type===os}function io(e){return!!e&&!!e.displayName&&("string"==typeof e.displayName||e.displayName instanceof String)&&e.displayName.startsWith("Memo(")}function so(e){return no(e)?Is.apply(null,arguments):e}function ao(e){return!!e.__k&&(Ls(null,e),!0)}function oo(e){return e&&(e.base||1===e.nodeType&&e)||null}var lo=function(e,t){return e(t)},co=function(e,t){return e(t)},uo=os,po=no,ho={useState:Ws,useId:na,useReducer:qs,useEffect:Xs,useLayoutEffect:Ys,useInsertionEffect:ya,useTransition:ga,useDeferredValue:fa,useSyncExternalStore:pa,startTransition:ma,useRef:Zs,useImperativeHandle:Ks,useMemo:Js,useCallback:Qs,useContext:ea,useDebugValue:ta,version:"18.3.1",Children:Pa,render:Va,hydrate:Ua,unmountComponentAtNode:ao,createPortal:xa,createElement:is,createContext:ks,createFactory:to,cloneElement:so,createRef:as,Fragment:os,isValidElement:no,isElement:po,isFragment:ro,isMemo:io,findDOMNode:oo,Component:ls,PureComponent:va,memo:ba,forwardRef:Ca,flushSync:co,unstable_batchedUpdates:lo,StrictMode:uo,Suspense:ka,SuspenseList:Ma,lazy:Da,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:eo},mo=Object.freeze({__proto__:null,Children:Pa,Component:ls,Fragment:os,PureComponent:va,StrictMode:uo,Suspense:ka,SuspenseList:Ma,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:eo,cloneElement:so,createContext:ks,createElement:is,createFactory:to,createPortal:xa,createRef:as,default:ho,findDOMNode:oo,flushSync:co,forwardRef:Ca,hydrate:Ua,isElement:po,isFragment:ro,isMemo:io,isValidElement:no,lazy:Da,memo:ba,render:Va,startTransition:ma,unmountComponentAtNode:ao,unstable_batchedUpdates:lo,useCallback:Qs,useContext:ea,useDebugValue:ta,useDeferredValue:fa,useEffect:Xs,useErrorBoundary:function(e){var t=Hs(Ms++,10),n=Ws();return t.__=e,Bs.componentDidCatch||(Bs.componentDidCatch=function(e,r){t.__&&t.__(e,r),n[1](e)}),[n[0],function(){n[1](void 0)}]},useId:na,useImperativeHandle:Ks,useInsertionEffect:ya,useLayoutEffect:Ys,useMemo:Js,useReducer:qs,useRef:Zs,useState:Ws,useSyncExternalStore:pa,useTransition:ga,version:"18.3.1"}),fo=function(){return fo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},fo.apply(this,arguments)};function go(e,t,n){if(n||2===arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}"function"==typeof SuppressedError&&SuppressedError;var yo=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/;!function(e){var t=Object.create(null)}((function(e){return yo.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));Ht((function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var s=Object.keys(e),a=Object.keys(t);if(s.length!==a.length)return!1;for(var o=Object.prototype.hasOwnProperty.bind(t),l=0;l<s.length;l++){var c=s[l];if(!o(c))return!1;var u=e[c],d=t[c];if(!1===(i=n?n.call(r,u,d,c):void 0)||void 0===i&&u!==d)return!1}return!0}));var vo="-ms-",bo="-moz-",_o="-webkit-",Ao="comm",Co="rule",So="decl",Po="@import",Eo="@keyframes",Lo="@layer",wo=Math.abs,Io=String.fromCharCode,ko=Object.assign;function No(e){return e.trim()}function Do(e,t){return(e=t.exec(e))?e[0]:e}function Mo(e,t,n){return e.replace(t,n)}function Bo(e,t,n){return e.indexOf(t,n)}function Oo(e,t){return 0|e.charCodeAt(t)}function Ro(e,t,n){return e.slice(t,n)}function xo(e){return e.length}function To(e){return e.length}function $o(e,t){return t.push(e),e}function Go(e,t){return e.filter((function(e){return!Do(e,t)}))}var Fo=1,zo=1,jo=0,Vo=0,Uo=0,Ho="";function Wo(e,t,n,r,i,s,a,o){return{value:e,root:t,parent:n,type:r,props:i,children:s,line:Fo,column:zo,length:a,return:"",siblings:o}}function qo(e,t){return ko(Wo("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function Xo(e){for(;e.root;)e=qo(e.root,{children:[e]});$o(e,e.siblings)}function Yo(){return Uo=Vo<jo?Oo(Ho,Vo++):0,zo++,10===Uo&&(zo=1,Fo++),Uo}function Zo(){return Oo(Ho,Vo)}function Ko(){return Vo}function Jo(e,t){return Ro(Ho,e,t)}function Qo(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function el(e){return No(Jo(Vo-1,rl(91===e?e+2:40===e?e+1:e)))}function tl(e){for(;(Uo=Zo())&&Uo<33;)Yo();return Qo(e)>2||Qo(Uo)>3?"":" "}function nl(e,t){for(;--t&&Yo()&&!(Uo<48||Uo>102||Uo>57&&Uo<65||Uo>70&&Uo<97););return Jo(e,Ko()+(t<6&&32==Zo()&&32==Yo()))}function rl(e){for(;Yo();)switch(Uo){case e:return Vo;case 34:case 39:34!==e&&39!==e&&rl(Uo);break;case 40:41===e&&rl(e);break;case 92:Yo()}return Vo}function il(e,t){for(;Yo()&&e+Uo!==57&&(e+Uo!==84||47!==Zo()););return"/*"+Jo(t,Vo-1)+"*"+Io(47===e?e:Yo())}function sl(e){for(;!Qo(Zo());)Yo();return Jo(e,Vo)}function al(e){return function(e){return Ho="",e}(ol("",null,null,null,[""],e=function(e){return Fo=zo=1,jo=xo(Ho=e),Vo=0,[]}(e),0,[0],e))}function ol(e,t,n,r,i,s,a,o,l){for(var c=0,u=0,d=a,p=0,h=0,m=0,f=1,g=1,y=1,v=0,b="",_=i,A=s,C=r,S=b;g;)switch(m=v,v=Yo()){case 40:if(108!=m&&58==Oo(S,d-1)){-1!=Bo(S+=Mo(el(v),"&","&\f"),"&\f",wo(c?o[c-1]:0))&&(y=-1);break}case 34:case 39:case 91:S+=el(v);break;case 9:case 10:case 13:case 32:S+=tl(m);break;case 92:S+=nl(Ko()-1,7);continue;case 47:switch(Zo()){case 42:case 47:$o(cl(il(Yo(),Ko()),t,n,l),l);break;default:S+="/"}break;case 123*f:o[c++]=xo(S)*y;case 125*f:case 59:case 0:switch(v){case 0:case 125:g=0;case 59+u:-1==y&&(S=Mo(S,/\f/g,"")),h>0&&xo(S)-d&&$o(h>32?ul(S+";",r,n,d-1,l):ul(Mo(S," ","")+";",r,n,d-2,l),l);break;case 59:S+=";";default:if($o(C=ll(S,t,n,c,u,i,o,b,_=[],A=[],d,s),s),123===v)if(0===u)ol(S,t,C,C,_,s,d,o,A);else switch(99===p&&110===Oo(S,3)?100:p){case 100:case 108:case 109:case 115:ol(e,C,C,r&&$o(ll(e,C,C,0,0,i,o,b,i,_=[],d,A),A),i,A,d,o,r?_:A);break;default:ol(S,C,C,C,[""],A,0,o,A)}}c=u=h=0,f=y=1,b=S="",d=a;break;case 58:d=1+xo(S),h=m;default:if(f<1)if(123==v)--f;else if(125==v&&0==f++&&125==(Uo=Vo>0?Oo(Ho,--Vo):0,zo--,10===Uo&&(zo=1,Fo--),Uo))continue;switch(S+=Io(v),v*f){case 38:y=u>0?1:(S+="\f",-1);break;case 44:o[c++]=(xo(S)-1)*y,y=1;break;case 64:45===Zo()&&(S+=el(Yo())),p=Zo(),u=d=xo(b=S+=sl(Ko())),v++;break;case 45:45===m&&2==xo(S)&&(f=0)}}return s}function ll(e,t,n,r,i,s,a,o,l,c,u,d){for(var p=i-1,h=0===i?s:[""],m=To(h),f=0,g=0,y=0;f<r;++f)for(var v=0,b=Ro(e,p+1,p=wo(g=a[f])),_=e;v<m;++v)(_=No(g>0?h[v]+" "+b:Mo(b,/&\f/g,h[v])))&&(l[y++]=_);return Wo(e,t,n,0===i?Co:o,l,c,u,d)}function cl(e,t,n,r){return Wo(e,t,n,Ao,Io(Uo),Ro(e,2,-2),0,r)}function ul(e,t,n,r,i){return Wo(e,t,n,So,Ro(e,0,r),Ro(e,r+1,-1),r,i)}function dl(e,t,n){switch(function(e,t){return 45^Oo(e,0)?(((t<<2^Oo(e,0))<<2^Oo(e,1))<<2^Oo(e,2))<<2^Oo(e,3):0}(e,t)){case 5103:return _o+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return _o+e+e;case 4789:return bo+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return _o+e+bo+e+vo+e+e;case 5936:switch(Oo(e,t+11)){case 114:return _o+e+vo+Mo(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return _o+e+vo+Mo(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return _o+e+vo+Mo(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return _o+e+vo+e+e;case 6165:return _o+e+vo+"flex-"+e+e;case 5187:return _o+e+Mo(e,/(\w+).+(:[^]+)/,_o+"box-$1$2"+vo+"flex-$1$2")+e;case 5443:return _o+e+vo+"flex-item-"+Mo(e,/flex-|-self/g,"")+(Do(e,/flex-|baseline/)?"":vo+"grid-row-"+Mo(e,/flex-|-self/g,""))+e;case 4675:return _o+e+vo+"flex-line-pack"+Mo(e,/align-content|flex-|-self/g,"")+e;case 5548:return _o+e+vo+Mo(e,"shrink","negative")+e;case 5292:return _o+e+vo+Mo(e,"basis","preferred-size")+e;case 6060:return _o+"box-"+Mo(e,"-grow","")+_o+e+vo+Mo(e,"grow","positive")+e;case 4554:return _o+Mo(e,/([^-])(transform)/g,"$1"+_o+"$2")+e;case 6187:return Mo(Mo(Mo(e,/(zoom-|grab)/,_o+"$1"),/(image-set)/,_o+"$1"),e,"")+e;case 5495:case 3959:return Mo(e,/(image-set\([^]*)/,_o+"$1$`$1");case 4968:return Mo(Mo(e,/(.+:)(flex-)?(.*)/,_o+"box-pack:$3"+vo+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+_o+e+e;case 4200:if(!Do(e,/flex-|baseline/))return vo+"grid-column-align"+Ro(e,t)+e;break;case 2592:case 3360:return vo+Mo(e,"template-","")+e;case 4384:case 3616:return n&&n.some((function(e,n){return t=n,Do(e.props,/grid-\w+-end/)}))?~Bo(e+(n=n[t].value),"span",0)?e:vo+Mo(e,"-start","")+e+vo+"grid-row-span:"+(~Bo(n,"span",0)?Do(n,/\d+/):+Do(n,/\d+/)-+Do(e,/\d+/))+";":vo+Mo(e,"-start","")+e;case 4896:case 4128:return n&&n.some((function(e){return Do(e.props,/grid-\w+-start/)}))?e:vo+Mo(Mo(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return Mo(e,/(.+)-inline(.+)/,_o+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(xo(e)-1-t>6)switch(Oo(e,t+1)){case 109:if(45!==Oo(e,t+4))break;case 102:return Mo(e,/(.+:)(.+)-([^]+)/,"$1"+_o+"$2-$3$1"+bo+(108==Oo(e,t+3)?"$3":"$2-$3"))+e;case 115:return~Bo(e,"stretch",0)?dl(Mo(e,"stretch","fill-available"),t,n)+e:e}break;case 5152:case 5920:return Mo(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,(function(t,n,r,i,s,a,o){return vo+n+":"+r+o+(i?vo+n+"-span:"+(s?a:+a-+r)+o:"")+e}));case 4949:if(121===Oo(e,t+6))return Mo(e,":",":"+_o)+e;break;case 6444:switch(Oo(e,45===Oo(e,14)?18:11)){case 120:return Mo(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+_o+(45===Oo(e,14)?"inline-":"")+"box$3$1"+_o+"$2$3$1"+vo+"$2box$3")+e;case 100:return Mo(e,":",":"+vo)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Mo(e,"scroll-","scroll-snap-")+e}return e}function pl(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function hl(e,t,n,r){switch(e.type){case Lo:if(e.children.length)break;case Po:case So:return e.return=e.return||e.value;case Ao:return"";case Eo:return e.return=e.value+"{"+pl(e.children,r)+"}";case Co:if(!xo(e.value=e.props.join(",")))return""}return xo(n=pl(e.children,r))?e.return=e.value+"{"+n+"}":""}function ml(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case So:return void(e.return=dl(e.value,e.length,n));case Eo:return pl([qo(e,{value:Mo(e.value,"@","@"+_o)})],r);case Co:if(e.length)return function(e,t){return e.map(t).join("")}(n=e.props,(function(t){switch(Do(t,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Xo(qo(e,{props:[Mo(t,/:(read-\w+)/,":"+bo+"$1")]})),Xo(qo(e,{props:[t]})),ko(e,{props:Go(n,r)});break;case"::placeholder":Xo(qo(e,{props:[Mo(t,/:(plac\w+)/,":"+_o+"input-$1")]})),Xo(qo(e,{props:[Mo(t,/:(plac\w+)/,":"+bo+"$1")]})),Xo(qo(e,{props:[Mo(t,/:(plac\w+)/,vo+"input-$1")]})),Xo(qo(e,{props:[t]})),ko(e,{props:Go(n,r)})}return""}))}}var fl={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},gl="undefined"!=typeof process&&void 0!==process.env&&(process.env.REACT_APP_SC_ATTR||process.env.SC_ATTR)||"data-styled",yl="active",vl="data-styled-version",bl="6.1.19",_l="/*!sc*/\n",Al="undefined"!=typeof window&&"undefined"!=typeof document,Cl=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!==process.env&&void 0!==process.env.REACT_APP_SC_DISABLE_SPEEDY&&""!==process.env.REACT_APP_SC_DISABLE_SPEEDY?"false"!==process.env.REACT_APP_SC_DISABLE_SPEEDY&&process.env.REACT_APP_SC_DISABLE_SPEEDY:"undefined"==typeof process||void 0===process.env||void 0===process.env.SC_DISABLE_SPEEDY||""===process.env.SC_DISABLE_SPEEDY||"false"!==process.env.SC_DISABLE_SPEEDY&&process.env.SC_DISABLE_SPEEDY),Sl=/invalid hook call/i,Pl=new Set,El=Object.freeze([]),Ll=Object.freeze({});var wl=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),Il=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,kl=/(^-|-$)/g;function Nl(e){return e.replace(Il,"-").replace(kl,"")}var Dl=/(a)(d)/gi,Ml=52,Bl=function(e){return String.fromCharCode(e+(e>25?39:97))};function Ol(e){var t,n="";for(t=Math.abs(e);t>Ml;t=t/Ml|0)n=Bl(t%Ml)+n;return(Bl(t%Ml)+n).replace(Dl,"$1-$2")}var Rl,xl=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},Tl=function(e){return xl(5381,e)};function $l(e){return"string"==typeof e&&e||e.displayName||e.name||"Component"}function Gl(e){return"string"==typeof e&&e.charAt(0)===e.charAt(0).toLowerCase()}var Fl="function"==typeof Symbol&&Symbol.for,zl=Fl?Symbol.for("react.memo"):60115,jl=Fl?Symbol.for("react.forward_ref"):60112,Vl={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Ul={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Hl={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Wl=((Rl={})[jl]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Rl[zl]=Hl,Rl);function ql(e){return("type"in(t=e)&&t.type.$$typeof)===zl?Hl:"$$typeof"in e?Wl[e.$$typeof]:Vl;var t}var Xl=Object.defineProperty,Yl=Object.getOwnPropertyNames,Zl=Object.getOwnPropertySymbols,Kl=Object.getOwnPropertyDescriptor,Jl=Object.getPrototypeOf,Ql=Object.prototype;function ec(e,t,n){if("string"!=typeof t){if(Ql){var r=Jl(t);r&&r!==Ql&&ec(e,r,n)}var i=Yl(t);Zl&&(i=i.concat(Zl(t)));for(var s=ql(e),a=ql(t),o=0;o<i.length;++o){var l=i[o];if(!(l in Ul||n&&n[l]||a&&l in a||s&&l in s)){var c=Kl(t,l);try{Xl(e,l,c)}catch(e){}}}}return e}function tc(e){return"function"==typeof e}function nc(e){return"object"==typeof e&&"styledComponentId"in e}function rc(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function ic(e,t){if(0===e.length)return"";for(var n=e[0],r=1;r<e.length;r++)n+=t?t+e[r]:e[r];return n}function sc(e){return null!==e&&"object"==typeof e&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function ac(e,t,n){if(void 0===n&&(n=!1),!n&&!sc(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)e[r]=ac(e[r],t[r]);else if(sc(t))for(var r in t)e[r]=ac(e[r],t[r]);return e}function oc(e,t){Object.defineProperty(e,"toString",{value:t})}var lc={1:"Cannot create styled-component for component: %s.\n\n",2:"Can't collect styles once you've consumed a `ServerStyleSheet`'s styles! `ServerStyleSheet` is a one off instance for each server-side render cycle.\n\n- Are you trying to reuse it across renders?\n- Are you accidentally calling collectStyles twice?\n\n",3:"Streaming SSR is only supported in a Node.js environment; Please do not try to call this method in the browser.\n\n",4:"The `StyleSheetManager` expects a valid target or sheet prop!\n\n- Does this error occur on the client and is your target falsy?\n- Does this error occur on the server and is the sheet falsy?\n\n",5:"The clone method cannot be used on the client!\n\n- Are you running in a client-like environment on the server?\n- Are you trying to run SSR on the client?\n\n",6:"Trying to insert a new style tag, but the given Node is unmounted!\n\n- Are you using a custom target that isn't mounted?\n- Does your document not have a valid head element?\n- Have you accidentally removed a style tag manually?\n\n",7:'ThemeProvider: Please return an object from your "theme" prop function, e.g.\n\n```js\ntheme={() => ({})}\n```\n\n',8:'ThemeProvider: Please make your "theme" prop an object.\n\n',9:"Missing document `<head>`\n\n",10:"Cannot find a StyleSheet instance. Usually this happens if there are multiple copies of styled-components/dist/styled-components.browser.esm.js/dist/styled-components.browser.esm.js loaded at once. Check out this issue for how to troubleshoot and fix the common cases where this situation can happen: https://github.com/styled-components/dist/styled-components.browser.esm.js/dist/styled-components.browser.esm.js/styled-components/dist/styled-components.browser.esm.js/dist/styled-components.browser.esm.js/issues/1941#issuecomment-417862021\n\n",11:"_This error was replaced with a dev-time warning, it will be deleted for v4 final._ [createGlobalStyle] received children which will not be rendered. Please use the component without passing children elements.\n\n",12:"It seems you are interpolating a keyframe declaration (%s) into an untagged string. This was supported in styled-components/dist/styled-components.browser.esm.js/dist/styled-components.browser.esm.js v3, but is not longer supported in v4 as keyframes are now injected on-demand. Please wrap your string in the css\\`\\` helper which ensures the styles are injected correctly. See https://www.styled-components.com/docs/api#css\n\n",13:"%s is not a styled component and cannot be referred to via component selector. See https://www.styled-components.com/docs/advanced#referring-to-other-components for more details.\n\n",14:'ThemeProvider: "theme" prop is required.\n\n',15:"A stylis plugin has been supplied that is not named. We need a name for each plugin to be able to prevent styling collisions between different stylis configurations within the same app. Before you pass your plugin to `<StyleSheetManager stylisPlugins={[]}>`, please make sure each plugin is uniquely-named, e.g.\n\n```js\nObject.defineProperty(importedPlugin, 'name', { value: 'some-unique-name' });\n```\n\n",16:"Reached the limit of how many styled components may be created at group %s.\nYou may only create up to 1,073,741,824 components. If you're creating components dynamically,\nas for instance in your render method then you may be running into this limitation.\n\n",17:"CSSStyleSheet could not be found on HTMLStyleElement.\nHas styled-components/dist/styled-components.browser.esm.js/dist/styled-components.browser.esm.js' style tag been unmounted or altered by another script?\n",18:"ThemeProvider: Please make sure your useTheme hook is within a `<ThemeProvider>`"};function cc(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=e[0],r=[],i=1,s=e.length;i<s;i+=1)r.push(e[i]);return r.forEach((function(e){n=n.replace(/%[a-z]/,e)})),n}function uc(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new Error(cc.apply(void 0,go([lc[e]],t,!1)).trim())}var dc=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return e.prototype.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},e.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)if((i<<=1)<0)throw uc(16,"".concat(e));this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var s=r;s<i;s++)this.groupSizes[s]=0}for(var a=this.indexOfGroup(e+1),o=(s=0,t.length);s<o;s++)this.tag.insertRule(a,t[s])&&(this.groupSizes[e]++,a++)},e.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},e.prototype.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,s=r;s<i;s++)t+="".concat(this.tag.getRule(s)).concat(_l);return t},e}(),pc=1<<30,hc=new Map,mc=new Map,fc=1,gc=function(e){if(hc.has(e))return hc.get(e);for(;mc.has(fc);)fc++;var t=fc++;if((0|t)<0||t>pc)throw uc(16,"".concat(t));return hc.set(e,t),mc.set(t,e),t},yc=function(e,t){fc=t+1,hc.set(e,t),mc.set(t,e)},vc="style[".concat(gl,"][").concat(vl,'="').concat(bl,'"]'),bc=new RegExp("^".concat(gl,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),_c=function(e,t,n){for(var r,i=n.split(","),s=0,a=i.length;s<a;s++)(r=i[s])&&e.registerName(t,r)},Ac=function(e,t){for(var n,r=(null!==(n=t.textContent)&&void 0!==n?n:"").split(_l),i=[],s=0,a=r.length;s<a;s++){var o=r[s].trim();if(o){var l=o.match(bc);if(l){var c=0|parseInt(l[1],10),u=l[2];0!==c&&(yc(u,c),_c(e,u,l[3]),e.getTag().insertRules(c,i)),i.length=0}else i.push(o)}}},Cc=function(e){for(var t=document.querySelectorAll(vc),n=0,r=t.length;n<r;n++){var i=t[n];i&&i.getAttribute(gl)!==yl&&(Ac(e,i),i.parentNode&&i.parentNode.removeChild(i))}};var Sc=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){var t=Array.from(e.querySelectorAll("style[".concat(gl,"]")));return t[t.length-1]}(n),s=void 0!==i?i.nextSibling:null;r.setAttribute(gl,yl),r.setAttribute(vl,bl);var a="undefined"!=typeof __webpack_nonce__?__webpack_nonce__:null;return a&&r.setAttribute("nonce",a),n.insertBefore(r,s),r},Pc=function(){function e(e){this.element=Sc(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}throw uc(17)}(this.element),this.length=0}return e.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},e.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},e.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:""},e}(),Ec=function(){function e(e){this.element=Sc(e),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t);return this.element.insertBefore(n,this.nodes[e]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},e.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),Lc=function(){function e(e){this.rules=[],this.length=0}return e.prototype.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},e.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},e.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),wc=Al,Ic={isServer:!Al,useCSSOMInjection:!Cl},kc=function(){function e(e,t,n){void 0===e&&(e=Ll),void 0===t&&(t={});var r=this;this.options=fo(fo({},Ic),e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&Al&&wc&&(wc=!1,Cc(this)),oc(this,(function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=function(n){var i=function(e){return mc.get(e)}(n);if(void 0===i)return"continue";var s=e.names.get(i),a=t.getGroup(n);if(void 0===s||!s.size||0===a.length)return"continue";var o="".concat(gl,".g").concat(n,'[id="').concat(i,'"]'),l="";void 0!==s&&s.forEach((function(e){e.length>0&&(l+="".concat(e,","))})),r+="".concat(a).concat(o,'{content:"').concat(l,'"}').concat(_l)},s=0;s<n;s++)i(s);return r}(r)}))}return e.registerId=function(e){return gc(e)},e.prototype.rehydrate=function(){!this.server&&Al&&Cc(this)},e.prototype.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(fo(fo({},this.options),t),this.gs,n&&this.names||void 0)},e.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(e=function(e){var t=e.useCSSOMInjection,n=e.target;return e.isServer?new Lc(n):t?new Pc(n):new Ec(n)}(this.options),new dc(e)));var e},e.prototype.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},e.prototype.registerName=function(e,t){if(gc(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},e.prototype.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(gc(e),n)},e.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},e.prototype.clearRules=function(e){this.getTag().clearGroup(gc(e)),this.clearNames(e)},e.prototype.clearTag=function(){this.tag=void 0},e}(),Nc=/&/g,Dc=/^\s*\/\/.*$/gm;function Mc(e,t){return e.map((function(e){return"rule"===e.type&&(e.value="".concat(t," ").concat(e.value),e.value=e.value.replaceAll(",",",".concat(t," ")),e.props=e.props.map((function(e){return"".concat(t," ").concat(e)}))),Array.isArray(e.children)&&"@keyframes"!==e.type&&(e.children=Mc(e.children,t)),e}))}var Bc=new kc,Oc=function(e){var t,n,r,i=void 0===e?Ll:e,s=i.options,a=void 0===s?Ll:s,o=i.plugins,l=void 0===o?El:o,c=function(e,r,i){return i.startsWith(n)&&i.endsWith(n)&&i.replaceAll(n,"").length>0?".".concat(t):e},u=l.slice();u.push((function(e){e.type===Co&&e.value.includes("&")&&(e.props[0]=e.props[0].replace(Nc,n).replace(r,c))})),a.prefix&&u.push(ml),u.push(hl);var d=function(e,i,s,o){void 0===i&&(i=""),void 0===s&&(s=""),void 0===o&&(o="&"),t=o,n=i,r=new RegExp("\\".concat(n,"\\b"),"g");var l=e.replace(Dc,""),c=al(s||i?"".concat(s," ").concat(i," { ").concat(l," }"):l);a.namespace&&(c=Mc(c,a.namespace));var d,p=[];return pl(c,function(e){var t=To(e);return function(n,r,i,s){for(var a="",o=0;o<t;o++)a+=e[o](n,r,i,s)||"";return a}}(u.concat((d=function(e){return p.push(e)},function(e){e.root||(e=e.return)&&d(e)})))),p};return d.hash=l.length?l.reduce((function(e,t){return t.name||uc(15),xl(e,t.name)}),5381).toString():"",d}(),Rc=ho.createContext({shouldForwardProp:void 0,styleSheet:Bc,stylis:Oc});function xc(){return ea(Rc)}Rc.Consumer,ho.createContext(void 0);var Tc=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=Oc);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=t,oc(this,(function(){throw uc(12,String(n.name))}))}return e.prototype.getName=function(e){return void 0===e&&(e=Oc),this.name+e.hash},e}(),$c=function(e){return e>="A"&&e<="Z"};function Gc(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if(1===n&&"-"===r&&"-"===e[0])return e;$c(r)?t+="-"+r.toLowerCase():t+=r}return t.startsWith("ms-")?"-"+t:t}var Fc=function(e){return null==e||!1===e||""===e},zc=function(e){var t,n,r=[];for(var i in e){var s=e[i];e.hasOwnProperty(i)&&!Fc(s)&&(Array.isArray(s)&&s.isCss||tc(s)?r.push("".concat(Gc(i),":"),s,";"):sc(s)?r.push.apply(r,go(go(["".concat(i," {")],zc(s),!1),["}"],!1)):r.push("".concat(Gc(i),": ").concat((t=i,null==(n=s)||"boolean"==typeof n||""===n?"":"number"!=typeof n||0===n||t in fl||t.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function jc(e,t,n,r){if(Fc(e))return[];if(nc(e))return[".".concat(e.styledComponentId)];if(tc(e)){if(!tc(s=e)||s.prototype&&s.prototype.isReactComponent||!t)return[e];var i=e(t);return"object"!=typeof i||Array.isArray(i)||i instanceof Tc||sc(i)||null===i||console.error("".concat($l(e)," is not a styled component and cannot be referred to via component selector. See https://www.styled-components.com/docs/advanced#referring-to-other-components for more details.")),jc(i,t,n,r)}var s;return e instanceof Tc?n?(e.inject(n,r),[e.getName(r)]):[e]:sc(e)?zc(e):Array.isArray(e)?Array.prototype.concat.apply(El,e.map((function(e){return jc(e,t,n,r)}))):[e.toString()]}var Vc=Tl(bl),Uc=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=!1,this.componentId=t,this.baseHash=xl(Vc,t),this.baseStyle=n,kc.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,n):"";if(this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))r=rc(r,this.staticRulesId);else{var i=ic(jc(this.rules,e,t,n)),s=Ol(xl(this.baseHash,i)>>>0);if(!t.hasNameForId(this.componentId,s)){var a=n(i,".".concat(s),void 0,this.componentId);t.insertRules(this.componentId,s,a)}r=rc(r,s),this.staticRulesId=s}else{for(var o=xl(this.baseHash,n.hash),l="",c=0;c<this.rules.length;c++){var u=this.rules[c];if("string"==typeof u)l+=u,o=xl(o,u);else if(u){var d=ic(jc(u,e,t,n));o=xl(o,d+c),l+=d}}if(l){var p=Ol(o>>>0);t.hasNameForId(this.componentId,p)||t.insertRules(this.componentId,p,n(l,".".concat(p),void 0,this.componentId)),r=rc(r,p)}}return r},e}(),Hc=ho.createContext(void 0);Hc.Consumer;var Wc={};new Set;function qc(e,t,n){var r=nc(e),i=e,s=!Gl(e),a=t.attrs,o=void 0===a?El:a,l=t.componentId,c=void 0===l?function(e,t){var n="string"!=typeof e?"sc":Nl(e);Wc[n]=(Wc[n]||0)+1;var r="".concat(n,"-").concat(function(e){return Ol(Tl(e)>>>0)}(bl+n+Wc[n]));return t?"".concat(t,"-").concat(r):r}(t.displayName,t.parentComponentId):l,u=t.displayName,d=void 0===u?function(e){return Gl(e)?"styled.".concat(e):"Styled(".concat($l(e),")")}(e):u,p=t.displayName&&t.componentId?"".concat(Nl(t.displayName),"-").concat(t.componentId):t.componentId||c,h=r&&i.attrs?i.attrs.concat(o).filter(Boolean):o,m=t.shouldForwardProp;if(r&&i.shouldForwardProp){var f=i.shouldForwardProp;if(t.shouldForwardProp){var g=t.shouldForwardProp;m=function(e,t){return f(e,t)&&g(e,t)}}else m=f}var y=new Uc(n,p,r?i.componentStyle:void 0);function v(e,t){return function(e,t,n){var r=e.attrs,i=e.componentStyle,s=e.defaultProps,a=e.foldedComponentIds,o=e.styledComponentId,l=e.target,c=ho.useContext(Hc),u=xc(),d=e.shouldForwardProp||u.shouldForwardProp;ta(o);var p=function(e,t,n){return void 0===n&&(n=Ll),e.theme!==n.theme&&e.theme||t||n.theme}(t,c,s)||Ll,h=function(e,t,n){for(var r,i=fo(fo({},t),{className:void 0,theme:n}),s=0;s<e.length;s+=1){var a=tc(r=e[s])?r(i):r;for(var o in a)i[o]="className"===o?rc(i[o],a[o]):"style"===o?fo(fo({},i[o]),a[o]):a[o]}return t.className&&(i.className=rc(i.className,t.className)),i}(r,t,p),m=h.as||l,f={};for(var g in h)void 0===h[g]||"$"===g[0]||"as"===g||"theme"===g&&h.theme===p||("forwardedAs"===g?f.as=h.forwardedAs:d&&!d(g,m)||(f[g]=h[g]));var y=function(e,t){var n=xc(),r=e.generateAndInjectStyles(t,n.styleSheet,n.stylis);return ta(r),r}(i,h);e.warnTooManyClasses&&e.warnTooManyClasses(y);var v=rc(a,o);return y&&(v+=" "+y),h.className&&(v+=" "+h.className),f[Gl(m)&&!wl.has(m)?"class":"className"]=v,n&&(f.ref=n),is(m,f)}(b,e,t)}v.displayName=d;var b=ho.forwardRef(v);return b.attrs=h,b.componentStyle=y,b.displayName=d,b.shouldForwardProp=m,b.foldedComponentIds=r?rc(i.foldedComponentIds,i.styledComponentId):"",b.styledComponentId=p,b.target=r?i.target:e,Object.defineProperty(b,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(e){this._foldedDefaultProps=r?function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++)ac(e,i[r],!0);return e}({},i.defaultProps,e):e}}),function(e,t){var n=t?' with the id of "'.concat(t,'"'):"",r="The component ".concat(e).concat(n," has been created dynamically.\n")+"You may see this warning because you've called styled inside another component.\nTo resolve this only create new StyledComponents outside of any render method and function component.\nSee https://styled-components.com/docs/basics#define-styled-components/dist/styled-components.browser.esm.js/dist/styled-components.browser.esm.js-outside-of-the-render-method for more info.\n",i=console.error;try{var s=!0;console.error=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];Sl.test(e)?(s=!1,Pl.delete(r)):i.apply(void 0,go([e],t,!1))},Zs(),s&&!Pl.has(r)&&(console.warn(r),Pl.add(r))}catch(e){Sl.test(e.message)&&Pl.delete(r)}finally{console.error=i}}(d,p),b.warnTooManyClasses=function(e,t){var n={},r=!1;return function(i){if(!r&&(n[i]=!0,Object.keys(n).length>=200)){var s=t?' with the id of "'.concat(t,'"'):"";console.warn("Over ".concat(200," classes were generated for component ").concat(e).concat(s,".\n")+"Consider using the attrs method, together with a style object for frequently changed styles.\nExample:\n  const Component = styled.div.attrs(props => ({\n    style: {\n      background: props.background,\n    },\n  }))`width: 100%;`\n\n  <Component />"),r=!0,n={}}}}(d,p),oc(b,(function(){return".".concat(b.styledComponentId)})),s&&ec(b,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),b}function Xc(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n}var Yc=function(e){return Object.assign(e,{isCss:!0})};function Zc(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(tc(e)||sc(e))return Yc(jc(Xc(El,go([e],t,!0))));var r=e;return 0===t.length&&1===r.length&&"string"==typeof r[0]?jc(r):Yc(jc(Xc(r,t)))}function Kc(e,t,n){if(void 0===n&&(n=Ll),!t)throw uc(1,t);var r=function(r){for(var i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];return e(t,n,Zc.apply(void 0,go([r],i,!1)))};return r.attrs=function(r){return Kc(e,t,fo(fo({},n),{attrs:Array.prototype.concat(n.attrs,r).filter(Boolean)}))},r.withConfig=function(r){return Kc(e,t,fo(fo({},n),r))},r}var Jc=function(e){return Kc(qc,e)},Qc=Jc;wl.forEach((function(e){Qc[e]=Jc(e)})),"undefined"!=typeof navigator&&"ReactNative"===navigator.product&&console.warn("It looks like you've imported 'styled-components/dist/styled-components.browser.esm.js/dist/styled-components.browser.esm.js' on React Native.\nPerhaps you're looking to import 'styled-components/dist/styled-components.browser.esm.js/dist/styled-components.browser.esm.js/native'?\nRead more about this at https://www.styled-components.com/docs/basics#react-native");var eu="__sc-".concat(gl,"__");function tu(){return tu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tu.apply(null,arguments)}"undefined"!=typeof window&&(window[eu]||(window[eu]=0),1===window[eu]&&console.warn("It looks like there are several instances of 'styled-components/dist/styled-components.browser.esm.js/dist/styled-components.browser.esm.js' initialized in this application. This may cause dynamic styles to not render properly, errors during the rehydration process, a missing theme prop, and makes your application bigger without good reason.\n\nSee https://s-c.sh/2BAXzed for more info."),window[eu]+=1);var nu=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(e){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)})),this.tags=[],this.ctr=0},e}(),ru="-ms-",iu="-moz-",su="-webkit-",au="comm",ou="rule",lu="decl",cu="@keyframes",uu=Math.abs,du=String.fromCharCode,pu=Object.assign;function hu(e){return e.trim()}function mu(e,t,n){return e.replace(t,n)}function fu(e,t){return e.indexOf(t)}function gu(e,t){return 0|e.charCodeAt(t)}function yu(e,t,n){return e.slice(t,n)}function vu(e){return e.length}function bu(e){return e.length}function _u(e,t){return t.push(e),e}var Au=1,Cu=1,Su=0,Pu=0,Eu=0,Lu="";function wu(e,t,n,r,i,s,a){return{value:e,root:t,parent:n,type:r,props:i,children:s,line:Au,column:Cu,length:a,return:""}}function Iu(e,t){return pu(wu("",null,null,"",null,null,0),e,{length:-e.length},t)}function ku(){return Eu=Pu>0?gu(Lu,--Pu):0,Cu--,10===Eu&&(Cu=1,Au--),Eu}function Nu(){return Eu=Pu<Su?gu(Lu,Pu++):0,Cu++,10===Eu&&(Cu=1,Au++),Eu}function Du(){return gu(Lu,Pu)}function Mu(){return Pu}function Bu(e,t){return yu(Lu,e,t)}function Ou(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Ru(e){return Au=Cu=1,Su=vu(Lu=e),Pu=0,[]}function xu(e){return Lu="",e}function Tu(e){return hu(Bu(Pu-1,Fu(91===e?e+2:40===e?e+1:e)))}function $u(e){for(;(Eu=Du())&&Eu<33;)Nu();return Ou(e)>2||Ou(Eu)>3?"":" "}function Gu(e,t){for(;--t&&Nu()&&!(Eu<48||Eu>102||Eu>57&&Eu<65||Eu>70&&Eu<97););return Bu(e,Mu()+(t<6&&32==Du()&&32==Nu()))}function Fu(e){for(;Nu();)switch(Eu){case e:return Pu;case 34:case 39:34!==e&&39!==e&&Fu(Eu);break;case 40:41===e&&Fu(e);break;case 92:Nu()}return Pu}function zu(e,t){for(;Nu()&&e+Eu!==57&&(e+Eu!==84||47!==Du()););return"/*"+Bu(t,Pu-1)+"*"+du(47===e?e:Nu())}function ju(e){for(;!Ou(Du());)Nu();return Bu(e,Pu)}function Vu(e){return xu(Uu("",null,null,null,[""],e=Ru(e),0,[0],e))}function Uu(e,t,n,r,i,s,a,o,l){for(var c=0,u=0,d=a,p=0,h=0,m=0,f=1,g=1,y=1,v=0,b="",_=i,A=s,C=r,S=b;g;)switch(m=v,v=Nu()){case 40:if(108!=m&&58==gu(S,d-1)){-1!=fu(S+=mu(Tu(v),"&","&\f"),"&\f")&&(y=-1);break}case 34:case 39:case 91:S+=Tu(v);break;case 9:case 10:case 13:case 32:S+=$u(m);break;case 92:S+=Gu(Mu()-1,7);continue;case 47:switch(Du()){case 42:case 47:_u(Wu(zu(Nu(),Mu()),t,n),l);break;default:S+="/"}break;case 123*f:o[c++]=vu(S)*y;case 125*f:case 59:case 0:switch(v){case 0:case 125:g=0;case 59+u:-1==y&&(S=mu(S,/\f/g,"")),h>0&&vu(S)-d&&_u(h>32?qu(S+";",r,n,d-1):qu(mu(S," ","")+";",r,n,d-2),l);break;case 59:S+=";";default:if(_u(C=Hu(S,t,n,c,u,i,o,b,_=[],A=[],d),s),123===v)if(0===u)Uu(S,t,C,C,_,s,d,o,A);else switch(99===p&&110===gu(S,3)?100:p){case 100:case 108:case 109:case 115:Uu(e,C,C,r&&_u(Hu(e,C,C,0,0,i,o,b,i,_=[],d),A),i,A,d,o,r?_:A);break;default:Uu(S,C,C,C,[""],A,0,o,A)}}c=u=h=0,f=y=1,b=S="",d=a;break;case 58:d=1+vu(S),h=m;default:if(f<1)if(123==v)--f;else if(125==v&&0==f++&&125==ku())continue;switch(S+=du(v),v*f){case 38:y=u>0?1:(S+="\f",-1);break;case 44:o[c++]=(vu(S)-1)*y,y=1;break;case 64:45===Du()&&(S+=Tu(Nu())),p=Du(),u=d=vu(b=S+=ju(Mu())),v++;break;case 45:45===m&&2==vu(S)&&(f=0)}}return s}function Hu(e,t,n,r,i,s,a,o,l,c,u){for(var d=i-1,p=0===i?s:[""],h=bu(p),m=0,f=0,g=0;m<r;++m)for(var y=0,v=yu(e,d+1,d=uu(f=a[m])),b=e;y<h;++y)(b=hu(f>0?p[y]+" "+v:mu(v,/&\f/g,p[y])))&&(l[g++]=b);return wu(e,t,n,0===i?ou:o,l,c,u)}function Wu(e,t,n){return wu(e,t,n,au,du(Eu),yu(e,2,-2),0)}function qu(e,t,n,r){return wu(e,t,n,lu,yu(e,0,r),yu(e,r+1,-1),r)}function Xu(e,t){for(var n="",r=bu(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function Yu(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case lu:return e.return=e.return||e.value;case au:return"";case cu:return e.return=e.value+"{"+Xu(e.children,r)+"}";case ou:e.value=e.props.join(",")}return vu(n=Xu(e.children,r))?e.return=e.value+"{"+n+"}":""}var Zu=function(e,t,n){for(var r=0,i=0;r=i,i=Du(),38===r&&12===i&&(t[n]=1),!Ou(i);)Nu();return Bu(e,Pu)},Ku=function(e,t){return xu(function(e,t){var n=-1,r=44;do{switch(Ou(r)){case 0:38===r&&12===Du()&&(t[n]=1),e[n]+=Zu(Pu-1,t,n);break;case 2:e[n]+=Tu(r);break;case 4:if(44===r){e[++n]=58===Du()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=du(r)}}while(r=Nu());return e}(Ru(e),t))},Ju=new WeakMap,Qu=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||Ju.get(n))&&!r){Ju.set(e,!0);for(var i=[],s=Ku(t,i),a=n.props,o=0,l=0;o<s.length;o++)for(var c=0;c<a.length;c++,l++)e.props[l]=i[o]?s[o].replace(/&\f/g,a[c]):a[c]+" "+s[o]}}},ed=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function td(e,t){switch(function(e,t){return 45^gu(e,0)?(((t<<2^gu(e,0))<<2^gu(e,1))<<2^gu(e,2))<<2^gu(e,3):0}(e,t)){case 5103:return su+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return su+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return su+e+iu+e+ru+e+e;case 6828:case 4268:return su+e+ru+e+e;case 6165:return su+e+ru+"flex-"+e+e;case 5187:return su+e+mu(e,/(\w+).+(:[^]+)/,su+"box-$1$2"+ru+"flex-$1$2")+e;case 5443:return su+e+ru+"flex-item-"+mu(e,/flex-|-self/,"")+e;case 4675:return su+e+ru+"flex-line-pack"+mu(e,/align-content|flex-|-self/,"")+e;case 5548:return su+e+ru+mu(e,"shrink","negative")+e;case 5292:return su+e+ru+mu(e,"basis","preferred-size")+e;case 6060:return su+"box-"+mu(e,"-grow","")+su+e+ru+mu(e,"grow","positive")+e;case 4554:return su+mu(e,/([^-])(transform)/g,"$1"+su+"$2")+e;case 6187:return mu(mu(mu(e,/(zoom-|grab)/,su+"$1"),/(image-set)/,su+"$1"),e,"")+e;case 5495:case 3959:return mu(e,/(image-set\([^]*)/,su+"$1$`$1");case 4968:return mu(mu(e,/(.+:)(flex-)?(.*)/,su+"box-pack:$3"+ru+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+su+e+e;case 4095:case 3583:case 4068:case 2532:return mu(e,/(.+)-inline(.+)/,su+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(vu(e)-1-t>6)switch(gu(e,t+1)){case 109:if(45!==gu(e,t+4))break;case 102:return mu(e,/(.+:)(.+)-([^]+)/,"$1"+su+"$2-$3$1"+iu+(108==gu(e,t+3)?"$3":"$2-$3"))+e;case 115:return~fu(e,"stretch")?td(mu(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==gu(e,t+1))break;case 6444:switch(gu(e,vu(e)-3-(~fu(e,"!important")&&10))){case 107:return mu(e,":",":"+su)+e;case 101:return mu(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+su+(45===gu(e,14)?"inline-":"")+"box$3$1"+su+"$2$3$1"+ru+"$2box$3")+e}break;case 5936:switch(gu(e,t+11)){case 114:return su+e+ru+mu(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return su+e+ru+mu(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return su+e+ru+mu(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return su+e+ru+e+e}return e}var nd=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case lu:e.return=td(e.value,e.length);break;case cu:return Xu([Iu(e,{value:mu(e.value,"@","@"+su)})],r);case ou:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Xu([Iu(e,{props:[mu(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return Xu([Iu(e,{props:[mu(t,/:(plac\w+)/,":"+su+"input-$1")]}),Iu(e,{props:[mu(t,/:(plac\w+)/,":-moz-$1")]}),Iu(e,{props:[mu(t,/:(plac\w+)/,ru+"input-$1")]})],r)}return""}))}}];function rd(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):n&&(r+=n+" ")})),r}var id=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},sd=function(e,t,n){id(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}};var ad={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var od=!1,ld=/[A-Z]|^ms/g,cd=/_EMO_([^_]+?)_([^]*?)_EMO_/g,ud=function(e){return 45===e.charCodeAt(1)},dd=function(e){return null!=e&&"boolean"!=typeof e},pd=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){return ud(e)?e:e.replace(ld,"-$&").toLowerCase()})),hd=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(cd,(function(e,t,n){return gd={name:t,styles:n,next:gd},t}))}return 1===ad[e]||ud(e)||"number"!=typeof t||0===t?t:t+"px"},md="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function fd(e,t,n){if(null==n)return"";var r=n;if(void 0!==r.__emotion_styles)return r;switch(typeof n){case"boolean":return"";case"object":var i=n;if(1===i.anim)return gd={name:i.name,styles:i.styles,next:gd},i.name;var s=n;if(void 0!==s.styles){var a=s.next;if(void 0!==a)for(;void 0!==a;)gd={name:a.name,styles:a.styles,next:gd},a=a.next;return s.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=fd(e,t,n[i])+";";else for(var s in n){var a=n[s];if("object"!=typeof a){var o=a;null!=t&&void 0!==t[o]?r+=s+"{"+t[o]+"}":dd(o)&&(r+=pd(s)+":"+hd(s,o)+";")}else{if("NO_COMPONENT_SELECTOR"===s&&od)throw new Error(md);if(!Array.isArray(a)||"string"!=typeof a[0]||null!=t&&void 0!==t[a[0]]){var l=fd(e,t,a);switch(s){case"animation":case"animationName":r+=pd(s)+":"+l+";";break;default:r+=s+"{"+l+"}"}}else for(var c=0;c<a.length;c++)dd(a[c])&&(r+=pd(s)+":"+hd(s,a[c])+";")}}return r}(e,t,n);case"function":if(void 0!==e){var o=gd,l=n(e);return gd=o,fd(e,t,l)}}var c=n;if(null==t)return c;var u=t[c];return void 0!==u?u:c}var gd,yd=/label:\s*([^\s;{]+)\s*(;|$)/g;function vd(e,t,n){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";gd=void 0;var s=e[0];null==s||void 0===s.raw?(r=!1,i+=fd(n,t,s)):i+=s[0];for(var a=1;a<e.length;a++){if(i+=fd(n,t,e[a]),r)i+=s[a]}yd.lastIndex=0;for(var o,l="";null!==(o=yd.exec(i));)l+="-"+o[1];var c=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+l;return{name:c,styles:i,next:gd}}var bd=!!mo.useInsertionEffect&&mo.useInsertionEffect||function(e){return e()},_d=ks("undefined"!=typeof HTMLElement?function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r,i,s=e.stylisPlugins||nd,a={},o=[];r=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)a[t[n]]=!0;o.push(e)}));var l,c,u=[Yu,(c=function(e){l.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],d=function(e){var t=bu(e);return function(n,r,i,s){for(var a="",o=0;o<t;o++)a+=e[o](n,r,i,s)||"";return a}}([Qu,ed].concat(s,u));i=function(e,t,n,r){l=n,Xu(Vu(e?e+"{"+t.styles+"}":t.styles),d),r&&(p.inserted[t.name]=!0)};var p={key:t,sheet:new nu({key:t,container:r,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:i};return p.sheet.hydrate(o),p}({key:"css"}):null);_d.Provider;var Ad=function(e){return Ca((function(t,n){var r=ea(_d);return e(t,r,n)}))},Cd=ks({}),Sd={}.hasOwnProperty,Pd="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Ed=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return id(t,n,r),bd((function(){return sd(t,n,r)})),null};Ad((function(e,t,n){var r=e.css;"string"==typeof r&&void 0!==t.registered[r]&&(r=t.registered[r]);var i=e[Pd],s=[r],a="";"string"==typeof e.className?a=rd(t.registered,s,e.className):null!=e.className&&(a=e.className+" ");var o=vd(s,void 0,ea(Cd));a+=t.key+"-"+o.name;var l={};for(var c in e)Sd.call(e,c)&&"css"!==c&&c!==Pd&&(l[c]=e[c]);return l.className=a,n&&(l.ref=n),is(os,null,is(Ed,{cache:t,serialized:o,isStringTag:"string"==typeof i}),is(i,l))}));var Ld=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,wd=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){return Ld.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),Id=wd,kd=function(e){return"theme"!==e},Nd=function(e){return"string"==typeof e&&e.charCodeAt(0)>96?Id:kd},Dd=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!=typeof r&&n&&(r=e.__emotion_forwardProp),r},Md=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return id(t,n,r),bd((function(){return sd(t,n,r)})),null},Bd=function e(t,n){var r,i,s=t.__emotion_real===t,a=s&&t.__emotion_base||t;void 0!==n&&(r=n.label,i=n.target);var o=Dd(t,n,s),l=o||Nd(a),c=!l("as");return function(){var u=arguments,d=s&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==r&&d.push("label:"+r+";"),null==u[0]||void 0===u[0].raw)d.push.apply(d,u);else{var p=u[0];d.push(p[0]);for(var h=u.length,m=1;m<h;m++)d.push(u[m],p[m])}var f=Ad((function(e,t,n){var r=c&&e.as||a,s="",u=[],p=e;if(null==e.theme){for(var h in p={},e)p[h]=e[h];p.theme=ea(Cd)}"string"==typeof e.className?s=rd(t.registered,u,e.className):null!=e.className&&(s=e.className+" ");var m=vd(d.concat(u),t.registered,p);s+=t.key+"-"+m.name,void 0!==i&&(s+=" "+i);var f=c&&void 0===o?Nd(r):l,g={};for(var y in e)c&&"as"===y||f(y)&&(g[y]=e[y]);return g.className=s,n&&(g.ref=n),is(os,null,is(Md,{cache:t,serialized:m,isStringTag:"string"==typeof r}),is(r,g))}));return f.displayName=void 0!==r?r:"Styled("+("string"==typeof a?a:a.displayName||a.name||"Component")+")",f.defaultProps=t.defaultProps,f.__emotion_real=f,f.__emotion_base=a,f.__emotion_styles=d,f.__emotion_forwardProp=o,Object.defineProperty(f,"toString",{value:function(){return"."+i}}),f.withComponent=function(t,r){return e(t,tu({},n,r,{shouldForwardProp:Dd(f,r,!0)})).apply(void 0,d)},f}}.bind(null);["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){Bd[e]=Bd(e)}));const Od=Bd.div`
  display: flex;
  width: fit-content;
  aspect-ratio: 1/1;
  background: var(--abcl-element);
  border: var(--abcl-border);
  border-left: ${e=>e.noBorderLeft?"none":"var(--abcl-border)"};
  user-select: none;
  img {
    height: ${e=>e.size??1.9}em;
    width: auto;
    pointer-events: none;
  }
`,Rd=Ca((({locked:e,opaque:t=!1,setLocked:r,noBorderLeft:i,size:s,...a},o)=>Ds(Od,{...a,ref:o,"data-locked":e,style:{opacity:t?1:.5},onClick:()=>{r?.(!e)},noBorderLeft:i,size:s,children:Ds("img",e?{src:`https://zoe-64.github.io/ABCL/versions/2.3.4/assets/icons/locked${t?"-opaque":""}-${n}.svg`,alt:"locked"}:{src:`https://zoe-64.github.io/ABCL/versions/2.3.4/assets/icons/unlocked${t?"-opaque":""}-${n}.svg`,alt:"unlocked"})}))),xd=Qc.div`
  display: flex;
  align-items: center;
  width: fit-content;
  button {
    background-color: var(--abcl-element);
    color: var(--abcl-text);
    border: None;
    border-top: var(--abcl-border);
    border-bottom: var(--abcl-border);
    height: 100%;
    padding: 0 0.5em;
    cursor: ${e=>e.locked?"not-allowed":"pointer"};
  }
  button:first-child {
    border-left: var(--abcl-border);
  }
  button:last-child {
    border-right: var(--abcl-border);
  }
  button[data-selected="true"] {
    background-color: var(--abcl-selected-background);
    color: var(--abcl-selected-text);
    cursor: ${e=>e.locked?"not-allowed":"default"};
  }
`,Td=Ca((({options:e,value:t,setValue:n,locked:r,opaqueLock:i,setLocked:s,...a},o)=>Ds(os,{children:[Ds(xd,{...a,ref:o,locked:r&&i,children:e.map(((e,s)=>Ds("button",{"data-selected":e===t,onClick:()=>r&&i?null:n(e),disabled:r,children:e},s)))}),Ds(Rd,{locked:r,opaque:i,setLocked:s,size:2,noBorderLeft:!0})]}))),$d=Qc.div`
  display: flex;
  height: fit-content;
  aspect-ratio: 1/1;
  width: 2.1em;
  background-color: var(--abcl-element-indentation);
  user-select: none;
  cursor: ${e=>e.locked?"not-allowed":"pointer"};
  img {
    height: 100%;
    width: auto;
    pointer-events: none;
  }
`,Gd=Ca((({checked:e,setChecked:t,locked:r,opaqueLock:i,setLocked:s,showLock:a=!0,inverted:o=!1,...l},c)=>Ds(os,{children:[Ds($d,{...l,ref:c,onClick:()=>r&&i?null:t(!e),locked:r&&i,children:Ds("img",e&&!o||!e&&o?{src:`https://zoe-64.github.io/ABCL/versions/2.3.4/assets/icons/checkmark-${n}.svg`,alt:"checkmark"}:{src:`https://zoe-64.github.io/ABCL/versions/2.3.4/assets/icons/crossmark-${n}.svg`,alt:"crossmark"})}),a&&Ds(Rd,{locked:r,opaque:i,setLocked:s})]}))),Fd=Bd.div`
  display: flex;
  flex-direction: row;
  gap: ${e=>e.gap||"0.5em"};
  ${e=>!1===e.wrap||"flex-wrap: wrap;"}
`,zd=Bd.div`
  ${e=>!1===e.wrap||"flex-wrap: wrap;"}
  gap: ${e=>e.gap||"0.5em"};
  display: flex;
  flex-direction: column;
`,jd=Qc.div`
  display: flex;
  flex-direction: column;
  padding: 0.5em;
  background: var(--abcl-element);
  gap: 0.25em;
  width: fit-content;
  flex: 1 0 9em;
  max-width: 100%;
  h2 {
    margin: 0;
    font-size: 3.5vmin;
    text-wrap: nowrap;
    color: var(--abcl-text);
  }
`,Vd=Ca((({title:e,children:t,...n},r)=>Ds(jd,{...n,ref:r,children:[Ds("h2",{children:e}),Ds(Fd,{gap:"0",wrap:!1,children:t})]}))),Ud=Qc.div`
  display: flex;
  flex-direction: column;
  position: relative;
  width: fit-content;
  > button {
    background: var(--abcl-element);
    border: var(--abcl-border);
    padding: 0;
  }
  > div:first-child {
    border-top: var(--abcl-border);
  }
`,Hd=Qc.div`
  height: 2.5em;
  display: flex;
  justify-content: center;
  line-height: 2.5em;
  width: 11em;
  background: var(--abcl-element);
  border: 0.1em solid var(--abcl-border-color);
  border-top: 0;
  position: relative;
  cursor: ${e=>e.locked?"not-allowed":"pointer"};
  user-select: none;
`,Wd=Qc.div`
  display: flex;
  flex-direction: column;
  position: absolute;
  top: 100%;
  z-index: 11;
`,qd=Ca((({options:e,value:t,setValue:n,OptionComponent:r=Hd,locked:i,opaqueLock:s,setLocked:a,...o},l)=>{const[c,u]=Ws(!1),d=Zs(null);return Xs((()=>{const e=e=>{d.current&&!d.current.contains(e.target)&&u(!1)};return c&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[c]),Ds(os,{children:[Ds(Ud,{...o,ref:l,children:[Ds(r,{locked:i&&s,onClick:()=>i&&s?null:u(!c),children:e.find((e=>e.value===t))?.children}),c&&Ds(Wd,{ref:d,children:e.filter((e=>e.value!==t)).map(((e,i)=>Ds(r,{"data-selected":e.value===t,onClick:()=>{n(e.value),u(!c)},children:e.children},i)))})]}),Ds(Rd,{locked:i,opaque:s,setLocked:a,size:2.3,noBorderLeft:!0})]})})),Xd=Qc(Hd)`
  justify-content: space-between;
  > div > img {
    height: 100%;
  }
  > div > span {
    font-size: 1.5em;
  }
  > span {
    font-size: 0.7em;
    color: var(--abcl-metabolism-multiplier-text);
    bottom: 0.5em;
    position: absolute;
    right: 0.5em;
    line-height: 0.7em;
  }
`,Yd=Ca((({value:e,setValue:t,locked:n,setLocked:r,opaqueLock:i,...s},a)=>Ds(qd,{OptionComponent:Xd,locked:n,options:[{value:"Disabled",children:Ds(Zd,{value:"0.0",label:"Disabled",icon:"disabled"})},{value:"Slow",children:Ds(Zd,{value:"0.5",label:"Slow",icon:"slow"})},{value:"Normal",children:Ds(Zd,{value:"1.0",label:"Normal",icon:"normal"})},{value:"Fast",children:Ds(Zd,{value:"1.5",label:"Fast",icon:"fast"})},{value:"Faster",children:Ds(Zd,{value:"2.0",label:"Faster",icon:"faster"})},{value:"Fastest",children:Ds(Zd,{value:"3.0",label:"Fastest",icon:"fastest"})}],value:e,setValue:t,...s,ref:a,opaqueLock:i,setLocked:r})));function Zd({value:e,label:t,icon:r}){return Ds(os,{children:[Ds(Fd,{$wrap:!1,$gap:"0",children:[Ds("img",{src:`https://zoe-64.github.io/ABCL/versions/2.3.4/assets/icons/${r}-metabolism-${n}.svg`,alt:t}),Ds("span",{children:t})]}),Ds("span",{children:["🞫",e]})]})}const Kd=Bd.button`
  background-color: var(--abcl-warning-color);
  color: #fff;
  border: var(--abcl-border);
  padding: 0.5em;
  cursor: pointer;
  margin-top: 1em;
  font-weight: bold;
  font-size: 2em;
`;function Jd({setPage:e}){const[t,n]=Ws(Player.ABCL.Settings.PeeMetabolism),[r,i]=Ws(Player.ABCL.SettingPermissions.PeeMetabolism),[s,a]=Ws(Player.ABCL.Settings.PoopMetabolism),[o,l]=Ws(Player.ABCL.SettingPermissions.PoopMetabolism),[c,u]=Ws(Player.ABCL.Settings.MentalRegressionModifier),[d,p]=Ws(Player.ABCL.SettingPermissions.MentalRegressionModifier),[h,m]=Ws(Player.ABCL.Settings.OnDiaperChange),[f,g]=Ws(Player.ABCL.SettingPermissions.OnDiaperChange),[y,v]=Ws(Player.ABCL.Settings.PauseStats),[b,_]=Ws(Player.ABCL.SettingPermissions.PauseStats),[A,C]=Ws(Player.ABCL.Settings.DisableWettingLeaks),[S,P]=Ws(Player.ABCL.SettingPermissions.DisableWettingLeaks),[E,L]=Ws(Player.ABCL.Settings.DisableSoilingLeaks),[w,I]=Ws(Player.ABCL.SettingPermissions.DisableSoilingLeaks),[k,N]=Ws(Player.ABCL.Settings.DisableClothingStains),[D,M]=Ws(Player.ABCL.SettingPermissions.DisableClothingStains),[B,O]=Ws(Player.ABCL.Settings.DisableDiaperStains),[R,x]=Ws(Player.ABCL.SettingPermissions.DisableDiaperStains),[T,$]=Ws(Player.ABCL.Settings.AccidentsByActivities),[G,F]=Ws(Player.ABCL.SettingPermissions.AccidentsByActivities),[z,j]=Ws(Player.ABCL.Settings.ExpressionsByActivities),[V,U]=Ws(Player.ABCL.SettingPermissions.ExpressionsByActivities);return Ds(zd,{className:"ABCL-settings-section",children:[Ds(ap,{children:"Wet and Soiling"}),Ds("button",{onClick:()=>{e("menu"),Player.ABCL.Settings.PauseStats=y,Player.ABCL.Settings.DisableWettingLeaks=A,Player.ABCL.Settings.DisableSoilingLeaks=E,Player.ABCL.Settings.DisableClothingStains=k,Player.ABCL.Settings.DisableDiaperStains=B,Player.ABCL.Settings.AccidentsByActivities=T,Player.ABCL.Settings.ExpressionsByActivities=z,Player.ABCL.Settings.PeeMetabolism=t,Player.ABCL.Settings.PoopMetabolism=s,Player.ABCL.Settings.MentalRegressionModifier=c,Player.ABCL.Settings.OnDiaperChange=h,Player.ABCL.Settings.ExpressionsByActivities=z},className:"ABCL-exit-button"}),Ds(Fd,{children:[Ds(Vd,{title:"Pause Stats",children:Ds(Gd,{checked:y,setChecked:v,locked:b&&Rn(),opaqueLock:!0})}),Ds(Vd,{title:"Wetting Leaks / Puddles",children:Ds(Gd,{checked:A,setChecked:C,locked:S&&Rn(),opaqueLock:!0,inverted:!0})}),Ds(Vd,{title:"Messy Leaks",children:Ds(Gd,{checked:E,setChecked:L,locked:w&&Rn(),opaqueLock:!0,inverted:!0})}),Ds(Vd,{title:"Clothing Stains",children:Ds(Gd,{checked:k,setChecked:N,locked:D&&Rn(),opaqueLock:!0,inverted:!0})}),Ds(Vd,{title:"Diaper Stains",children:Ds(Gd,{checked:B,setChecked:O,locked:R&&Rn(),opaqueLock:!0,inverted:!0})}),Ds(Vd,{title:"Accidents by Activities",children:Ds(Gd,{checked:T,setChecked:$,locked:G&&Rn(),opaqueLock:!0})}),Ds(Vd,{title:"Expressions by Activities (Experimental)",children:Ds(Gd,{checked:z,setChecked:j,locked:V&&Rn(),opaqueLock:!0})})]}),Ds(Fd,{children:[Ds(Vd,{title:"Pee Metabolism",children:Ds(Yd,{value:t,setValue:n,locked:r&&Rn(),opaqueLock:!0})}),Ds(Vd,{title:"Bowel Metabolism",children:Ds(Yd,{value:s,setValue:a,locked:o&&Rn(),opaqueLock:!0})}),Ds(Vd,{title:"Mental Regression",children:Ds(Yd,{value:c,setValue:u,locked:d&&Rn(),opaqueLock:!0})}),Ds(Vd,{title:"On Diaper Change Prompt",children:Ds(Td,{locked:f,options:["Deny","Ask","Allow"],value:h,setValue:e=>{m(e)},opaqueLock:!0})})]}),Ds(Kd,{onClick:()=>{Rn()&&window?.LITTLISH_CLUB?.isRuleActive?.(Player,Ln.DISABLE_RESET_SETTINGS_BUTTON)||ToastManager.warning("This will reset abcl and reload the page. Do you want to reset?",{duration:1e4,buttons:[{label:"Reset",onClick:(e,t)=>{Ot(),setTimeout((()=>{window.location.reload()}),2e3),t?._dismiss?.("click")}},{label:"Cancel",onClick:(e,t)=>{t?._dismiss?.("click")}}]})},disabled:!Rn()&&window?.LITTLISH_CLUB?.isRuleActive?.(Player,Ln.DISABLE_RESET_SETTINGS_BUTTON),children:"Reset Settings"}),Ds("div",{style:{height:"10em"}})]})}function Qd({setPage:e}){const[t,n]=Ws(Player.ABCL.Settings.VisibleMessages.wetDiaper),[r,i]=Ws(Player.ABCL.Settings.VisibleMessages.wetClothing),[s,a]=Ws(Player.ABCL.Settings.VisibleMessages.soilDiaper),[o,l]=Ws(Player.ABCL.Settings.VisibleMessages.soilClothing),[c,u]=Ws(Player.ABCL.Settings.VisibleMessages.changeDiaper),[d,p]=Ws(Player.ABCL.Settings.VisibleMessages.checkDiaper),[h,m]=Ws(Player.ABCL.Settings.VisibleMessages.lickPuddle),[f,g]=Ws(Player.ABCL.Settings.VisibleMessages.wipePuddle),[y,v]=Ws(Player.ABCL.Settings.VisibleMessages.usePotty),[b,_]=Ws(Player.ABCL.Settings.VisibleMessages.useToilet),[A,C]=Ws(Player.ABCL.Settings.VisibleMessages.statusMessages),[S,P]=Ws(Player.ABCL.SettingPermissions.wetDiaper),[E,L]=Ws(Player.ABCL.SettingPermissions.wetClothing),[w,I]=Ws(Player.ABCL.SettingPermissions.soilDiaper),[k,N]=Ws(Player.ABCL.SettingPermissions.soilClothing),[D,M]=Ws(Player.ABCL.SettingPermissions.changeDiaper),[B,O]=Ws(Player.ABCL.SettingPermissions.checkDiaper),[R,x]=Ws(Player.ABCL.SettingPermissions.lickPuddle),[T,$]=Ws(Player.ABCL.SettingPermissions.wipePuddle),[G,F]=Ws(Player.ABCL.SettingPermissions.usePotty),[z,j]=Ws(Player.ABCL.SettingPermissions.useToilet),[V,U]=Ws(Player.ABCL.SettingPermissions.statusMessages),[H,W]=Ws(Player.ABCL.Settings.StatusMessages.Wetness??!1),[q,X]=Ws(Player.ABCL.Settings.StatusMessages.Soiliness??!1),[Y,Z]=Ws(Player.ABCL.Settings.StatusMessages.Bladder??!1),[K,J]=Ws(Player.ABCL.Settings.StatusMessages.Bowel??!1),[Q,ee]=Ws(Player.ABCL.Settings.StatusMessages.Incontinence??!1),[te,ne]=Ws(Player.ABCL.Settings.StatusMessages.MentalRegression??!1),[re,ie]=Ws(Player.ABCL.Settings.StatusMessages.PuddleSize??!1);return Ds("div",{children:[Ds("button",{onClick:()=>{e("menu"),Player.ABCL.Settings.VisibleMessages.wetDiaper=t,Player.ABCL.Settings.VisibleMessages.wetClothing=r,Player.ABCL.Settings.VisibleMessages.soilDiaper=s,Player.ABCL.Settings.VisibleMessages.soilClothing=o,Player.ABCL.Settings.VisibleMessages.changeDiaper=c,Player.ABCL.Settings.VisibleMessages.checkDiaper=d,Player.ABCL.Settings.VisibleMessages.lickPuddle=h,Player.ABCL.Settings.VisibleMessages.wipePuddle=f,Player.ABCL.Settings.VisibleMessages.usePotty=y,Player.ABCL.Settings.VisibleMessages.useToilet=b,Player.ABCL.Settings.VisibleMessages.statusMessages=A,Player.ABCL.Settings.StatusMessages.Wetness=H,Player.ABCL.Settings.StatusMessages.Soiliness=q,Player.ABCL.Settings.StatusMessages.Bladder=Y,Player.ABCL.Settings.StatusMessages.Bowel=K,Player.ABCL.Settings.StatusMessages.Incontinence=Q,Player.ABCL.Settings.StatusMessages.MentalRegression=te,Player.ABCL.Settings.StatusMessages.PuddleSize=re,Player.ABCL.SettingPermissions.wetDiaper=S,Player.ABCL.SettingPermissions.wetClothing=E,Player.ABCL.SettingPermissions.soilDiaper=w,Player.ABCL.SettingPermissions.soilClothing=k,Player.ABCL.SettingPermissions.changeDiaper=D,Player.ABCL.SettingPermissions.checkDiaper=B,Player.ABCL.SettingPermissions.lickPuddle=R,Player.ABCL.SettingPermissions.wipePuddle=T,Player.ABCL.SettingPermissions.usePotty=G,Player.ABCL.SettingPermissions.useToilet=z,Player.ABCL.SettingPermissions.statusMessages=V},className:"ABCL-exit-button"}),Ds("div",{children:[Ds(ap,{children:"Visible Messages to Players"}),Ds(Fd,{children:[Ds(Vd,{title:"Wetting Diapers",children:Ds(Gd,{checked:t,setChecked:n,locked:S&&Rn(),opaqueLock:!0})}),Ds(Vd,{title:"Wetting Clothes",children:Ds(Gd,{checked:r,setChecked:i,locked:E&&Rn(),opaqueLock:!0})}),Ds(Vd,{title:"Soiling Diapers",children:Ds(Gd,{checked:s,setChecked:a,locked:w&&Rn(),opaqueLock:!0})}),Ds(Vd,{title:"Soiling Clothes",children:Ds(Gd,{checked:o,setChecked:l,locked:k&&Rn(),opaqueLock:!0})}),Ds(Vd,{title:"Changing Diapers",children:Ds(Gd,{checked:c,setChecked:u,locked:D&&Rn(),opaqueLock:!0})}),Ds(Vd,{title:"Checking Diapers",children:Ds(Gd,{checked:d,setChecked:p,locked:B&&Rn(),opaqueLock:!0})}),Ds(Vd,{title:"Licking Puddles",children:Ds(Gd,{checked:h,setChecked:m,locked:R&&Rn(),opaqueLock:!0})}),Ds(Vd,{title:"Wiping Puddle",children:Ds(Gd,{checked:f,setChecked:g,locked:T&&Rn(),opaqueLock:!0})}),Ds(Vd,{title:"Using Potty",children:Ds(Gd,{checked:y,setChecked:v,locked:G&&Rn(),opaqueLock:!0})}),Ds(Vd,{title:"Using Toilet",children:Ds(Gd,{checked:b,setChecked:_,locked:z&&Rn(),opaqueLock:!0})}),Ds(Vd,{title:"Show Status Messages",children:Ds(Gd,{checked:A,setChecked:C,locked:V&&Rn(),opaqueLock:!0})})]})]}),Ds("div",{children:[Ds(ap,{children:"Visible Status Messages to Yourself"}),Ds(Fd,{children:[Ds(Vd,{title:"Show wetness status message",children:Ds(Gd,{checked:H,setChecked:W,showLock:!1})}),Ds(Vd,{title:"Show soiliness status message",children:Ds(Gd,{checked:q,setChecked:X,showLock:!1})}),Ds(Vd,{title:"Show bladder status message",children:Ds(Gd,{checked:Y,setChecked:Z,showLock:!1})}),Ds(Vd,{title:"Show bowel status message",children:Ds(Gd,{checked:K,setChecked:J,showLock:!1})}),Ds(Vd,{title:"Show incontinence status message",children:Ds(Gd,{checked:Q,setChecked:ee,showLock:!1})}),Ds(Vd,{title:"Show puddle size status message",children:Ds(Gd,{checked:re,setChecked:ie,showLock:!1})}),Ds(Vd,{title:"Show mental regression status message",children:Ds(Gd,{checked:te,setChecked:ne,showLock:!1})})]})]})]})}function ep(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}ep(".ABCL-thanks-list{display:flex;flex-direction:column}");const tp=Bd.p`
  margin: 0;
  > a {
    text-decoration: none;
    color: inherit;
  }
  > span {
    color: inherit;
  }
`;function np({name:e,reason:t,link:n}){return Ds(tp,{children:[n?Ds("a",{target:"_blank",href:n,children:Ds("span",{children:e})}):Ds("span",{children:e}),"- ",Ds("span",{children:t})]})}function rp({setPage:e}){return Ds("div",{children:[Ds("button",{onClick:()=>e("menu"),className:"ABCL-exit-button"}),Ds("div",{children:[Ds("h1",{children:["ABCL ","2.3.0"]}),Ds("p",{children:["An addon for"," ",Ds("a",{target:"_blank",href:"https://www.bondageprojects.com/club_game/",children:"Bondage Club"})," ","that adds ABDL features to the game."]}),Ds("p",{children:["Made by"," ",Ds("a",{target:"_blank",href:"https://github.com/zoe-64",children:"Zoe"})," ","and"," ",Ds("a",{target:"_blank",href:"https://github.com/kjbro",children:"En (mama)"}),"."]}),Ds("p",{children:["Thanks to",Ds(zd,{className:"ABCL-thanks-list",children:[Ds(np,{name:"Firefly",reason:"for the original idea"}),Ds(np,{name:"Maple",reason:"for the mod plugin template",link:"https://github.com/mochamaple"}),Ds(np,{name:"Zoi",reason:"for helping get themed to work",link:"https://github.com/FurryZoi"}),Ds(np,{name:"minimar",reason:"for helping with typos",link:"https://github.com/minimar"}),Ds(np,{name:"Deep",reason:"for helping with code review and testing",link:"https://github.com/dDeepLb"}),Ds(np,{name:"Da'Inihlus",reason:"for providing great library mods",link:"https://github.com/dynilath"}),Ds(np,{name:"Nemesea",reason:"for getting me started with modding in bc",link:"https://github.com/tetris245"}),Ds(np,{name:"Sera",reason:"for helping during the development process",link:"https://github.com/littlesera"})]})]}),Ds("p",{children:["Source code available on"," ",Ds("a",{target:"_blank",href:"https://github.com/zoe-64/ABCL",children:"GitHub"}),"."]})]})]})}function ip({setPage:e,selectedCharacter:t}){if(!t)return Ds("div",{children:" No Character Selected "});if(!t.ABCL)return Ds("div",{children:" No ABCL Data "});if(!window.LITTLISH_CLUB.isMommyOf(Player,t)&&!window.LITTLISH_CLUB.isCaregiverOf(Player,t))return Ds("div",{children:" Not a Mommy or Caregiver to this Character "});const[n,r]=Ws(t.ABCL.Settings.PeeMetabolism),[i,s]=Ws(t.ABCL.Settings.PoopMetabolism),[a,o]=Ws(t.ABCL.Settings.MentalRegressionModifier),[l,c]=Ws(t.ABCL.Settings.OnDiaperChange),[u,d]=Ws(t.ABCL.Settings.PauseStats),[p,h]=Ws(t.ABCL.Settings.DisableWettingLeaks),[m,f]=Ws(t.ABCL.Settings.DisableSoilingLeaks),[g,y]=Ws(t.ABCL.Settings.DisableClothingStains),[v,b]=Ws(t.ABCL.Settings.DisableDiaperStains),[_,A]=Ws(t.ABCL.Settings.AccidentsByActivities),[C,S]=Ws(t.ABCL.SettingPermissions.PeeMetabolism),[P,E]=Ws(t.ABCL.SettingPermissions.PoopMetabolism),[L,w]=Ws(t.ABCL.SettingPermissions.MentalRegressionModifier),[I,k]=Ws(t.ABCL.SettingPermissions.OnDiaperChange),[N,D]=Ws(t.ABCL.SettingPermissions.PauseStats),[M,B]=Ws(t.ABCL.SettingPermissions.DisableWettingLeaks),[O,R]=Ws(t.ABCL.SettingPermissions.DisableSoilingLeaks),[x,T]=Ws(t.ABCL.SettingPermissions.DisableClothingStains),[$,G]=Ws(t.ABCL.SettingPermissions.DisableDiaperStains),[F,z]=Ws(t.ABCL.SettingPermissions.AccidentsByActivities);return Ds("div",{children:[Ds("button",{onClick:()=>{nn(document.body,"#ABCL-settings-page").classList.add("ABCL-hidden"),e("menu"),InformationSheetLoadCharacter(t),ToastManager.success(`Updated ${t.Name}'s settings.`),Zt(`Updated ${t.Name}'s settings.`),InformationSheetReturnScreen=["Online","ChatRoom"],t.ABCL&&"number"==typeof t.MemberNumber&&Gi.emit(t.MemberNumber,"updateSettings",{settings:{PauseStats:u,PeeMetabolism:n,PoopMetabolism:i,MentalRegressionModifier:a,OnDiaperChange:l,DisableClothingStains:g,DisableDiaperStains:v,AccidentsByActivities:_,DisableWettingLeaks:p,DisableSoilingLeaks:m},settingPermissions:{PauseStats:N,PeeMetabolism:C,PoopMetabolism:P,MentalRegressionModifier:L,OnDiaperChange:I,DisableClothingStains:x,DisableDiaperStains:$,AccidentsByActivities:F,DisableWettingLeaks:M,DisableSoilingLeaks:O}})},className:"ABCL-exit-button"}),Ds(Fd,{children:[Ds(Vd,{title:"Pause Stats",children:Ds(Gd,{checked:u,setChecked:d,locked:N,setLocked:D})}),Ds(Vd,{title:"Wetting Leaks / Puddles",children:Ds(Gd,{checked:p,setChecked:h,locked:M,setLocked:B})}),Ds(Vd,{title:"Messy Leaks",children:Ds(Gd,{checked:m,setChecked:f,locked:O,setLocked:R})}),Ds(Vd,{title:"Clothing Stains",children:Ds(Gd,{checked:g,setChecked:y,locked:x,setLocked:T})}),Ds(Vd,{title:"Diaper Stains",children:Ds(Gd,{checked:v,setChecked:b,locked:$,setLocked:G})}),Ds(Vd,{title:"Accidents by Activities",children:Ds(Gd,{checked:_,setChecked:A,locked:F,setLocked:z})})]}),Ds(Fd,{children:[Ds(Vd,{title:"Pee Metabolism",children:Ds(Yd,{value:n,setValue:r,locked:C,setLocked:S})}),Ds(Vd,{title:"Bowel Metabolism",children:Ds(Yd,{value:i,setValue:s,locked:P,setLocked:E})}),Ds(Vd,{title:"Mental Regression",children:Ds(Yd,{value:a,setValue:o,locked:L,setLocked:w})}),Ds(Vd,{title:"On Diaper Change Prompt",children:Ds(Td,{locked:I,options:["Deny","Ask","Allow"],value:l,setValue:e=>{c(e)},setLocked:k})})]}),Ds("div",{style:{height:"10em"}})]})}const sp=Qc.div`
  height: 77%;
  margin: 2em 5em 1em 5em;
  overflow-y: auto;
  padding: 1em;
  color: var(--abcl-text);
  > header > h1 {
    text-align: center;
    margin-bottom: 0.1em;
    margin-top: 0;
  }
  > h2 {
    margin: 0;
    margin-bottom: 0.25em;
  }
`,ap=Qc.h2`
  margin: 0;
  font-size: 6vmin;
  color: var(--abcl-text);
`,op=Qc.div`
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  width: 56%;
  color: var(--abcl-text);
  > section {
    gap: 0.2em;
    display: flex;
    flex-direction: column;
    padding: 1%;
    > div > * {
      width: 100%;
    }
    > div {
      /* content */
      margin-top: 2.1%;
      margin-bottom: 0.7%;
    }
  }
  #ABCL-contact-info {
    padding: 1%;
    width: fit-content;
    gap: 0.5em;
    display: flex;
    flex-direction: column;
  }
  #ABCL-page-list {
    display: flex;
    flex-direction: column;
    margin: 1%;
    gap: 0.5em;
    > * {
      flex: 1 1 auto;
      text-align: left;
      padding: 10px;
      border: var(--abcl-border);
      color: inherit;
    }
  }
  .ABCL-button {
    width: fit-content;
    padding: 0.3em;
    border: var(--abcl-border);
    background-color: var(--abcl-element);
    cursor: pointer;
    white-space: nowrap;
    color: inherit;
    &:hover {
      background-color: var(--abcl-hover-color);
    }
  }
`;function lp(){const[e,t]=Ws("menu"),[n,r]=Ws(void 0);return Xs((()=>{an()}),[e]),Ds(os,{children:[Ds(sp,{id:"ABCL-settings-page",className:"ABCL-hidden",children:[Ds("button",{onClick:()=>PreferenceSubscreenExtensionsExit(),className:"ABCL-exit-button"}),Ds("header",{children:[Ds("h1",{children:" ABCL Settings "}),Ds("hr",{})]}),{menu:Ds(op,{children:[Ds("section",{children:[Ds("h2",{children:"Menu"}),Ds("div",{id:"ABCL-page-list",children:[Ds("button",{onClick:()=>t("messages"),className:"ABCL-button",children:"Messages"}),Ds("button",{onClick:()=>t("stats"),className:"ABCL-button",children:"Stats"}),Ds("button",{onClick:()=>t("about"),className:"ABCL-button",children:["About ABCL ","2.3.0"]})]})]}),Ds("section",{children:[Ds("h2",{children:"Support"}),Ds("div",{className:"ABCL-contact-info",id:"ABCL-contact-info",children:[Ds("button",{onClick:()=>window.open("https://discord.gg/ENYGwmgDmQ","_blank"),className:"ABCL-button",children:"Join our Discord"}),Ds("button",{onClick:()=>window.open("https://docs.google.com/forms/d/e/1FAIpQLSdOMGAEmOlFTpbcdkdn8b380p50WAE8qPux-45WvFM3qhf9_w/viewform","_blank"),className:"ABCL-button",children:"Give Feedback"})]})]})]}),messages:Ds(Qd,{setPage:t}),stats:Ds(Jd,{setPage:t}),about:Ds(rp,{setPage:t}),sharedSettings:Ds(ip,{setPage:t,selectedCharacter:n})}[e]]}),Ds("button",{onClick:()=>{t("sharedSettings"),r(InformationSheetSelection??void 0)},id:"ABCL-shared-settings-button",className:"ABCL-hidden"})]})}const cp=Bd.div`
  background-color: rgb(255, 255, 255);
  padding: 0.5em;
  display: flex;
  flex-direction: column;
  gap: 0.25em;
  > p {
    color: #000000;
    font-weight: bold;
    font-size: 1.2em;
  }
  > div {
    position: relative;
    display: flex;
    flex-direction: column;
    flex-direction: row;
    height: 1.3em;
    background-color: rgb(230, 230, 230);
  }
  .bar-section {
    background-color: ${e=>e.color};
    height: 100%;
    width: ${e=>100*e.value}%;
    align-content: center;
    padding-left: 0.2em;
    > p {
      color: #fff;
    }
    min-width: 2.5em;
  }
  .striped-bar-section {
    background-color: ${e=>e.color};
    height: 100%;
    width: ${e=>100*e.altBar}%;
    opacity: 0.5;
    height: 1.3em;
    z-index: 2;
  }
  .striped-section {
    background-image: repeating-linear-gradient(135deg, rgba(255, 170, 170, 0.5), rgba(255, 170, 170, 0.5) 5px, transparent 5px, transparent 10px);
    height: 100%;
    width: ${e=>100*e.limit}%;
    position: absolute;
    top: 0;
    right: 0;
  }
`;function up({value:e,label:t,color:n,stripedSection:r}){let i=0,s=e;const a=1-(r??0);return s>a&&(i=e-a,s=a),Ds(cp,{color:n,limit:r,value:s,altBar:i,children:[Ds("p",{children:t}),Ds("div",{children:[Ds("div",{class:"bar-section",children:Ds("p",{children:[Math.round(100*e),"%"]})}),Ds("div",{class:"striped-bar-section"}),Ds("div",{class:"striped-section"})]})]})}const dp=Qc.div`
  .ABCL-stats-overlay {
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    position: absolute;
  }
  .ABCL-stats-panel {
    background-color: var(--abcl-element-indentation);
    color: var(--abcl-text);
  }
  .ABCL-stats-select {
    padding: 0.7%;
    border-radius: 0.35%;
    border: var(--abcl-border);
    background-color: var(--abcl-element);
    color: var(--abcl-text);
    width: calc(100% - 16%);
    margin: 8%;
  }
  .ABCL-stats-container {
    padding: 8%;
    font-size: 0.5em;
    gap: 1em;
    display: flex;
    flex-direction: column;
  }
`;function pp(){const[e,t]=Ws((()=>ChatRoomCharacter.filter((e=>cn(e))))),[n,r]=Ws(0);Xs((()=>(rn.setState=()=>{},rn.setMemberNumber=r,()=>{rn.setState=()=>{},rn.setMemberNumber=()=>{}})),[]);const i=on(n),s=i&&cn(i),a=s?i.ABCL.Stats.MentalRegression.value:0,o=s?i.ABCL.Stats.Incontinence.value:0,l=s?i.ABCL.Stats.Soiliness.value/qn(i):0,c=s?i.ABCL.Stats.Wetness.value/qn(i):0,u=s?i.ABCL.Stats.Bowel.value/i.ABCL.Stats.Bowel.size:0,d=s?i.ABCL.Stats.Bladder.value/i.ABCL.Stats.Bladder.size:0,p=!!s&&i.ABCL.Settings.PauseStats;return Xs((()=>{an()}),[n]),Ds(dp,{className:"ABCL-hidden",id:"ABCL-stats",onMouseEnter:()=>t(ChatRoomCharacter.filter((e=>cn(e)))),children:[Ds("div",{className:"ABCL-stats-overlay",onClick:()=>document.getElementById("ABCL-stats")?.classList.add("ABCL-hidden")}),Ds("div",{className:"ABCL-stats-panel",id:"ABCL-stats-panel",children:[Ds("select",{class:"ABCL-stats-select",onClick:()=>{t(ChatRoomCharacter.filter((e=>cn(e))))},value:n,onChange:e=>{r(parseInt(e.target.value))},children:e.map((e=>Ds("option",{value:e.MemberNumber,selected:e.MemberNumber===n,children:un(e.MemberNumber)},e.MemberNumber)))}),Ds("div",{className:"ABCL-stats-container",children:[Ds(up,{value:o,label:"Incontinence",color:"#e26c6cff"}),Ds(up,{value:a,label:"Mental Regression",color:"#cf6ce2ff"}),Ds(up,{value:l,label:"Soiliness",color:"#e2aa6cff"}),Ds(up,{value:c,label:"Wetness",color:"#e2d06cff"}),Ds(up,{value:u,label:"Bowel Fullness",color:"#e2aa6cff",stripedSection:1-Zn(o)}),Ds(up,{value:d,label:"Bladder Fullness",color:"#e2d06cff",stripedSection:1-Zn(o)}),Ds("p",{children:[Ds("span",{children:"Stats: "}),Ds("span",{children:p?"Paused":"Active"})]}),Ds("button",{onClick:()=>an(),children:"Refresh"})]})]})]})}ep(":root{--abcl-text:var(--tmd-text,#000);--abcl-element:var(--tmd-element,#fff);--abcl-element-indentation:var(--tmd-main,#f0f0f0);--abcl-metabolism-multiplier-text:var(--tmd-text,#b3b3b3);--abcl-selected-text:var(--tmd-text,#fff);--abcl-selected-background:var(--tmd-accent,#000);--abcl-border-color:var(--tmd-accent,#ababab);--abcl-border:0.1em solid var(--abcl-border-color);--abcl-hover-color:var(--tmd-accent,cyan);--abcl-warning-color:#ff4646}@media (prefers-color-scheme:dark){:root{--abcl-text:var(--tmd-text,#c8c8c8);--abcl-element:var(--tmd-element,#424242);--abcl-element-indentation:var(--tmd-main,#262626);--abcl-metabolism-multiplier-text:var(--tmd-text,#c1c1c1);--abcl-selected-text:var(--tmd-text,#fff);--abcl-selected-background:var(--tmd-accent,#000);--abcl-border-color:var(--tmd-accent,#2b2b2b);--abcl-border:0.1em solid var(--abcl-border-color);--abcl-hover-color:var(--tmd-accent,#005968);--abcl-warning-color:#a80000}}.ABCL-hidden{display:none!important}.ABCL-overlay{pointer-events:none;z-index:1}.ABCL-overlay *{pointer-events:fill}.ABCL-exit-button{background-color:var(--abcl-element);background-image:url(Icons/Exit.png);background-position:50%;background-repeat:no-repeat;background-size:contain;border:var(--abcl-border);cursor:pointer;:hover{background-color:var(--abcl-hover-color)}}.value-bar-label{color:var(--abcl-text)}");function hp(){return Ds(os,{children:[Ds(pp,{}),Ds(lp,{})]})}ep(".game-container{background-color:var(--abcl-element);border:var(--abcl-border);box-shadow:0 10px 25px rgba(0,0,0,.1);color:var(--abcl-text);display:flex;flex-direction:column;gap:1em;height:calc(100% - 2em);justify-content:center;margin:1em;padding:.5em;position:relative;text-align:center}.abcl-minigame-horizontal-list,.abcl-minigame-vertical-list{align-content:center;align-items:center;display:flex;gap:1em;height:fit-content;justify-content:center;width:100%}.abcl-minigame-horizontal-list{flex-direction:column}.abcl-distraction-rush-button{background-color:var(--abcl-element);color:var(--abcl-text);padding:.5em;width:fit-content}.abcl-distraction-rush-button-forfeit{background-color:var(--abcl-warning-color);bottom:.5em;color:#fff;position:absolute;right:.5em}@keyframes loading-zoom-in{0%{opacity:0;transform:scale(0)}to{opacity:1;transform:scale(1)}}.abcl-minigame-loading{animation:loading-zoom-in .5s ease-in-out;animation-fill-mode:forwards;opacity:0;transform:scale(0);transition:1s ease-in-out}");const mp=async()=>{Ls(Ds(hp,{}),sn),PreferenceRegisterExtensionSetting({Identifier:"ABCL",ButtonText:"ABCL Settings",Image:"https://zoe-64.github.io/ABCL/versions/2.3.4/assets/abcl.png",run:()=>{},click:()=>{},exit:()=>(nn(document.body,"#ABCL-settings-page").classList.add("ABCL-hidden"),Bt(),!0),load:()=>{nn(document.body,"#ABCL-settings-page").classList.remove("ABCL-hidden"),an()}})},fp=()=>!!document.getElementById("ABCL-settings-page")&&!document.getElementById("ABCL-settings-page")?.classList.contains("ABCL-hidden"),gp=(e,t,n)=>{const r={Type:"Hidden",Content:`${En}Msg`,Sender:Player.MemberNumber,Target:n,Dictionary:[{type:e,data:t}]};ServerSend("ChatRoomChat",r)},yp=t=>{void 0===t?Gi.emitAll("sync",{Settings:Player.ABCL.Settings,SettingPermissions:Player.ABCL.SettingPermissions,Stats:Player.ABCL.Stats,Version:Pn}):Gi.emit(t,"sync",{Settings:Player.ABCL.Settings,SettingPermissions:Player.ABCL.SettingPermissions,Stats:Player.ABCL.Stats,Version:Pn}),e.debug({message:`Sending updated data to ${t??"everyone"}`})},vp=async()=>{await async function(e,t=(()=>!1)){for(;!e();){if(t())return!1;await new Promise((e=>setTimeout(e,10)))}return!0}((()=>ServerSocket&&ServerIsConnected)),Ut.hookFunction("DrawRoomBackground",Yt.OBSERVE,(([e,...t],r)=>{e.includes("Sheet.jpg")&&fp()&&!window?.ThemedLoaded?(r([e,...t]),MainCanvas.save(),MainCanvas.globalCompositeOperation="multiply",DrawRect(0,0,2e3,1e3,"light"===n?"#f1f1f1":"#4d4d4d"),MainCanvas.restore()):r([e,...t])})),Ut.hookFunction("DrawCharacter",1,((e,t)=>{const[n,r,i,s]=e;if(cn(n)&&n.ABCL.Stats.PuddleSize.value>0){let e=n.ABCL.Stats.PuddleSize.value/300;e>1.5&&(e=1.5);const t=512*e,a=235*e;DrawImageResize("https://zoe-64.github.io/ABCL/versions/2.3.4/assets/puddle.png",r+(250*s-t/2),i+(940*s-a/2),t,a)}return t(e)})),Ut.hookFunction("ChatRoomSyncSingle",1,((e,t)=>(Gi.emitAll("sync",{Settings:Player.ABCL.Settings,SettingPermissions:Player.ABCL.SettingPermissions,Stats:Player.ABCL.Stats,Version:Pn}),t(e)))),Ut.hookFunction("ChatRoomSyncMemberJoin",1,((e,t)=>(Gi.emitAll("sync",{Settings:Player.ABCL.Settings,SettingPermissions:Player.ABCL.SettingPermissions,Stats:Player.ABCL.Stats,Version:Pn}),t(e)))),Ut.hookFunction("ChatRoomMessage",1,((t,n)=>"ServerEnter"===t[0].Content&&t[0].Sender===Player.MemberNumber?(Gi.emitAll("init"),void e.debug("Requesting data from others.")):((e=>{if("ABCLMsg"!==e?.Content)return;if(!e.Sender||!e.Dictionary)return;if(e.Sender===Player.MemberNumber)return;if("Hidden"!==e.Type)return;if(!e.Dictionary[0]?.type)return;const t=e.Dictionary[0]?.type,n=e.Dictionary[0]?.data;for(const r of Ur){const i=r.listeners?.[t];i&&i(e,n)}})(t[0]),n(t)))),Ut.hookFunction("CharacterAppearanceSetItem",1,((e,t)=>{let[n,r,i]=e;const s=t(e);return"ItemPelvis"===r&&i&&$n({Asset:i})&&Wn(),s})),Ut.hookFunction("ActivityRun",1,((e,t)=>{const n=t(e),[i,s,a,o,...l]=e,c=o?.Activity;if(Player.ABCL.Settings.AccidentsByActivities&&s.MemberNumber===Player.MemberNumber&&c.Name in r){const e=r[c.Name];"Disabled"!==Player.ABCL.Settings.PeeMetabolism&&e.wetting&&Math.random()<e.wetting*(1+2*Mn.stats.Incontinence)&&Mn.attemptWetting(),"Disabled"!==Player.ABCL.Settings.PoopMetabolism&&e.messing&&Math.random()<e.messing*(1+2*Mn.stats.Incontinence)&&Mn.attemptSoiling()}return n})),Ut.hookFunction("InformationSheetRun",Yt.TOP,((e,t)=>{InformationSheetSelection?.ABCL&&!window?.bcx?.inBcxSubscreen?.()&&!window.MPA?.menuLoaded&&window.LITTLISH_CLUB&&!window.LITTLISH_CLUB.inModSubscreen()&&(window.LITTLISH_CLUB.isCaregiverOf(Player,InformationSheetSelection)||window.LITTLISH_CLUB.isMommyOf(Player,InformationSheetSelection))&&window.LITTLISH_CLUB.hasAccessRightTo(Player,InformationSheetSelection,"MANAGE_ABCL_SETTINGS")&&DrawButton(1590,685,90,90,"","White","https://zoe-64.github.io/ABCL/versions/2.3.4/assets/icon-small.png","ABCL"),t(e)})),Ut.hookFunction("CharacterNickname",1,((e,t)=>{const[n]=e;let r=t(e);return cn(n)&&xn("any",n)&&(r="🍼 "+r),[155633,54811,126467,178496,33367].includes(n.MemberNumber??-1)&&(r="❀ "+r),164988===n.MemberNumber&&(r="ᐢ. ₓ .ᐢ "+r),r})),Ut.hookFunction("InformationSheetClick",Yt.OBSERVE,((e,t)=>{InformationSheetSelection?.ABCL&&!window?.bcx?.inBcxSubscreen?.()&&!window.MPA?.menuLoaded&&!window?.LSCG_REMOTE_WINDOW_OPEN&&window.LITTLISH_CLUB&&!window.LITTLISH_CLUB.inModSubscreen()&&(window.LITTLISH_CLUB.isCaregiverOf(Player,InformationSheetSelection)||window.LITTLISH_CLUB.isMommyOf(Player,InformationSheetSelection))&&window.LITTLISH_CLUB.hasAccessRightTo(Player,InformationSheetSelection,"MANAGE_ABCL_SETTINGS")&&MouseIn(1600,700,90,90)&&(nn(document.body,"#ABCL-settings-page").classList.remove("ABCL-hidden"),an(),(async()=>{await CommonSetScreen("Character","Preference"),PreferenceSubscreen=PreferenceSubscreens.find((e=>"Extensions"===e.name))??null,PreferenceSubscreen?.load?.();const e=PreferenceExtensionsDisplay.find((e=>"ABCL Settings"===e.Button));e&&(e.click(),nn(document.body,"#ABCL-shared-settings-button").click())})()),t(e)})),Ut.hookFunction("InformationSheetExit",Yt.OBSERVE,((e,t)=>{t(e)}))},bp=[],_p=["Refusing to load mod"];window.addEventListener("error",(async e=>{if(console.error(e.filename),!e.filename.toLowerCase().includes("abcl")||_p.some((t=>e.message.toLowerCase().includes(t.toLowerCase()))))return;const t=`${e.message} at ${e.filename} ${e.lineno}`;if(bp.includes(t))return;bp.push(t);const n={username:`${Player.Name} ${""===Player.Nickname?"":`aka ${Player.Nickname}`} (${Player.MemberNumber})`,thread_name:`${En} ${Pn} Error ${e.message}`.slice(0,100),content:`\n    error: ${t}\n\`\`\`\n${e.error.stack}\n\`\`\`\nmods: ${qt.getModsInfo().map((e=>e.name)).join(", ")}`};await fetch("https://discord.com/api/webhooks/1397630713783648308/e_afTapfhvTLU7Qs-XmZrhRu9jatXdnnGX_r0tnSu5ke11Bqk1NI_yZMS7fHfU8t2hSq",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})}));
/**
     * @sugarch/bc-asset-manager v1.0.2
     *
     * Copyright (c) 2025 SugarChain Studio
     * License: MIT
     * https://github.com/SugarChain-Studio/sugarch-utilities
     * @preserve
     */
const Ap=new Set(["ItemTorso","ItemTorso2"]),Cp={ItemTorso:Ap,ItemTorso2:Ap},Sp={},Pp={};function Ep(e){return(Cp[e]&&Array.from(Cp[e])||[e]).map((e=>Lp(e)))}function Lp(e){return{name:e,group:AssetGroupGet("Female3DCG",e)}}function wp(e){return Sp[e]}class Ip{static add(e){for(const[t,n]of Object.entries(e))for(const[e,r]of Object.entries(n))Ep(t).forEach((({name:t})=>{AssetFemale3DCGExtended[t]||(AssetFemale3DCGExtended[t]={}),AssetFemale3DCGExtended[t][e]||(AssetFemale3DCGExtended[t][e]=r)}))}static get value(){return AssetFemale3DCGExtended}}const kp={};class Np{static add(e,t){return 0===Object.keys(kp).length&&AssetFemale3DCG.forEach((e=>{kp[e.Group]||(kp[e.Group]={});for(const t of e.Asset){const n=Dp(t);kp[e.Group][n.Name]=n}})),kp[e]||(kp[e]={}),kp[e][t.Name]=t,kp}static get value(){return kp}}function Dp(e){return"string"==typeof e?{Name:e}:e}class Mp{constructor(e,t){this.fulfilled=e,this.value=t}then(e,t){void 0!==this.value?e(this.value):t?t(this.value):console.error("Promise rejected without handler",this.value)}static resolve(e){return new Mp(!0,e)}static reject(e){return new Mp(!1,e)}}const Bp={},Op={},Rp=[],xp=(e,t)=>Op[e]?.[t];function Tp(){return Bp}function $p(){return Op}function Gp(e){return!!(e&&e.Asset&&xp(e.Asset.Group.Name,e.Asset.Name))}function Fp(e,t){const n="TW"!==TranslationLanguage?TranslationLanguage:"CN";let r=e(n);return void 0!==r?r:(r="CN"===n?e("CN"):e("EN")||e("CN"),void 0!==r?r:t)}function zp(e,t){return Fp((t=>e[t]),t)}function jp(e,t,n){return Fp((n=>e[n]?.[t]),n)}const Vp={};function Up(e,t,n){for(const[r,i]of Object.entries(n)){Vp[r]||(Vp[r]={});for(const[n,s]of Object.entries(i))Vp[r][`${e}${t}${n}`]=s}}let Hp=!1;function Wp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var qp,Xp,Yp,Zp;function Kp(){if(Xp)return qp;Xp=1;const e="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};return qp=e}function Jp(){if(Zp)return Yp;Zp=1;const e=Number.MAX_SAFE_INTEGER||9007199254740991;return Yp={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:e,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}}var Qp,eh,th,nh,rh,ih,sh,ah,oh,lh,ch,uh={exports:{}};function dh(){if(sh)return ih;sh=1;const e=Kp(),{MAX_LENGTH:t,MAX_SAFE_INTEGER:n}=Jp(),{safeRe:r,t:i}=(Qp||(Qp=1,function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:i}=Jp(),s=Kp(),a=(t=e.exports={}).re=[],o=t.safeRe=[],l=t.src=[],c=t.safeSrc=[],u=t.t={};let d=0;const p="[a-zA-Z0-9-]",h=[["\\s",1],["\\d",i],[p,r]],m=(e,t,n)=>{const r=(e=>{for(const[t,n]of h)e=e.split(`${t}*`).join(`${t}{0,${n}}`).split(`${t}+`).join(`${t}{1,${n}}`);return e})(t),i=d++;s(e,i,t),u[e]=i,l[i]=t,c[i]=r,a[i]=new RegExp(t,n?"g":void 0),o[i]=new RegExp(r,n?"g":void 0)};m("NUMERICIDENTIFIER","0|[1-9]\\d*"),m("NUMERICIDENTIFIERLOOSE","\\d+"),m("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${p}*`),m("MAINVERSION",`(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})`),m("MAINVERSIONLOOSE",`(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})`),m("PRERELEASEIDENTIFIER",`(?:${l[u.NONNUMERICIDENTIFIER]}|${l[u.NUMERICIDENTIFIER]})`),m("PRERELEASEIDENTIFIERLOOSE",`(?:${l[u.NONNUMERICIDENTIFIER]}|${l[u.NUMERICIDENTIFIERLOOSE]})`),m("PRERELEASE",`(?:-(${l[u.PRERELEASEIDENTIFIER]}(?:\\.${l[u.PRERELEASEIDENTIFIER]})*))`),m("PRERELEASELOOSE",`(?:-?(${l[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[u.PRERELEASEIDENTIFIERLOOSE]})*))`),m("BUILDIDENTIFIER",`${p}+`),m("BUILD",`(?:\\+(${l[u.BUILDIDENTIFIER]}(?:\\.${l[u.BUILDIDENTIFIER]})*))`),m("FULLPLAIN",`v?${l[u.MAINVERSION]}${l[u.PRERELEASE]}?${l[u.BUILD]}?`),m("FULL",`^${l[u.FULLPLAIN]}$`),m("LOOSEPLAIN",`[v=\\s]*${l[u.MAINVERSIONLOOSE]}${l[u.PRERELEASELOOSE]}?${l[u.BUILD]}?`),m("LOOSE",`^${l[u.LOOSEPLAIN]}$`),m("GTLT","((?:<|>)?=?)"),m("XRANGEIDENTIFIERLOOSE",`${l[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),m("XRANGEIDENTIFIER",`${l[u.NUMERICIDENTIFIER]}|x|X|\\*`),m("XRANGEPLAIN",`[v=\\s]*(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:${l[u.PRERELEASE]})?${l[u.BUILD]}?)?)?`),m("XRANGEPLAINLOOSE",`[v=\\s]*(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:${l[u.PRERELEASELOOSE]})?${l[u.BUILD]}?)?)?`),m("XRANGE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAIN]}$`),m("XRANGELOOSE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAINLOOSE]}$`),m("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),m("COERCE",`${l[u.COERCEPLAIN]}(?:$|[^\\d])`),m("COERCEFULL",l[u.COERCEPLAIN]+`(?:${l[u.PRERELEASE]})?`+`(?:${l[u.BUILD]})?(?:$|[^\\d])`),m("COERCERTL",l[u.COERCE],!0),m("COERCERTLFULL",l[u.COERCEFULL],!0),m("LONETILDE","(?:~>?)"),m("TILDETRIM",`(\\s*)${l[u.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",m("TILDE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAIN]}$`),m("TILDELOOSE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAINLOOSE]}$`),m("LONECARET","(?:\\^)"),m("CARETTRIM",`(\\s*)${l[u.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",m("CARET",`^${l[u.LONECARET]}${l[u.XRANGEPLAIN]}$`),m("CARETLOOSE",`^${l[u.LONECARET]}${l[u.XRANGEPLAINLOOSE]}$`),m("COMPARATORLOOSE",`^${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]})$|^$`),m("COMPARATOR",`^${l[u.GTLT]}\\s*(${l[u.FULLPLAIN]})$|^$`),m("COMPARATORTRIM",`(\\s*)${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]}|${l[u.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",m("HYPHENRANGE",`^\\s*(${l[u.XRANGEPLAIN]})\\s+-\\s+(${l[u.XRANGEPLAIN]})\\s*$`),m("HYPHENRANGELOOSE",`^\\s*(${l[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[u.XRANGEPLAINLOOSE]})\\s*$`),m("STAR","(<|>)?=?\\s*\\*"),m("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),m("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}(uh,uh.exports)),uh.exports),s=function(){if(th)return eh;th=1;const e=Object.freeze({loose:!0}),t=Object.freeze({});return eh=n=>n?"object"!=typeof n?e:n:t}(),{compareIdentifiers:a}=function(){if(rh)return nh;rh=1;const e=/^[0-9]+$/,t=(t,n)=>{const r=e.test(t),i=e.test(n);return r&&i&&(t=+t,n=+n),t===n?0:r&&!i?-1:i&&!r?1:t<n?-1:1};return nh={compareIdentifiers:t,rcompareIdentifiers:(e,n)=>t(n,e)},nh}();class o{constructor(a,l){if(l=s(l),a instanceof o){if(a.loose===!!l.loose&&a.includePrerelease===!!l.includePrerelease)return a;a=a.version}else if("string"!=typeof a)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof a}".`);if(a.length>t)throw new TypeError(`version is longer than ${t} characters`);e("SemVer",a,l),this.options=l,this.loose=!!l.loose,this.includePrerelease=!!l.includePrerelease;const c=a.trim().match(l.loose?r[i.LOOSE]:r[i.FULL]);if(!c)throw new TypeError(`Invalid Version: ${a}`);if(this.raw=a,this.major=+c[1],this.minor=+c[2],this.patch=+c[3],this.major>n||this.major<0)throw new TypeError("Invalid major version");if(this.minor>n||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>n||this.patch<0)throw new TypeError("Invalid patch version");c[4]?this.prerelease=c[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<n)return t}return e})):this.prerelease=[],this.build=c[5]?c[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(e("SemVer.compare",this.version,this.options,t),!(t instanceof o)){if("string"==typeof t&&t===this.version)return 0;t=new o(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(e){return e instanceof o||(e=new o(e,this.options)),a(this.major,e.major)||a(this.minor,e.minor)||a(this.patch,e.patch)}comparePre(t){if(t instanceof o||(t=new o(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let n=0;do{const r=this.prerelease[n],i=t.prerelease[n];if(e("prerelease compare",n,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return-1;if(r!==i)return a(r,i)}while(++n)}compareBuild(t){t instanceof o||(t=new o(t,this.options));let n=0;do{const r=this.build[n],i=t.build[n];if(e("build compare",n,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return-1;if(r!==i)return a(r,i)}while(++n)}inc(e,t,n){if(e.startsWith("pre")){if(!t&&!1===n)throw new Error("invalid increment argument: identifier is empty");if(t){const e=`-${t}`.match(this.options.loose?r[i.PRERELEASELOOSE]:r[i.PRERELEASE]);if(!e||e[1]!==t)throw new Error(`invalid identifier: ${t}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,n),this.inc("pre",t,n);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,n),this.inc("pre",t,n);break;case"release":if(0===this.prerelease.length)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const e=Number(n)?1:0;if(0===this.prerelease.length)this.prerelease=[e];else{let r=this.prerelease.length;for(;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);if(-1===r){if(t===this.prerelease.join(".")&&!1===n)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let r=[t,e];!1===n&&(r=[t]),0===a(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=r):this.prerelease=r}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return ih=o}var ph,hh,mh,fh,gh=Wp(function(){if(ch)return lh;ch=1;const e=function(){if(oh)return ah;oh=1;const e=dh();return ah=(t,n,r=!1)=>{if(t instanceof e)return t;try{return new e(t,n)}catch(e){if(!r)return null;throw e}}}();return lh=(t,n)=>{const r=e(t,n);return r?r.version:null}}()),yh=function(){if(fh)return mh;fh=1;const e=function(){if(hh)return ph;hh=1;const e=dh();return ph=(t,n,r)=>new e(t,r).compare(new e(n,r)),ph}();return mh=(t,n,r)=>e(t,n,r)<0,mh}(),vh=Wp(yh);
/**
     * @sugarch/bc-mod-utility v0.2.11
     *
     * Copyright (c) 2025 SugarChain Studio
     * License: MIT
     * https://github.com/SugarChain-Studio/sugarch-utilities
     * @preserve
     */
function bh(e){return globalThis[e]}class _h{static _initStorage(){var e,t;bh(this._namespace)||(e=this._namespace,t={},globalThis[e]=t)}static get(e,t){this._initStorage();const n=bh(this._namespace);return e in n||(n[e]=t()),n[e]}static getMayOverride(e,t){this._initStorage();const n=bh(this._namespace);return n[e]=t(n[e]),n[e]}static getByVersion(e,t,n,r){if(this._initStorage(),!gh(t))throw new Error(`Invalid version for ${e}: ${t}`);const i=bh(this._namespace),s=`${e}.__Version`,a=i[e],o=i[s];return a?o&&!vh(o,t)||(i[e]=r(o,a),i[s]=t):(i[e]=n(a),i[s]=t),i[e]}static set(e,t){this._initStorage(),bh(this._namespace)[e]=t}static has(e){return this._initStorage(),e in bh(this._namespace)}static delete(e){this._initStorage();const t=bh(this._namespace);return e in t&&delete t[e]}static setImplementation(e){const t=["get","set","has","delete"];for(const n of t){if("function"!=typeof e[n])throw new Error(`Implementation must provide a '${n}' function`);_h[n]=e[n]}}static createNamespace(e){return{get:(t,n)=>_h.get(`${e}.${t}`,n),getMayOverride:(t,n)=>_h.getMayOverride(`${e}.${t}`,n),set:(t,n)=>_h.set(`${e}.${t}`,n),has:t=>_h.has(`${e}.${t}`),delete:t=>_h.delete(`${e}.${t}`)}}}_h._namespace="__BC_LUZI_GLOBALS__";const Ah=_h.createNamespace("OnceFlag");function Ch(e,t){Ah.get(e,(()=>!1))||(Ah.set(e,!0),t())}function Sh(e){return new Promise((t=>setTimeout(t,e)))}let Ph=class{static get emptyImage(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAG3RFWHRTb2Z0d2FyZQBDZWxzeXMgU3R1ZGlvIFRvb2zBp+F8AAAADUlEQVQI12P4//8/AwAI/AL+XJ/P2gAAAABJRU5ErkJggg=="}static assetPreviewIconPath(e){const t="Asset"in e?e.Asset:e;return`${AssetGetPreviewPath(t)}/${t.Name}.png`}static activityPreviewIconPath(e){return`Assets/Female3DCG/Activity/${("Activity"in e?e.Activity:e).Name}.png`}},Eh=class{get globalFuncName(){return this._globalFuncName}constructor(e,t){this.functions=[],this._globalFuncName=`${e}_${Math.random().toString(16).substring(2)}`,this.functions.push(((e,...n)=>t(...n))),globalThis[this._globalFuncName]=(...e)=>this.run(...e)}register(e){return this.functions.push(e),this}run(...e){let t;for(const n of this.functions)t=n(t,...e);return t}};function Lh(e,t,n){return _h.get(e,(()=>{const r=new Eh(e,t);return n?.(r),r}))}function wh(e){return zp(e,e.CN)}function Ih(e,t){return e?e.CN?e:{...e,CN:t}:{CN:t}}function kh(e,t,n){const r={};for(const[i,s]of Object.entries(n))s[e]?.[t]&&(r[i]=s[e][t]);return r}function Nh(e,t,n){const r={};for(const[i,s]of Object.entries(n))s[e]?.[t]&&(r[i]=s[e][t]);return r}const Dh={},Mh={};class Bh{static setAsset(e,t,n){Object.entries(n).forEach((([n,r])=>{const i=n;Dh[i]||(Dh[i]={}),Dh[i][e]||(Dh[i][e]={}),Dh[i][e][t]=r}))}static setGroup(e,t){Object.entries(t).forEach((([t,n])=>{const r=t;Mh[r]||(Mh[r]={}),Mh[r][e]=n}))}}function Oh(e,t){e.Description=t}function Rh(){Object.values(Tp()).forEach((e=>Oh(e,function(e){return jp(Mh,e,e.replace(/_.*?Luzi$/,""))}(e.Name)))),Object.values($p()).map((e=>Object.values(e))).flat().forEach((e=>Oh(e,function(e,t){return n=Dh,r=e,i=t,Fp((e=>n[e]?.[r]?.[i]),t.replace(/_.*?Luzi$/,""));var n,r,i}(e.Group.Name,e.Name)))),Object.entries($p()).map((([e,t])=>({group:wp(e),asset:t}))).filter((({group:e})=>!!e)).map((({group:e,asset:t})=>Object.entries(t).map((([t,n])=>({asset:n,fromAsset:AssetGet("Female3DCG",e,t)}))))).flat().filter((({fromAsset:e})=>!!e)).forEach((({asset:e,fromAsset:t})=>Oh(e,t.Description)));const e=TextAllScreenCache.get(AssetStringsPath),t=e=>{const t=Pp,n=new Set,r=AssetGroup.map((e=>e.Name)).sort(((e,t)=>t.length-e.length));Object.entries(e.cache).forEach((([i,s])=>{if(n.has(i))return;const a=r.find((e=>i.startsWith(e)));if(!a)return;n.add(i);const o=t[a];if(!o)return;const l=i.slice(a.length);o.forEach((t=>{const n=t+l;e.cache[n]||(e.cache[n]=s)}))}))};e&&(e.loaded?t(e):e.rebuildListeners.push((e=>e&&t(e))))}let xh=!1;const Th=new Map,$h=new Map;let Gh,Fh,zh;function jh(e,t,n){const r=e.get(t);if(r){const i=n.noOverride?{...n.desc,...r.desc}:{...r.desc,...n.desc},s=n.noOverride?r.fallback:n.fallback;e.set(t,{desc:i,fallback:s,noOverride:n.noOverride})}else e.set(t,n)}function Vh(e,t,n,r=!1){r&&Th.has(e)||jh(Th,e,{desc:t,fallback:n,noOverride:r})}function Uh(e,t,n,r=!1){r&&$h.has(e)||jh($h,e,{desc:t,fallback:n,noOverride:r})}function Hh(e){const t={};for(const[n,r]of Object.entries(e))for(const[e,i]of Object.entries(r))t[e]||(t[e]={}),t[e][n]=i;return Object.entries(t).reduce(((e,[t,n])=>(e.push({key:t,value:n}),e)),[])}function Wh(e,t,{entries:n,noOverride:r}={}){const i=function(e){if(!e)return e=>({CN:e});const t={};for(const[n,r]of Object.entries(e))for(const[e,i]of Object.entries(r))t[e]||(t[e]={}),t[e][n]=i;return e=>t[e]||{CN:e}}(n),s=new Set;t.Layer?.filter((e=>!e.CopyLayerColor&&(e.AllowColorize??!0)&&!e.HideColoring)).forEach((({Name:n,ColorGroup:a})=>{n?Vh(`${e}${t.Name}${n}`,i(n),n,!!r):Vh(`${e}${t.Name}`,{CN:t.Name.replace(/_.*?Luzi$/,"")},t.Name,!!r),a&&s.add(a)})),s.forEach((n=>Uh(`${e}${t.Name}${n}`,i(n),n,!!r)))}class qh{static info(e){zh?.info(e)}static warn(e){zh?.warn(e)}static error(e){zh?.error(e)}}let Xh=!1;const Yh=[];function Zh(e){Xh?e():Yh.push(e)}const Kh=[];let Jh=!1;function Qh(e){Jh?e():Kh.push(e)}const em={},tm={};function nm(e,t){const n=AssetGroupGet("Female3DCG",e);Xh&&n?t(n):(tm[e]||(tm[e]=[]),tm[e].push(t))}let rm=!1;const im=[];function sm(e){rm?e():im.push(e)}const am=new Set;function om(e,t,{extendedConfig:n,translation:r,dynamicName:i,preimage:s,noMirror:a,layerNames:o,assetStrings:l}={}){!function(e,t){const n=AssetGroupGet("Female3DCG",e);Xh&&n?t(n):(em[e]||(em[e]=[]),em[e].push(t))}(e,(e=>{Np.add(e.Name,t),n&&Ip.add(n)}));const c=e;!function(e,t,n){const r=n=>{const i=t?[Lp(e)]:Ep(e),s=i.find((({group:e})=>!e));if(s)return am.has(s.name)?void console.error(`[AssetManager] Required group "${s.name}" not found`):(am.add(s.name),void nm(s.name,(()=>r(n))));i.forEach((({group:e})=>n(e)))};Xh?r(n):nm(e,(()=>r(n)))}(e,!!a,(e=>{const n=e.Name,a=Dp(t),u=AssetResolveCopyConfig.AssetDefinition(a,n,Np.value);if(!u)return;const d=Ih(r,u.Name.replace(/_.*?Luzi$/,""));void 0!==$p()[n]?.[a.Name]&&console.warn(`[AssetManager] Asset {${n}:${a.Name}} already existed!`),function(...[e,t,n]){Ut.invokeOriginal("AssetAdd",e,t,n);const r=e.Name,i=t.Name;Op[r]||(Op[r]={});const s=AssetGet("Female3DCG",r,i);return s?(Op[r][i]=s,Mp.resolve(s)):Mp.reject(`Asset ${r}:${i} not found`)}(e,u,Ip.value).then((e=>{if(e.DynamicGroupName===e.Group.Name&&(e.DynamicGroupName=i||c),s){const t=AssetGet("Female3DCG",s.Name,u.Name);t&&(e.Description=t.Description,e.DynamicGroupName=t.DynamicGroupName,["ScriptDraw","BeforeDraw","AfterDraw"].filter((e=>t[`Dynamic${e}`])).forEach((e=>function(e,t,n,r){const i=`Assets${t}${n.Name}${r}`,s=`Assets${e}${n.Name}${r}`;globalThis[i]&&(globalThis[s]=globalThis[i])}(n,s.Name,u,e))))}else e.Description=wh(d),function(e,t){Rp.push({name:e,asset:t})}(u.Name,e),Wh(e.DynamicGroupName,u,{entries:o,noOverride:!o});l&&Up(e.Group.Name,e.Name,l)})),Bh.setAsset(n,u.Name,d)}))}const lm={},cm={};function um(e,{translation:t,dynamicName:n,preimage:r}={}){Zh((()=>{const i=Ih(t,e.Group.replace(/_.*?Luzi$/,""));(function(...[e,t]){const n=Ut.invokeOriginal("AssetGroupAdd",e,t);return Bp[n.Name]=n,Mp.resolve(n)})("Female3DCG",e).then((t=>{t.Description=wh(i),n&&(t.DynamicGroupName=n);const s=(()=>{if(!r)return;const t=AssetFemale3DCGExtended[r.Name];if(!t)return;const n={};for(const[e,i]of Object.entries(t))n[e]={Archetype:i.Archetype,CopyConfig:{GroupName:r.Name,AssetName:e}};return{[e.Group]:n}})();e.Asset.forEach((t=>{const i=Dp(t);if(s&&r){const t=cm[r.Name]?.[i.Name];t&&sm((()=>{const n=AssetGet("Female3DCG",e.Group,i.Name);n&&AssetBuildExtended(n,t,s,null,!1)}))}om(e.Group,i,{dynamicName:n,preimage:r,extendedConfig:s})}))})),Bh.setGroup(e.Group,i)}))}Zh((()=>{let e=!1;Ut.hookFunction("AssetBuildExtended",0,((t,n)=>{if(e){const[e,n]=t;return cm[e.Group.Name]??={},cm[e.Group.Name][e.Name]=n,null}return n(t)})),e=!0,Ut.invokeOriginal("ExtendedItemManualRegister"),e=!1}));const dm=new Set;function pm(e,t,n,r){const i=()=>{const s=AssetFemale3DCG.find((e=>e.Group===t))||Tp()[t],a=AssetGroupGet("Female3DCG",t),o=AssetFemale3DCGExtended[t];if(!s||!a)return dm.has(t)?void console.error(`[AssetManager] Group ${t} not found`):(dm.add(t),void Qh(i));var l,c;c=e,Cp[l=t]||(Cp[l]=new Set([l])),Cp[l].add(c),Pp[l]||(Pp[l]=new Set),Pp[l].add(c),Sp[c]=l;const u=Ih(n,e.replace(/_.*?Luzi$/,""));um({...s,...r,Group:e,Default:!1,Random:!1},{translation:u,dynamicName:s.DynamicGroupName||s.Group,preimage:a}),AssetFemale3DCGExtended[e]=o};Qh(i)}let hm,mm=!1;
/**
     * @sugarch/bc-image-mapping v2.0.1
     *
     * Copyright (c) 2025 SugarChain Studio
     * License: MIT
     * https://github.com/SugarChain-Studio/sugarch-utilities
     * @preserve
     */
function fm(e,t){const n=new Set;let r=e;for(;t[r];){if(n.has(r))return console.warn(`Circular dependency detected during resolution: ${r}`),"";n.add(r),r=t[r]}return r}function gm(e){const t={};for(const n of Object.keys(e)){const r=fm(n,e);if(!r)return console.warn(`Circular dependency detected during optimization: ${n}`),null;t[n]=r}return t}const ym=new class{constructor(){this.basic={},this.custom={},this.customSrc={}}addImgMapping(e){const t={...this.customSrc,...e},n=gm(t);n?(this.customSrc=t,this.custom=n):console.warn("Failed to add mappings due to circular dependencies.")}rebuildCustomMapping(){const e=gm(this.customSrc);e?this.custom=e:console.warn("Failed to rebuild mappings due to circular dependencies.")}migrateTo(e){e.customSrc={...e.customSrc,...this.customSrc},e.basic={...e.basic,...this.basic},e.rebuildCustomMapping(),this.customSrc=e.customSrc,this.basic=e.basic,this.custom=e.custom}setBasicImgMapping(e){this.basic={...e,...this.basic}}mapImgSrc(e){if("string"!=typeof e)return e;if(!e.endsWith(".png"))return e;if(e.startsWith("data:image"))return e;if(e.startsWith("http"))return e;if(e.startsWith("@nomap/"))return e;const t=e.startsWith("./")?e.slice(2):e;let n=t;return this.custom[n]&&(n=this.custom[n]),this.basic[n]&&(n=this.basic[n]),n!==t?n:e}mapImg(e,t){let n=e;n.startsWith("data:image")||n.startsWith("http")||(this.custom[n]&&(n=this.custom[n]),this.basic[n]&&(n=this.basic[n]),n!==e&&t(n))}};class vm{constructor(){Ch("ImgMappingOnce.GLDrawLoadImage.crossOrigin",(()=>{Ut.patchFunction("GLDrawLoadImage",{"Img.src = url;":'Img.crossOrigin = "Anonymous";\n\t\tImg.src = url;'})})),["DrawImageEx","DrawImageResize","GLDrawImage","DrawGetImage"].forEach((e=>{Ut.hookFunction(e,10,((e,t)=>(e[0]=ym.mapImgSrc(e[0]),t(e))))})),Ch("ImgMappingOnce.nomap",(()=>{["DrawImageEx","DrawImageResize","GLDrawImage","DrawGetImage"].forEach((e=>{Ut.hookFunction(e,0,((e,t)=>("string"==typeof e[0]&&e[0].startsWith("@nomap/")&&(e[0]=e[0].substring(7)),t(e))))}))})),Ut.hookFunction("GLDrawLoadTextureAlphaMask",0,((e,t)=>(Array.isArray(e[5])&&(e[5]=e[5].map((e=>({...e,Url:ym.mapImgSrc(e.Url)})))),t(e)))),(async()=>{await function(e,t=100){return(async()=>{for(;!e();)await Sh(t)})()}((()=>void 0!==globalThis.ElementButton)),Ut.hookFunction("ElementButton.CreateForAsset",0,((e,t)=>(ym.mapImg(Ph.assetPreviewIconPath(e[1]),(t=>{e[4]={...e[4],image:t}})),t(e)))),Ut.hookFunction("ElementButton.CreateForActivity",0,((e,t)=>{const n=e[1],r=e[4]?.image??(n.Item?Ph.assetPreviewIconPath(n.Item.Asset):`Assets/Female3DCG/Activity/${n.Activity.Name}.png`);return ym.mapImg(r,(t=>{e[4]={...e[4],image:t}})),t(e)})),Ut.hookFunction("ElementButton.Create",0,((e,t)=>{if(e[0]?.startsWith("dialog-inventory")){const t=e[2];t?.icons&&(t.icons=t.icons.map((e=>{if("string"==typeof e&&e.endsWith("Padlock")){const t=`Assets/Female3DCG/ItemMisc/Preview/${e}.png`,n=ym.mapImgSrc(t);if(n!==t)return{name:e,iconSrc:n,tooltipText:InterfaceTextGet("PreviewIconPadlock").replace("AssetName",AssetGet("Female3DCG","ItemMisc",e)?.Description??e)}}return e})))}if(e[0]?.startsWith("dialog-expression-button-grid-Emoticon")){const t=e[2];t?.image&&(t.image=ym.mapImgSrc(t.image))}return t(e)}))})()}get storage(){return ym}addImgMapping(e){ym.addImgMapping(e)}setBasicImgMapping(e){ym.setBasicImgMapping(e)}}const bm=_h.get("ImageMapping@2.0.1",(()=>new vm)),_m=new class{addAsset(e,t,n,r,i=!1){om(e,t,n?{extendedConfig:{[e]:{[t.Name]:n}},translation:r,noMirror:i}:{translation:r,noMirror:i})}addAssetWithConfig(e,t,n){const r=(e,t,n)=>{const r=Array.isArray(e)?e:[e],i={[t.Name]:n.extended},s={translation:n.translation,noMirror:n.noMirror,layerNames:n.layerNames,...n.extended?{extendedConfig:Object.fromEntries(r.map((e=>[e,i])))}:{},assetStrings:n.assetStrings};for(const e of r)om(e,t,s)};if(function(e){return Array.isArray(e)&&"string"!=typeof e[0]}(e))for(const[t,n,i]of e)r(t,n,i);else if(t&&Array.isArray(t))for(const[n,i]of t)r(e,n,i);else t&&n&&r(e,t,n)}addGroupedAssetsWithConfig(e,t,n){for(const[r,i]of Object.entries(e))for(const e of i){const i=r;om(i,e,{translation:Nh(i,e.Name,t),layerNames:kh(i,e.Name,n)})}}addGroupedAssets(e,t,n){for(const[r,i]of Object.entries(e))for(const e of i){const i=r,s=t&&Nh(i,e.Name,t);om(i,e,{extendedConfig:n&&n[i]?.[e.Name]&&{[i]:{[e.Name]:n[i][e.Name]}},translation:s})}}addGroupedConfig(e){!function(e){e&&Ip.add(e)}(e)}modifyAsset(e,t,n){!function(e,t,n){"string"==typeof e&&(e=[e]);for(const r of e){const e=i=>{const s=AssetGet("Female3DCG",i.Name,t);if(s)n(i,s);else{if(lm[r]||(lm[r]=new Set),lm[r].has(t))return void console.error(`[AssetManager] Asset ${r}:${t} not found`);lm[r].add(t),nm(r,e)}};nm(r,e)}}(e,t,n)}supplyExtended(e,t,n,r){!function(e,t,n,r){sm((()=>{const i=Array.isArray(e)?e:[e];for(const e of i){const i=AssetGet("Female3DCG",e,t);i?Ip.value[e]?.[t]?console.warn(`[AssetManager] Asset {${e}:${t}} already has extended config!`):(Ip.add({[e]:{[t]:n}}),Ut.invokeOriginal("AssetBuildExtended",i,n,Ip.value),Up(i.Group.Name,i.Name,r)):console.error(`[AssetManager] Asset {${e}:${t}} not found`)}}))}(e,t,n,r)}modifyAssetLayers(e,t){!function(e,t){sm((()=>{Asset.filter(e).forEach((e=>{e.Layer.forEach((n=>t(e,n)))}))}))}(e,t)}modifyGroup(e,t){!function(e,t){nm(e,(e=>t(e)))}(e,t)}addCustomAssetString(e){!function(e){for(const[t,n]of Object.entries(e)){Vp[t]||(Vp[t]={});for(const[e,r]of Object.entries(n))Vp[t][e]=r,e.includes("ItemTorso2")?Vp[t][e.replace("ItemTorso2","ItemTorso")]=r:e.includes("ItemTorso")&&(Vp[t][e.replace("ItemTorso","ItemTorso2")]=r)}}(e)}addImageMapping(e){bm.addImgMapping(e)}get imageMapping(){return bm}addGroup(e,t){um(e,{translation:t})}addCopyGroup(e,t,n,r){pm(e,t,n,r)}addLayerNames(e,t,n){Wh(e,t,{entries:n})}addLayerNamesRaw(e,t,n){!function(e,t,n){for(const{key:r,value:i}of Hh(n))Vh(`${e}${t}${r}`,i,r)}(e,t,n)}addColorGroupNamesRaw(e,t,n){!function(e,t,n){for(const{key:r,value:i}of Hh(n))Uh(`${e}${t}${r}`,i,r)}(e,t,n)}assetIsCustomed(e){return void 0!==$p()[e.Group.Name]?.[e.Name]}assetNameIsStrictCustomed(e){return void 0!==(t=e,Rp.find((e=>e.name===t))?.asset);var t}afterLoad(e){sm(e)}init(e){!function(){if(Hp)return;Hp=!0;const e=e=>jp(Vp,e);Ut.progressiveHook("AssetTextGet").override(((t,n)=>e(t[0])||n(t))),Ut.progressiveHook("ChatRoomPublishCustomAction").inject((t=>{const[n,r,i]=t,s=e(n);s&&i.push({Tag:`MISSING TEXT IN "Interface.csv": ${n}`,Text:s})})).next()}(),function(){if(xh)return;xh=!0;const e=TextAllScreenCache.get(AssetStringsPath);e&&e.loaded&&("EN"===TranslationLanguage||"Bloated"!==e.get("Bloated"))&&Rh(),Ut.progressiveHook("AssetBuildDescription").next().inject(Rh),Ut.progressiveHook("TranslationAssetProcess").next().inject(Rh),Lh("CustomDialogInject",(()=>{}),(e=>Ut.patchFunction("ChatRoomPublishAction",{"\t\tdictionary.focusGroup(C.FocusGroup.Name);\n\t}":`\t\tdictionary.focusGroup(C.FocusGroup.Name);\n\t}\n\t${e.globalFuncName}(dictionary, PrevItem, NextItem);\n`}))).register(((e,t,n,r)=>{for(const[e,i]of[["PrevAsset",n],["NextAsset",r]])Gp(i)&&t.text(e,i.Craft?`${i.Craft.Name} (${i.Asset.Description})`:i.Asset.Description)}))}(),Lh("LayerNameInject",(()=>{}),(e=>Ut.patchFunction("ItemColorLoad",{"ItemColorGroupNames = new TextCache(`Assets/${c.AssetFamily}/ColorGroups.csv`);":`ItemColorGroupNames = new TextCache(\`Assets/\${c.AssetFamily}/ColorGroups.csv\`);${e.globalFuncName}(()=>ItemColorLayerNames, ()=>ItemColorGroupNames);`}))).register(((e,t,n)=>{Gh=t,Fh=n})),Ut.hookFunction("ItemColorLoad",0,((e,t)=>{const n=t(e),r=Gh?.();var i;r&&r.cache&&(i=r,Th.forEach(((e,t)=>{i.cache[t]&&e.noOverride||(i.cache[t]=zp(e.desc,e.fallback))})));const s=Fh?.();return s&&s.cache&&function(e){$h.forEach(((t,n)=>{e.cache[n]&&t.noOverride||(e.cache[n]=zp(t.desc,t.fallback))}))}(s),n})),function(){let e=!1;Ut.progressiveHook("DialogInventoryBuild").inject((t=>{t[2]||(e="permissions"!==DialogMenuMode)}));const t=(e,t,n)=>{const r=Sp[n];return!!r&&Ut.invokeOriginal("InventoryAvailable",e,t,r)};Ut.hookFunction("DialogInventoryAdd",10,((n,r)=>{const i=r(n);if(!e)return i;e=!1;const s=n[1].Asset.Group.Name,a=new Set(DialogInventory.map((e=>e.Asset.Name))),o=Op[s];return o?(Object.entries(o).filter((([e])=>!a.has(e))).filter((([e,r])=>r.Value>=0||t(n[0],e,s))).forEach((([e,t])=>DialogInventoryAdd(n[0],{Asset:t},!1))),i):i}));const n=[Ut.insideFlag("CharacterAppearanceValidate"),Ut.insideFlag("CraftingItemListBuild"),Ut.insideFlag("WardrobeFastLoad"),Ut.insideFlag("CraftingValidate")];Ut.hookFunction("InventoryAvailable",0,((...[e,r])=>n.some((e=>e.inside))&&!(!function(e,t){const n=xp(e,t);return!!n&&n.Value>=0}(e[2],e[1])&&!t(...e))||r(e)))}(),e(),function(e={start:"Start loading",end:"Loading completed, time usage: "}){const t=async()=>{qh.info(e.start);const t=Date.now();for(function(){for(;Yh.length>0;)Yh.shift()()}(),Xh=!0,function(){for(;Kh.length>0;)Kh.shift()()}(),Jh=!0,AssetGroup.forEach((e=>function(e){if(em[e.Name])for(;em[e.Name].length>0;)em[e.Name].shift()(e)}(e))),AssetGroup.forEach((e=>function(e){if(tm[e.Name])for(;tm[e.Name].length>0;)tm[e.Name].shift()(e)}(e))),CraftingAssets=CraftingAssetsPopulate(),rm=!0;im.length>0;)im.shift()();const n=Date.now();qh.info(`${e.end} ${n-t}ms`)};AssetGroup.length>50?t():Ut.progressiveHook("AssetLoadAll",1).next().inject((()=>t()))}()}enableValidation(e){!function(e){hm=e,mm||(mm=!0,Ut.hookFunction("ValidationResolveRemoveDiff",1,((e,t)=>{const[n,r]=e;return!r.fromModUser&&xp(n.Asset.Group.Name,n.Asset.Name)?{item:n,valid:!1}:t(e)})),Ut.hookFunction("ValidationResolveSwapDiff",1,((e,t)=>{const[n,r,i]=e;return!i.fromModUser&&xp(n.Asset.Group.Name,n.Asset.Name)?{item:n,valid:!1}:t(e)})),Ut.hookFunction("ValidationResolveAppearanceDiff",1,((e,t)=>(hm&&(e[3].fromModUser=hm(e[3])),t(e)))))}(e)}setLogger(e){!function(e){zh=e}(e)}typeBodyGroupNames(){return this}},Am={Name:"Stroller",Random:!1,Left:0,Top:0,Priority:40,Fetish:["ABDL"],Category:["ABDL"],DefaultColor:["#676285"],SetPose:[...PoseAllKneeling],AllowActivePose:[...PoseAllKneeling],Difficulty:8,RemoveTime:15,AllowLock:!0,AllowTighten:!0,Effect:[E.Freeze,E.Leash],AllowEffect:[E.Leash,E.IsLeashed],OverrideHeight:{Height:-100,Priority:51,HeightRatioProportion:0},ParentGroup:{},Layer:[{Priority:3,Name:"Outline"}]},Cm={EN:"Stroller (DO NOT USE PLZZZ)",RU:"Стрелка",CN:"婴儿推车"};const Sm={AllowColorize:!0,AllowTypes:null,Alpha:[],BlendingMode:"source-over",ColorSuffix:{},CreateLayerTypes:[],ColorGroup:null,CopyLayerColor:null,FixedPosition:!1,MirrorExpression:void 0,HasImage:!0,HideAs:void 0,HideColoring:!1,HideForAttribute:null,InheritColor:null,LockLayer:!1,ShowForAttribute:null,TextureMask:void 0,Visibility:null,ParentGroup:{},PoseMapping:{},Priority:24,Opacity:0,MaxOpacity:1,MinOpacity:0,Name:null,Asset:void 0,DrawingLeft:{"":0},DrawingTop:{"":0},ColorIndex:0};const Pm={AllowColorize:!0,AllowTypes:null,Alpha:[],BlendingMode:"source-over",ColorSuffix:{},CreateLayerTypes:[],ColorGroup:null,CopyLayerColor:null,FixedPosition:!1,MirrorExpression:void 0,HasImage:!0,HideAs:void 0,HideColoring:!1,HideForAttribute:null,InheritColor:null,LockLayer:!1,ShowForAttribute:null,TextureMask:void 0,Visibility:null,ParentGroup:{},PoseMapping:{},Priority:24,Opacity:0,MaxOpacity:1,MinOpacity:0,Name:null,Asset:void 0,DrawingLeft:{"":0},DrawingTop:{"":0},ColorIndex:0},Em=(e,t,n=!1)=>{const r={};return r[`Assets/Female3DCG/${t}/${e}_Small_Gradient.png`]=`https://zoe-64.github.io/ABCL/versions/2.3.4/assets/items/diaper/${e}${n?"_echo":""}/small.png`,r[`Assets/Female3DCG/${t}/${e}_Normal_Gradient.png`]=`https://zoe-64.github.io/ABCL/versions/2.3.4/assets/items/diaper/${e}${n?"_echo":""}/normal.png`,r[`Assets/Female3DCG/${t}/${e}_Large_Gradient.png`]=`https://zoe-64.github.io/ABCL/versions/2.3.4/assets/items/diaper/${e}${n?"_echo":""}/large.png`,r[`Assets/Female3DCG/${t}/${e}_XLarge_Gradient.png`]=`https://zoe-64.github.io/ABCL/versions/2.3.4/assets/items/diaper/${e}${n?"_echo":""}/xlarge.png`,r};function Lm(){const e=Boolean(globalThis?.__BC_LUZI_GLOBALS__?.["OnceFlag.服装拓展"]);_m.addImageMapping({...Em("Diapers1","Override/EchoV2/Panties",!0),...Em("Diapers2","Override/EchoV2/Panties",!0),...Em("Diapers3","Override/EchoV2/Panties",!0),...Em("Diapers4","Override/EchoV2/Panties",!0),...Em("Diapers1","Panties",e),...Em("Diapers2","Panties",e),...Em("Diapers3","Panties",e),...Em("Diapers4","Panties",e),...Em("LatexDiaper","Panties",e),"Assets/Female3DCG/Panties/BulkyDiaper_Back_Gradient.png":"https://zoe-64.github.io/ABCL/versions/2.3.4/assets/BulkyDiaper/back.png",...Em("BulkyDiaper","Panties",e),...Em("PoofyDiaper","Panties",e),...Em("LatexDiaper","ItemPelvis",e),"Assets/Female3DCG/ItemPelvis/BulkyDiaper_Back_Gradient.png":"https://zoe-64.github.io/ABCL/versions/2.3.4/assets/BulkyDiaper/back.png",...Em("BulkyDiaper","ItemPelvis",e),"Assets/Female3DCG/ItemPelvis/PoofyDiaper_Back_Gradient.png":"https://zoe-64.github.io/ABCL/versions/2.3.4/assets/PoofyDiaper/back.png",...Em("PoofyDiaper","ItemPelvis",e)}),_m.addLayerNamesRaw("Panties","Diapers1",{EN:{"":"Diaper",Gradient:"Wet stains"}}),_m.addLayerNamesRaw("Panties","Diapers3",{EN:{"":"Diaper",Gradient:"Wet stains"}}),_m.addLayerNamesRaw("Panties","Diapers2",{EN:{Gradient:"Wet stains"}}),_m.addLayerNamesRaw("Panties","Diapers4",{EN:{Gradient:"Wet stains"}}),_m.addLayerNamesRaw("Panties","LatexDiaper",{EN:{Gradient:"Wet stains"}}),_m.addLayerNamesRaw("Panties","BulkyDiaper",{EN:{Gradient:"Wet stains"}}),_m.addLayerNamesRaw("Panties","PoofyDiaper",{EN:{Gradient:"Wet stains"}}),_m.addLayerNamesRaw("ItemPelvis","LatexDiaper",{EN:{Gradient:"Wet stains"}}),_m.addLayerNamesRaw("ItemPelvis","BulkyDiaper",{EN:{Gradient:"Wet stains"}}),_m.addLayerNamesRaw("ItemPelvis","PoofyDiaper",{EN:{Gradient:"Wet stains"}}),_m.modifyAsset("Panties","Diapers1",((e,t)=>{t.DefaultColor=["#817884","#a88800"],t.ColorableLayerCount=2,t.EditOpacity=!0,t.Layer.push({...Pm,ParentGroup:{"":"BodyLower"},Priority:24,Opacity:0,Name:"Gradient",ColorIndex:1,DrawingLeft:{"":150},DrawingTop:{"":395},Asset:AssetGet("Female3DCG","Panties","Diapers1")})})),_m.modifyAsset("Panties","Diapers1",((e,t)=>{t.DefaultColor=["#817884","#a88800"],t.ColorableLayerCount=2,t.EditOpacity=!0,t.Layer.push({...Pm,ParentGroup:{"":"BodyLower"},Priority:24,Opacity:0,Name:"Gradient",ColorIndex:1,DrawingLeft:{"":150},DrawingTop:{"":395},Asset:AssetGet("Female3DCG","Panties","Diapers1")})})),_m.modifyAsset("Panties","Diapers2",((e,t)=>{t.DefaultColor=["#817884","#808080","#a88800"],t.ColorableLayerCount=3,t.EditOpacity=!0,t.Layer.push({...Pm,ParentGroup:{"":"BodyLower"},Priority:24,Opacity:0,Name:"Gradient",ColorIndex:2,DrawingLeft:{"":150},DrawingTop:{"":395},Asset:AssetGet("Female3DCG","Panties","Diapers2")})})),_m.modifyAsset("Panties","Diapers3",((e,t)=>{t.DefaultColor=["#89798C","#7E6E28"],t.ColorableLayerCount=2,t.EditOpacity=!0,t.Layer.push({...Pm,ParentGroup:{"":"BodyLower"},Priority:24,Opacity:0,Name:"Gradient",ColorIndex:1,DrawingLeft:{"":150},DrawingTop:{"":395},Asset:AssetGet("Female3DCG","Panties","Diapers3")})})),_m.modifyAsset("Panties","Diapers4",((e,t)=>{t.DefaultColor=["#847786","#787C8A","#F56363","#a88800"],t.ColorableLayerCount=4,t.EditOpacity=!0,t.Layer.push({...Pm,ParentGroup:{"":"BodyLower"},Priority:24,Opacity:0,Name:"Gradient",ColorIndex:3,DrawingLeft:{"":150},DrawingTop:{"":395},Asset:AssetGet("Female3DCG","Panties","Diapers4")})})),_m.modifyAsset("Panties","LatexDiaper",((e,t)=>{t.DefaultColor=["#9763A6","#658AA6","#a88800"],t.ColorableLayerCount=3,t.EditOpacity=!0,t.Layer.push({...Pm,ParentGroup:{"":"BodyLower"},Priority:26,Opacity:0,Name:"Gradient",ColorIndex:2,DrawingLeft:{"":49},DrawingTop:{"":360},Asset:AssetGet("Female3DCG","Panties","LatexDiaper")})})),_m.modifyAsset("ItemPelvis","LatexDiaper",((e,t)=>{t.DefaultColor=["#9763A6","#658AA6","#a88800"],t.ColorableLayerCount=3,t.EditOpacity=!0,t.Layer.push({...Pm,ParentGroup:{"":"BodyLower"},Priority:26,Opacity:0,Name:"Gradient",ColorIndex:2,DrawingLeft:{"":49},DrawingTop:{"":360},Asset:AssetGet("Female3DCG","ItemPelvis","LatexDiaper")})})),_m.modifyAsset("Panties","BulkyDiaper",((e,t)=>{t.DefaultColor=["#688599","#808080","#8c7384","#BF3F97","#a88800"],t.ColorableLayerCount=5,t.EditOpacity=!0,t.Layer.push({...Pm,ParentGroup:{"":"BodyLower"},Priority:26,Opacity:0,Name:"Gradient",ColorIndex:4,DrawingLeft:{"":49},DrawingTop:{"":360},Asset:AssetGet("Female3DCG","Panties","BulkyDiaper")})})),_m.modifyAsset("ItemPelvis","BulkyDiaper",((e,t)=>{t.DefaultColor=["#688599","#808080","#8c7384","#BF3F97","#a88800"],t.ColorableLayerCount=5,t.EditOpacity=!0,t.Layer.push({...Pm,ParentGroup:{"":"BodyLower"},Priority:26,Opacity:0,Name:"Gradient",ColorIndex:4,DrawingLeft:{"":49},DrawingTop:{"":360},Asset:AssetGet("Female3DCG","ItemPelvis","BulkyDiaper")})})),_m.modifyAsset("Panties","PoofyDiaper",((e,t)=>{t.DefaultColor=["#9763A6","#658AA6","#997391","#a916cc","#a88800"],t.ColorableLayerCount=5,t.EditOpacity=!0,t.Layer.push({...Pm,ParentGroup:{"":"BodyLower"},Priority:26,Opacity:0,Name:"Gradient",ColorIndex:4,DrawingLeft:{"":49},DrawingTop:{"":360},Asset:AssetGet("Female3DCG","Panties","PoofyDiaper")})})),_m.modifyAsset("ItemPelvis","PoofyDiaper",((e,t)=>{t.DefaultColor=["#9763A6","#658AA6","#997391","#a916cc","#a88800"],t.ColorableLayerCount=5,t.EditOpacity=!0,t.Layer.push({...Pm,ParentGroup:{"":"BodyLower"},Priority:26,Opacity:0,Name:"Gradient",ColorIndex:4,DrawingLeft:{"":49},DrawingTop:{"":360},Asset:AssetGet("Female3DCG","ItemPelvis","PoofyDiaper")})})),e&&(_m.addImageMapping({"Assets/Female3DCG/Panties_笨笨蛋Luzi/Diapers1_Small_Gradient.png":"https://zoe-64.github.io/ABCL/versions/2.3.4/assets/items/diaper/Diapers1_echo/small.png","Assets/Female3DCG/Panties_笨笨蛋Luzi/Diapers1_Normal_Gradient.png":"https://zoe-64.github.io/ABCL/versions/2.3.4/assets/items/diaper/Diapers1_echo//normal.png","Assets/Female3DCG/Panties_笨笨蛋Luzi/Diapers1_Large_Gradient.png":"https://zoe-64.github.io/ABCL/versions/2.3.4/assets/items/diaper/Diapers1_echo//large.png","Assets/Female3DCG/Panties_笨笨蛋Luzi/Diapers1_XLarge_Gradient.png":"https://zoe-64.github.io/ABCL/versions/2.3.4/assets/items/diaper/Diapers1_echo//xlarge.png","Assets/Female3DCG/Panties_笨笨蛋Luzi/Diapers2_Small_Gradient.png":"https://zoe-64.github.io/ABCL/versions/2.3.4/assets/items/diaper/Diapers1_echo//small.png","Assets/Female3DCG/Panties_笨笨蛋Luzi/Diapers2_Normal_Gradient.png":"https://zoe-64.github.io/ABCL/versions/2.3.4/assets/items/diaper/Diapers1_echo//normal.png","Assets/Female3DCG/Panties_笨笨蛋Luzi/Diapers2_Large_Gradient.png":"https://zoe-64.github.io/ABCL/versions/2.3.4/assets/items/diaper/Diapers1_echo//large.png","Assets/Female3DCG/Panties_笨笨蛋Luzi/Diapers2_XLarge_Gradient.png":"https://zoe-64.github.io/ABCL/versions/2.3.4/assets/items/diaper/Diapers1_echo//xlarge.png","Assets/Female3DCG/Panties_笨笨蛋Luzi/Diapers3_Small_Gradient.png":"https://zoe-64.github.io/ABCL/versions/2.3.4/assets/items/diaper/Diapers3_echo//small.png","Assets/Female3DCG/Panties_笨笨蛋Luzi/Diapers3_Normal_Gradient.png":"https://zoe-64.github.io/ABCL/versions/2.3.4/assets/items/diaper/Diapers3_echo//normal.png","Assets/Female3DCG/Panties_笨笨蛋Luzi/Diapers3_Large_Gradient.png":"https://zoe-64.github.io/ABCL/versions/2.3.4/assets/items/diaper/Diapers3_echo//large.png","Assets/Female3DCG/Panties_笨笨蛋Luzi/Diapers3_XLarge_Gradient.png":"https://zoe-64.github.io/ABCL/versions/2.3.4/assets/items/diaper/Diapers3_echo//xlarge.png","Assets/Female3DCG/Panties_笨笨蛋Luzi/Diapers4_Small_Gradient.png":"https://zoe-64.github.io/ABCL/versions/2.3.4/assets/items/diaper/Diapers4_echo//small.png","Assets/Female3DCG/Panties_笨笨蛋Luzi/Diapers4_Normal_Gradient.png":"https://zoe-64.github.io/ABCL/versions/2.3.4/assets/items/diaper/Diapers4_echo//normal.png","Assets/Female3DCG/Panties_笨笨蛋Luzi/Diapers4_Large_Gradient.png":"https://zoe-64.github.io/ABCL/versions/2.3.4/assets/items/diaper/Diapers4_echo//large.png","Assets/Female3DCG/Panties_笨笨蛋Luzi/Diapers4_XLarge_Gradient.png":"https://zoe-64.github.io/ABCL/versions/2.3.4/assets/items/diaper/Diapers4_echo//xlarge.png"}),_m.addLayerNamesRaw("Panties_笨笨蛋Luzi","Diapers1",{EN:{"":"Diaper",Gradient:"Wet stains"}}),_m.addLayerNamesRaw("Panties_笨笨蛋Luzi","Diapers3",{EN:{"":"Diaper",Gradient:"Wet stains"}}),_m.addLayerNamesRaw("Panties_笨笨蛋Luzi","Diapers2",{EN:{Gradient:"Wet stains"}}),_m.addLayerNamesRaw("Panties_笨笨蛋Luzi","Diapers4",{EN:{Gradient:"Wet stains"}}),_m.addLayerNamesRaw("Panties_笨笨蛋Luzi","LatexDiaper",{EN:{Gradient:"Wet stains"}}),_m.addLayerNamesRaw("Panties_笨笨蛋Luzi","BulkyDiaper",{EN:{Gradient:"Wet stains"}}),_m.addLayerNamesRaw("Panties_笨笨蛋Luzi","PoofyDiaper",{EN:{Gradient:"Wet stains"}}),_m.modifyAsset("Panties_笨笨蛋Luzi","Diapers1",((e,t)=>{t.DefaultColor=["#817884","#a88800"],t.ColorableLayerCount=2,t.EditOpacity=!0,t.Layer.push({...Sm,ParentGroup:{"":"BodyLower"},Priority:24,Opacity:0,Name:"Gradient",ColorIndex:1,DrawingLeft:{"":150},DrawingTop:{"":395},Asset:AssetGet("Female3DCG","Panties_笨笨蛋Luzi","Diapers1")})})),_m.modifyAsset("Panties_笨笨蛋Luzi","Diapers2",((e,t)=>{t.DefaultColor=["#817884","#808080","#a88800"],t.ColorableLayerCount=3,t.EditOpacity=!0,t.Layer.push({...Sm,ParentGroup:{"":"BodyLower"},Priority:24,Opacity:0,Name:"Gradient",ColorIndex:2,DrawingLeft:{"":150},DrawingTop:{"":395},Asset:AssetGet("Female3DCG","Panties_笨笨蛋Luzi","Diapers2")})})),_m.modifyAsset("Panties_笨笨蛋Luzi","Diapers3",((e,t)=>{t.DefaultColor=["#89798C","#7E6E28"],t.ColorableLayerCount=2,t.EditOpacity=!0,t.Layer.push({...Sm,ParentGroup:{"":"BodyLower"},Priority:24,Opacity:0,Name:"Gradient",ColorIndex:1,DrawingLeft:{"":150},DrawingTop:{"":395},Asset:AssetGet("Female3DCG","Panties_笨笨蛋Luzi","Diapers3")})})),_m.modifyAsset("Panties_笨笨蛋Luzi","Diapers4",((e,t)=>{t.DefaultColor=["#847786","#787C8A","#F56363","#a88800"],t.ColorableLayerCount=4,t.EditOpacity=!0,t.Layer.push({...Sm,ParentGroup:{"":"BodyLower"},Priority:24,Opacity:0,Name:"Gradient",ColorIndex:3,DrawingLeft:{"":150},DrawingTop:{"":395},Asset:AssetGet("Female3DCG","Panties_笨笨蛋Luzi","Diapers4")})})),_m.modifyAsset("Panties_笨笨蛋Luzi","LatexDiaper",((e,t)=>{t.DefaultColor=["#9763A6","#658AA6","#a88800"],t.ColorableLayerCount=3,t.EditOpacity=!0,t.Layer.push({...Sm,ParentGroup:{"":"BodyLower"},Priority:26,Opacity:0,Name:"Gradient",ColorIndex:2,DrawingLeft:{"":49},DrawingTop:{"":360},Asset:AssetGet("Female3DCG","Panties_笨笨蛋Luzi","LatexDiaper")})})),_m.modifyAsset("Panties_笨笨蛋Luzi","BulkyDiaper",((e,t)=>{t.DefaultColor=["#688599","#808080","#8c7384","#BF3F97","#a88800"],t.ColorableLayerCount=5,t.EditOpacity=!0,t.Layer.push({...Sm,ParentGroup:{"":"BodyLower"},Priority:26,Opacity:0,Name:"Gradient",ColorIndex:4,DrawingLeft:{"":49},DrawingTop:{"":360},Asset:AssetGet("Female3DCG","Panties_笨笨蛋Luzi","BulkyDiaper")})})))}Ut.afterPlayerLogin((()=>{const e=Boolean(globalThis?.__BC_LUZI_GLOBALS__?.["OnceFlag.服装拓展"]);_m.addImageMapping({...Em("Diapers1","Override/EchoV2/Panties",!0),...Em("Diapers2","Override/EchoV2/Panties",!0),...Em("Diapers3","Override/EchoV2/Panties",!0),...Em("Diapers4","Override/EchoV2/Panties",!0),...Em("Diapers1","Panties",e),...Em("Diapers2","Panties",e),...Em("Diapers3","Panties",e),...Em("Diapers4","Panties",e),...Em("LatexDiaper","Panties",e),"Assets/Female3DCG/Panties/BulkyDiaper_Back_Gradient.png":"https://zoe-64.github.io/ABCL/versions/2.3.4/assets/BulkyDiaper/back.png",...Em("BulkyDiaper","Panties",e),...Em("PoofyDiaper","Panties",e),...Em("LatexDiaper","ItemPelvis",e),"Assets/Female3DCG/ItemPelvis/BulkyDiaper_Back_Gradient.png":"https://zoe-64.github.io/ABCL/versions/2.3.4/assets/BulkyDiaper/back.png",...Em("BulkyDiaper","ItemPelvis",e),"Assets/Female3DCG/ItemPelvis/PoofyDiaper_Back_Gradient.png":"https://zoe-64.github.io/ABCL/versions/2.3.4/assets/PoofyDiaper/back.png",...Em("PoofyDiaper","ItemPelvis",e)})}));_m.init((()=>{Lm(),_m.addImageMapping({"Assets/Female3DCG/ItemDevices/Stroller_Outline.png":"https://zoe-64.github.io/ABCL/versions/2.3.4/assets/items/other/stroller/Stroller_Outline.png","Assets/Female3DCG/ItemDevices/Preview/Stroller.png":"https://zoe-64.github.io/ABCL/versions/2.3.4/assets/items/other/stroller/Stroller_Outline.png"}),_m.addAsset("ItemDevices",Am,void 0,Cm)}));const wm=()=>{"ChatRoom"===CurrentScreen&&Mn.update()};Ut.afterPlayerLogin((async()=>{(async()=>{const t=LZString.decompressFromBase64(Player.ExtensionSettings.ABCL),n=t?JSON.parse(t):{Settings:{},Stats:{},SettingPermissions:{}};if("2.0.0"===n.ModVersion){const e=n.Settings.Metabolism,t=n.Settings.DisableWetting;n.Settings={...Object.fromEntries(Object.entries(n.Settings).filter((([e])=>!["DisableWetting","DisableSoiling","Metabolism","CaregiverIDs"].includes(e))).map((([e,{value:t}])=>[e,t]))),PeeMetabolism:t?"Disabled":e,PoopMetabolism:t?"Disabled":e},n.ModVersion=void 0,n.Version="2.0.1"}const r=wt({Settings:It,Stats:kt,SettingPermissions:Nt,Version:"2.3.0"},n);e.debug({message:"Merged settings object",modStorageObject:r}),Player.ABCL=r})(),mp(),Ut.hookFunction("DialogMenuMapping.activities.GetClickStatus",1,((e,t)=>{const[n,r,i]=e;return r?t(e):null})),Ut.hookFunction("DialogChangeMode",1,(async(e,t)=>{const[n]=e;if(t(e),"activities"!==n)return;const r=CurrentCharacter?.FocusGroup?CurrentCharacter:Player,i=await Kt("#dialog-activity-grid"),s=r.FocusGroup?.Name;if(s)for(const{activity:e}of Ur){if(!e)continue;const t=new Vr(e.ID,e.Name,e.Image,e.OnClick,e.Target,e.TargetSelf,e.Criteria);t.fitsCriteria(r,s)&&(Vr.isInserted(e.ID)||i.appendChild(t.createButton()))}})),CommandCombine(Hr),vp(),_n(new Cn),_n(new Sn),_n(new bn("Wetting")),_n(new bn("Messes")),document.body.appendChild(sn),Kt("#chat-room-div",{childCheck:!0,timeout:1e22}).then((()=>{Kt(".ABCL-overlay",{timeout:1e22}).then((()=>{document.removeChild(sn),setTimeout((()=>{document.appendChild(sn)}),1e3)}))})),window.ABCL={version:"2.3.0",inModSubscreen:fp,isABCLPlayer:cn,wet:Mn.wet,attemptWetting:Mn.attemptWetting,soil:Mn.soil,attemptSoiling:Mn.attemptSoiling,settings:Player.ABCL.Settings,stats:Mn.stats,actions:{changeDiaper:rr,checkDiaper:ar,diaperFaceRub:()=>gp("diaperFaceRub",void 0,Player.MemberNumber),diaperFaceSit:()=>gp("diaperFaceSit",void 0,Player.MemberNumber),diaperPatBack:()=>gp("diaperPatBack",void 0,Player.MemberNumber),diaperPatFront:()=>gp("diaperPatFront",void 0,Player.MemberNumber),diaperPeeOthersDiaper:()=>gp("diaperPeeOthersDiaper",void 0,Player.MemberNumber),diaperPour:()=>gp("diaperPour",void 0,Player.MemberNumber),diaperRubBack:()=>gp("diaperRubBack",void 0,Player.MemberNumber),diaperRubFront:()=>gp("diaperRubFront",void 0,Player.MemberNumber),diaperSquishBack:()=>gp("diaperSquishBack",void 0,Player.MemberNumber),diaperSquishFront:()=>gp("diaperSquishFront",void 0,Player.MemberNumber),wipePuddle:()=>gp("wipePuddle",void 0,Player.MemberNumber),lickPuddle:()=>gp("lickPuddle",void 0,Player.MemberNumber),sendABCLmessage:(e,t)=>gp("onABCLMessage",{message:e,local:t},Player.MemberNumber),useToilet:()=>$r(),usePotty:()=>xr(),get canUseToilet(){return Gr.activity?.Criteria?.(Player)},get canUsePotty(){return Tr.activity?.Criteria?.(Player)},get canChangeDiaper(){return sr.activity?.Criteria?.(Player)},get canCheckDiaper(){return or.activity?.Criteria?.(Player)}},raw:{sendStatusMessage:hn,sendABCLAction:mn,updatePlayerClothes:wn,queueUpdatePlayerClothes:In,sendUpdateMyData:yp,sendDataToAction:gp,mentalRegressionBonus:Jn,mentalRegressionOvertime:Qn,mentalRegressionOnAccident:tr,incontinenceOnAccident:er,incontinenceChanceFormula:Kn,incontinenceLimitFormula:Zn,updateDiaperColor:Wn,getPlayerDiaperSize:qn,getPlayerDiaper:Yn,getDiaperVerb:nr,setDiaperColor:Hn,isOwned:Rn,isDiaperLocked:Vn,isDiaperDirty:Tn,isDiaper:$n,isABCLPlayer:cn,isLeaking:xn,isWearingBabyClothes:Fn,hasDiaper:Gn,utility:{getCharacter:on,mixLevels:jn,averageColor:zn,getCharacterName:un,replace_template:pn,isColorable:en,getColor:tn,getElement:nn},clearData:Ot,updateData:Mt,incontinenceCheckThrottle:On}},setInterval(wm,6e4),e.info("Ready.")}))}();
//# sourceMappingURL=abcl.js.map
